(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function F(){}function Rl(l,e){for(const t in e)l[t]=e[t];return l}function At(l){return l()}function Et(){return Object.create(null)}function Ve(l){l.forEach(At)}function He(l){return typeof l=="function"}function Ee(l,e){return l!=l?e==e:l!==e||l&&typeof l=="object"||typeof l=="function"}let ut;function Fe(l,e){return ut||(ut=document.createElement("a")),ut.href=e,l===ut.href}function yl(l){return Object.keys(l).length===0}function Nl(l,...e){if(l==null)return F;const t=l.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function st(l,e,t){l.$$.on_destroy.push(Nl(e,t))}function Ul(l,e,t,n){if(l){const i=vl(l,e,t,n);return l[0](i)}}function vl(l,e,t,n){return l[1]&&n?Rl(t.ctx.slice(),l[1](n(e))):t.ctx}function Hl(l,e,t,n){if(l[2]&&n){const i=l[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let r=0;r<s;r+=1)o[r]=e.dirty[r]|i[r];return o}return e.dirty|i}return e.dirty}function jl(l,e,t,n,i,o){if(i){const s=vl(e,t,n,o);l.p(s,i)}}function Gl(l){if(l.ctx.length>32){const e=[],t=l.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function zl(l,e,t){return l.set(t),e}function ql(l){return l&&He(l.destroy)?l.destroy:F}function m(l,e){l.appendChild(e)}function E(l,e,t){l.insertBefore(e,t||null)}function D(l){l.parentNode&&l.parentNode.removeChild(l)}function $e(l,e){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(e)}function _(l){return document.createElement(l)}function te(l){return document.createTextNode(l)}function M(){return te(" ")}function Be(){return te("")}function Q(l,e,t,n){return l.addEventListener(e,t,n),()=>l.removeEventListener(e,t,n)}function k(l,e,t){t==null?l.removeAttribute(e):l.getAttribute(e)!==t&&l.setAttribute(e,t)}function O(l,e,t){e in l?l[e]=typeof l[e]=="boolean"&&t===""?!0:t:k(l,e,t)}function Kl(l){return Array.from(l.childNodes)}function _e(l,e){e=""+e,l.wholeText!==e&&(l.data=e)}function se(l,e,t,n){t===null?l.style.removeProperty(e):l.style.setProperty(e,t,n?"important":"")}function Jl(l,e,{bubbles:t=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(l,t,n,e),i}function Wl(l){const e={};for(const t of l)e[t.name]=t.value;return e}let ot;function it(l){ot=l}function rt(){if(!ot)throw new Error("Function called outside component initialization");return ot}function Qe(l){rt().$$.on_mount.push(l)}function Yl(l){rt().$$.on_destroy.push(l)}function ze(){const l=rt();return(e,t,{cancelable:n=!1}={})=>{const i=l.$$.callbacks[e];if(i){const o=Jl(e,t,{cancelable:n});return i.slice().forEach(s=>{s.call(l,o)}),!o.defaultPrevented}return!0}}function Ql(l,e){return rt().$$.context.set(l,e),e}function pt(l){return rt().$$.context.get(l)}const nt=[],pe=[],ft=[],yt=[],Tl=Promise.resolve();let vt=!1;function Sl(){vt||(vt=!0,Tl.then(lt))}function Xl(){return Sl(),Tl}function Tt(l){ft.push(l)}function Je(l){yt.push(l)}const wt=new Set;let dt=0;function lt(){const l=ot;do{for(;dt<nt.length;){const e=nt[dt];dt++,it(e),Zl(e.$$)}for(it(null),nt.length=0,dt=0;pe.length;)pe.pop()();for(let e=0;e<ft.length;e+=1){const t=ft[e];wt.has(t)||(wt.add(t),t())}ft.length=0}while(nt.length);for(;yt.length;)yt.pop()();vt=!1,wt.clear(),it(l)}function Zl(l){if(l.fragment!==null){l.update(),Ve(l.before_update);const e=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,e),l.after_update.forEach(Tt)}}const mt=new Set;let xe;function Le(){xe={r:0,c:[],p:xe}}function Ie(){xe.r||Ve(xe.c),xe=xe.p}function G(l,e){l&&l.i&&(mt.delete(l),l.i(e))}function K(l,e,t,n){if(l&&l.o){if(mt.has(l))return;mt.add(l),xe.c.push(()=>{mt.delete(l),n&&(t&&l.d(1),n())}),l.o(e)}else n&&n()}function _t(l,e){l.d(1),e.delete(l.key)}function gt(l,e){K(l,1,1,()=>{e.delete(l.key)})}function Ze(l,e,t,n,i,o,s,r,a,c,u,d){let f=l.length,p=o.length,g=f;const h={};for(;g--;)h[l[g].key]=g;const b=[],A=new Map,S=new Map;for(g=p;g--;){const L=d(i,o,g),v=t(L);let y=s.get(v);y?n&&y.p(L,e):(y=c(v,L),y.c()),A.set(v,b[g]=y),v in h&&S.set(v,Math.abs(g-h[v]))}const w=new Set,P=new Set;function T(L){G(L,1),L.m(r,u),s.set(L.key,L),u=L.first,p--}for(;f&&p;){const L=b[p-1],v=l[f-1],y=L.key,V=v.key;L===v?(u=L.first,f--,p--):A.has(V)?!s.has(y)||w.has(y)?T(L):P.has(V)?f--:S.get(y)>S.get(V)?(P.add(y),T(L)):(w.add(V),f--):(a(v,s),f--)}for(;f--;){const L=l[f];A.has(L.key)||a(L,s)}for(;p;)T(b[p-1]);return b}function We(l,e,t,n){const i=l.$$.props[e];i!==void 0&&(l.$$.bound[i]=t,n===void 0&&t(l.$$.ctx[i]))}function ke(l){l&&l.c()}function he(l,e,t,n){const{fragment:i,after_update:o}=l.$$;i&&i.m(e,t),n||Tt(()=>{const s=l.$$.on_mount.map(At).filter(He);l.$$.on_destroy?l.$$.on_destroy.push(...s):Ve(s),l.$$.on_mount=[]}),o.forEach(Tt)}function ge(l,e){const t=l.$$;t.fragment!==null&&(Ve(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function xl(l,e){l.$$.dirty[0]===-1&&(nt.push(l),Sl(),l.$$.dirty.fill(0)),l.$$.dirty[e/31|0]|=1<<e%31}function Pe(l,e,t,n,i,o,s,r=[-1]){const a=ot;it(l);const c=l.$$={fragment:null,ctx:[],props:o,update:F,not_equal:i,bound:Et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Et(),dirty:r,skip_bound:!1,root:e.target||a.$$.root};s&&s(c.root);let u=!1;if(c.ctx=t?t(l,e.props||{},(d,f,...p)=>{const g=p.length?p[0]:f;return c.ctx&&i(c.ctx[d],c.ctx[d]=g)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](g),u&&xl(l,d)),f}):[],c.update(),u=!0,Ve(c.before_update),c.fragment=n?n(c.ctx):!1,e.target){if(e.hydrate){const d=Kl(e.target);c.fragment&&c.fragment.l(d),d.forEach(D)}else c.fragment&&c.fragment.c();e.intro&&G(l.$$.fragment),he(l,e.target,e.anchor,e.customElement),lt()}it(a)}let Al;typeof HTMLElement=="function"&&(Al=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:l}=this.$$;this.$$.on_disconnect=l.map(At).filter(He);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(l,e,t){this[l]=t}disconnectedCallback(){Ve(this.$$.on_disconnect)}$destroy(){ge(this,1),this.$destroy=F}$on(l,e){if(!He(e))return F;const t=this.$$.callbacks[l]||(this.$$.callbacks[l]=[]);return t.push(e),()=>{const n=t.indexOf(e);n!==-1&&t.splice(n,1)}}$set(l){this.$$set&&!yl(l)&&(this.$$.skip_bound=!0,this.$$set(l),this.$$.skip_bound=!1)}});class Oe{$destroy(){ge(this,1),this.$destroy=F}$on(e,t){if(!He(t))return F;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!yl(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const $l="modulepreload",en=function(l){return"https://cdn-v17-1.visual-paradigm.com/diagrams/js/audioPalatte/"+l},Dt={},le=function(e,t,n){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=en(o),o in Dt)return;Dt[o]=!0;const s=o.endsWith(".css"),r=s?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${r}`))return;const c=document.createElement("link");if(c.rel=s?"stylesheet":$l,s||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),s)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function tn(l){let e,t,n,i,o,s,r;return{c(){e=_("div"),t=_("mwc-textfield"),O(t,"class",n="main-search "+(l[1]==="dark"&&l[1])),O(t,"outlined",""),O(t,"placeholder",i="Search "+l[0]),O(t,"icon","search"),k(e,"class",o="search-box-main "+(l[2]==="textToSpeechPanel"?"hidden":""))},m(a,c){E(a,e,c),m(e,t),l[9](t),s||(r=Q(t,"input",l[4]),s=!0)},p(a,[c]){c&2&&n!==(n="main-search "+(a[1]==="dark"&&a[1]))&&O(t,"class",n),c&1&&i!==(i="Search "+a[0])&&O(t,"placeholder",i),c&4&&o!==(o="search-box-main "+(a[2]==="textToSpeechPanel"?"hidden":""))&&k(e,"class",o)},i:F,o:F,d(a){a&&D(e),l[9](null),s=!1,r()}}}function ln(l,e,t){le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-textfield-6fb8397b.js"),["assets/mwc-textfield-6fb8397b.js","assets/lit-element-82482f35.js","assets/mwc-textfield.css-7088463b.js","assets/mwc-line-ripple-directive-78fa91df.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/query-c429e280.js","assets/form-element-8d951ec1.js","assets/observer-256e3ff7.js","assets/state-bd87d4a2.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-menu-51fad5b3.js").then(b=>b.m),["assets/mwc-menu-51fad5b3.js","assets/lit-element-82482f35.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]);let{setSearchText:n}=e,{resetSearchResult:i}=e,{searchType:o}=e,{theme:s}=e,{resetElemValue:r=()=>p()}=e,{currentPanel:a}=e,{searchVideoFootage:c=null}=e,u,d="";const f=()=>{d=u.value,d===""&&p()},p=()=>{n(""),i(),t(3,u.value="",u)};window.addEventListener("keyup",function(b){b.key==="Enter"&&(n(d),a==="myVideoPanel"&&c&&c(1,d))});const g=()=>{if(u!=null&&u.shadowRoot){const A=u.shadowRoot.querySelector("label i.mdc-text-field__icon");A&&(A.style.color=s==="dark"?"#f1f1f1":"rgba(0, 0, 0, 0.54)")}else setTimeout(()=>{g()},100)};Qe(()=>{g()});function h(b){pe[b?"unshift":"push"](()=>{u=b,t(3,u)})}return l.$$set=b=>{"setSearchText"in b&&t(5,n=b.setSearchText),"resetSearchResult"in b&&t(6,i=b.resetSearchResult),"searchType"in b&&t(0,o=b.searchType),"theme"in b&&t(1,s=b.theme),"resetElemValue"in b&&t(7,r=b.resetElemValue),"currentPanel"in b&&t(2,a=b.currentPanel),"searchVideoFootage"in b&&t(8,c=b.searchVideoFootage)},l.$$.update=()=>{l.$$.dirty&2&&s&&g()},[o,s,a,u,f,n,i,r,c,h]}class El extends Oe{constructor(e){super(),Pe(this,e,ln,tn,Ee,{setSearchText:5,resetSearchResult:6,searchType:0,theme:1,resetElemValue:7,currentPanel:2,searchVideoFootage:8})}}const me={secondToHHmmss:function(l){let e=parseInt(l,10),t=Math.floor(e/3600),n=Math.floor(e/60)%60,i=e%60,o=Math.floor((l-e)*1e3),s=[t,n,i];return l<1&&s.push(o),s.map(r=>r<10?"0"+r:r).join(l<1?".":":")},timestampConverter:function(l){const e=new Date(l);return`${e.toDateString()}, ${e.getHours()}:${String(e.getMinutes()).padStart(2,"0")}`},fileSizeCalculator:function(l){let e=2;if(!+l)return"0 Bytes";const t=1024,n=e,i=["Bytes","KB","MB","GB","TB"],o=Math.floor(Math.log(l)/Math.log(t));return`${parseFloat((l/Math.pow(t,o)).toFixed(n))} ${i[o]}`},getAudioDuration:async function(e,t){const n=await fetch(`${t}/rest/diagrams/assets/${e}/meta`,{method:"GET",credentials:"include"}).then(i=>i.json());if(n)return n.duration},setLocalStorage:function(l,e,t){let n=e;t&&(n=JSON.stringify(e)),localStorage.setItem(l,n)},getLocalStorage:function(l){return localStorage.getItem(l)},removeLocalStorage:function(l){localStorage.removeItem(l)},getLoadingText:function(){let l=ve.LOADING_TEXT,e=Math.floor(Math.random()*l.length);return l[e]},objectArrayDataFilter:function(l,e){if(l)return l.filter(n=>n.type===e)},removeDuplicatesObject:function(l,e){return l.filter((t,n,i)=>n===i.findIndex(o=>o[e]===t[e]))},searchFromObjectArray:function(l,e){return l.filter(i=>{if(i.name!=null){const o=i.name.toString().toLowerCase(),s=e.toLowerCase();return o.includes(s)}})},createAssetFetchUrl:function(l){return`${ve.GLOBAL_ASSET_URL}/logicals?filter=${encodeURIComponent(JSON.stringify({parentId:l}))}`},createAssetFetchUrlWithId:function(l){const e=[`${ve.GLOBAL_ASSET_URL}/assets?filter=%7B%22logicalIds%22%3A%22`,"%22%7D&props=logicalIds,tags,kit,infoArtCounts,infoArtMinCount,infoArtMaxCount"];return e[0]+l+e[1]},ttsLangTagConverter:function(l){let e;return l==="en_us"?e="English (US)":l==="en_uk"?e="English (UK)":l==="zh_cn"?e="Chinese":l==="de"?e="German":l==="jp"&&(e="Japanese"),e},ttsGenderConverter:function(l){let e;return l==="f"?e="Female":l==="m"&&(e="Male"),e},countSentenceWords:function(l){return l===""?0:(l=l.trim(),l.split(/\s+/).length)}},ve={SPEAKERS_LOCAL_STORAGE_KEY:"recentSpeakers",LOADING_TEXT:["Loading...","Retrieving data...","Almost there...","This will just take a moment..."],ASSET_FILE_ID:{allMusic:"b2310578-0f0b-4f74-b5e7-3577683055d1",allMoodId:"05ff11ad-2dea-4a52-8cc2-7c2443161c4a",allGenreId:"e4d3a959-2b11-4abb-9651-eee574c87c20",allSoundEffectId:"08ac7f99-9ef3-4947-8ff1-b8bee358a0ab"},GLOBAL_ASSET_URL:"https://content-global.visual-paradigm.com/asset",STATIC_ASSET_BASE_URL:"https://static.visual-paradigm.com",AUDIO_TAB_LIST:[{title:"Music",value:"musicPanel"},{title:"Sound Effect",value:"soundEffectPanel"},{title:"My Audio",value:"myMusicPanel"},{title:"Text to Speech",value:"textToSpeechPanel"}],AUDIO_STRING_TABS:{musicPanel:"music",soundEffectPanel:"sound effect",myMusicPanel:"my audio",textToSpeechPanel:"dpeech"},VIDEO_TAB_LIST:[{name:"My Video",value:"myVideoPanel"}],TTS_DEMO_SPEECH:"Hi there! I hope you are having a great day!",TTS_GENDER_LIST:[{name:"Female",value:"f"},{name:"Male",value:"m"}],TTS_LANGUAGE_LIST:[{name:"English (US)",value:"en_us"},{name:"English (UK)",value:"en_uk"},{name:"Chinese",value:"zh_cn"},{name:"German",value:"de"},{name:"Japanese",value:"jp"}],OVER_TEXT_LIMIT_MSG:"Generating too much text may result in longer processing times. Please be patient, and consider breaking your text into smaller segments for quicker results."},tt=window.onlineClient.getAudioClient(),Dl=async(l,e,t)=>{if(!l||l.length===0)return;const n=[];for(let i=0;i<l.length;i++){let s=await(await fetch(`${e}rest/diagrams/assets/${l[i]}/diagram-refs`,{method:"GET",credentials:"include"})).json();if(s&&s.length>0){const r=s[0],{documentType:a,documentId:c}=r;let u;try{if(a==="webdiagram"){let f=await fetch(`${e}rest/diagrams/projects/${t}/diagrams/${c}/name`,{method:"GET",credentials:"include"});if(!f.ok)throw new Error(`Request failed ${f.status}`);u=await f.text()}else u=`${a} ${c}`;let d={audioName:"",diagramName:u};n.push(d)}catch(d){console.log(d)}}}return n};function Pt(l,e,t){const n=l.slice();return n[15]=e[t],n}function Lt(l){let e,t=l[4],n=[];for(let i=0;i<t.length;i+=1)n[i]=It(Pt(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Be()},m(i,o){for(let s=0;s<n.length;s+=1)n[s].m(i,o);E(i,e,o)},p(i,o){if(o&16){t=i[4];let s;for(s=0;s<t.length;s+=1){const r=Pt(i,t,s);n[s]?n[s].p(r,o):(n[s]=It(r),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){$e(n,i),i&&D(e)}}}function It(l){let e,t=l[15].name+"",n,i;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",i=l[15].value)},m(o,s){E(o,e,s),m(e,n)},p(o,s){s&16&&t!==(t=o[15].name+"")&&_e(n,t),s&16&&i!==(i=o[15].value)&&O(e,"value",i)},d(o){o&&D(e)}}}function nn(l){let e,t,n,i,o,s=l[4].length>0&&Lt(l);return{c(){e=_("div"),t=_("mwc-select"),s&&s.c(),O(t,"fixedmenuposition",!0),O(t,"outlined",""),O(t,"label",l[0]),O(t,"title",l[5]),k(e,"class",n="selection-main "+l[2]+" "+(l[1]==="dark"&&l[1]))},m(r,a){E(r,e,a),m(e,t),s&&s.m(t,null),l[13](t),i||(o=Q(t,"change",l[6]),i=!0)},p(r,[a]){r[4].length>0?s?s.p(r,a):(s=Lt(r),s.c(),s.m(t,null)):s&&(s.d(1),s=null),a&1&&O(t,"label",r[0]),a&32&&O(t,"title",r[5]),a&6&&n!==(n="selection-main "+r[2]+" "+(r[1]==="dark"&&r[1]))&&k(e,"class",n)},i:F,o:F,d(r){r&&D(e),s&&s.d(),l[13](null),i=!1,o()}}}function on(l,e,t){le(()=>import("./assets/mwc-select-42aecfa5.js"),["assets/mwc-select-42aecfa5.js","assets/lit-element-82482f35.js","assets/mwc-line-ripple-directive-78fa91df.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/query-c429e280.js","assets/mwc-menu-51fad5b3.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/state-bd87d4a2.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js","assets/mwc-icon-e194af94.js","assets/form-element-8d951ec1.js","assets/event-options-6accd613.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(S=>S.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{assetFolderId:n}=e,{elementId:i}=e,{selectHandler:o}=e,{defaultTitle:s}=e;const r=()=>{t(3,f.value="",f)};let{option:a}=e,{theme:c}=e,{styleType:u}=e,d=[],f,p,g;Qe(()=>{const S=()=>{f!=null&&f.anchorElement?t(3,f.anchorElement.style.height="40px",f):setTimeout(S,100)};S()});const h=()=>{o(f.value),t(12,p=f.value),t(5,g=f.selectedText)},b=async S=>{let w=[],P=me.createAssetFetchUrl(S),T=await fetch(P).then(v=>v.json());for(let v=0;v<T.length;v++){let y={name:T[v].name,value:T[v].id};w.push(y)}let L={name:a.all,value:a.id};w.sort((v,y)=>v.name.localeCompare(y.name)),w.unshift(L),t(4,d=w)};a.fetch?b(n):d=d;function A(S){pe[S?"unshift":"push"](()=>{f=S,t(3,f)})}return l.$$set=S=>{"assetFolderId"in S&&t(7,n=S.assetFolderId),"elementId"in S&&t(8,i=S.elementId),"selectHandler"in S&&t(9,o=S.selectHandler),"defaultTitle"in S&&t(0,s=S.defaultTitle),"option"in S&&t(11,a=S.option),"theme"in S&&t(1,c=S.theme),"styleType"in S&&t(2,u=S.styleType)},l.$$.update=()=>{l.$$.dirty&4104&&p&&(f.anchorElement.getElementsByTagName("mwc-notched-outline")[0].getElementsByTagName("span")[0].style.marginTop="8px")},[s,c,u,f,d,g,h,n,i,o,r,a,p,A]}class St extends Oe{constructor(e){super(),Pe(this,e,on,nn,Ee,{assetFolderId:7,elementId:8,selectHandler:9,defaultTitle:0,listReset:10,option:11,theme:1,styleType:2})}get listReset(){return this.$$.ctx[10]}}function Ot(l){let e,t,n;return{c(){e=_("mwc-list-item"),e.textContent="Set as Background Music"},m(i,o){E(i,e,o),t||(n=Q(e,"click",l[24]),t=!0)},p:F,d(i){i&&D(e),t=!1,n()}}}function sn(l){let e,t,n,i,o,s,r,a,c=(l[0].type==="audio"?l[3]:"mic")+"",u,d,f,p,g,h=l[4](l[0].name)+"",b,A,S,w,P=l[16](l[0])+"",T,L,v,y,V,U,B,z,j,R,ee=l[0].type==="audio"?"Name":"Speech",N,ie,ne,Z,x=l[15](l[0])+"",$,ae,Y,re,H,X,ue,C=l[12]&&Ot(l);return{c(){e=_("ul"),t=_("li"),n=_("mwc-checkbox"),s=M(),r=_("span"),a=_("mwc-icon"),u=te(c),f=M(),p=_("div"),g=_("span"),b=te(h),S=M(),w=_("span"),T=te(P),L=M(),v=_("mwc-icon"),v.textContent="play_arrow",y=M(),V=_("mwc-icon"),V.textContent="add",U=M(),B=_("mwc-icon"),B.textContent="more_horiz",z=M(),j=_("mwc-menu"),R=_("h5"),N=te(ee),ie=te(":"),ne=M(),Z=_("p"),$=te(x),ae=M(),Y=_("mwc-menu"),re=_("mwc-list-item"),re.textContent="Add to Scene",H=M(),C&&C.c(),O(n,"name",i=l[0].id),O(n,"checked",o=l[2].includes(l[0].id)),O(a,"id","user-items-icon"),k(r,"class",d="items-icon "+(l[0].type==="audio-tts"&&"tts")),k(g,"class","items-name"),k(g,"title",A=l[4](l[0].name)),k(w,"class","items-duration"),k(p,"class","items-data"),O(v,"id","user-items-play-btn"),O(V,"id","user-items-dialog-btn"),O(B,"id","user-items-speech-btn"),O(j,"class","user-title-tooltip"),O(Y,"class","user-audio-drop-menu"),O(Y,"id","menu"),k(e,"class","user-music-ul "+rn)},m(I,oe){E(I,e,oe),m(e,t),m(t,n),m(t,s),m(t,r),m(r,a),m(a,u),m(t,f),m(t,p),m(p,g),m(g,b),m(p,S),m(p,w),m(w,T),m(t,L),m(t,v),m(t,y),m(t,V),m(t,U),m(t,B),m(t,z),m(t,j),m(j,R),m(R,N),m(R,ie),m(j,ne),m(j,Z),m(Z,$),l[22](j),m(t,ae),m(t,Y),m(Y,re),m(Y,H),C&&C.m(Y,null),l[25](Y),l[26](e),X||(ue=[Q(n,"change",l[17]),Q(v,"click",l[18]),Q(V,"click",function(){He(l[8]?l[19]:l[20])&&(l[8]?l[19]:l[20]).apply(this,arguments)}),Q(B,"click",l[21]),Q(re,"click",l[23])],X=!0)},p(I,[oe]){l=I,oe&1&&i!==(i=l[0].id)&&O(n,"name",i),oe&5&&o!==(o=l[2].includes(l[0].id))&&O(n,"checked",o),oe&9&&c!==(c=(l[0].type==="audio"?l[3]:"mic")+"")&&_e(u,c),oe&1&&d!==(d="items-icon "+(l[0].type==="audio-tts"&&"tts"))&&k(r,"class",d),oe&17&&h!==(h=l[4](l[0].name)+"")&&_e(b,h),oe&17&&A!==(A=l[4](l[0].name))&&k(g,"title",A),oe&1&&P!==(P=l[16](l[0])+"")&&_e(T,P),oe&1&&ee!==(ee=l[0].type==="audio"?"Name":"Speech")&&_e(N,ee),oe&1&&x!==(x=l[15](l[0])+"")&&_e($,x),l[12]?C?C.p(l,oe):(C=Ot(l),C.c(),C.m(Y,null)):C&&(C.d(1),C=null)},i:F,o:F,d(I){I&&D(e),l[22](null),C&&C.d(),l[25](null),l[26](null),X=!1,Ve(ue)}}}let rn="";function an(l,e,t){le(()=>import("./assets/mwc-menu-51fad5b3.js").then(R=>R.m),["assets/mwc-menu-51fad5b3.js","assets/lit-element-82482f35.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(R=>R.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{data:n}=e,{checkboxHandler:i}=e,{itemDeleteArray:o}=e,{icon:s}=e,{audioNameFormatter:r}=e,{onPlay:a}=e,{onAddAudio:c}=e,{passBackgroundMusic:u}=e,{isOpenFromBgmPanel:d}=e,f,p,g,h=!0;window.onlineClient.getBaseUrl();const b=()=>{f.setAttribute("open","")},A=()=>{p.setAttribute("open","")},S=R=>{const{name:ee,type:N}=R;return ee},w=R=>R.meta&&R.meta.duration?me.secondToHHmmss(R.meta.duration):(t(12,h=!1),"Duration not avaliable"),P=R=>i(R.target),T=R=>a(n.id,R.target,"user",1,0,0,g),L=()=>u(n,!0),v=()=>b(),y=()=>A();function V(R){pe[R?"unshift":"push"](()=>{p=R,t(10,p)})}const U=()=>c(n,"user"),B=()=>u(n,!0);function z(R){pe[R?"unshift":"push"](()=>{f=R,t(9,f)})}function j(R){pe[R?"unshift":"push"](()=>{g=R,t(11,g)})}return l.$$set=R=>{"data"in R&&t(0,n=R.data),"checkboxHandler"in R&&t(1,i=R.checkboxHandler),"itemDeleteArray"in R&&t(2,o=R.itemDeleteArray),"icon"in R&&t(3,s=R.icon),"audioNameFormatter"in R&&t(4,r=R.audioNameFormatter),"onPlay"in R&&t(5,a=R.onPlay),"onAddAudio"in R&&t(6,c=R.onAddAudio),"passBackgroundMusic"in R&&t(7,u=R.passBackgroundMusic),"isOpenFromBgmPanel"in R&&t(8,d=R.isOpenFromBgmPanel)},[n,i,o,s,r,a,c,u,d,f,p,g,h,b,A,S,w,P,T,L,v,y,V,U,B,z,j]}class cn extends Oe{constructor(e){super(),Pe(this,e,an,sn,Ee,{data:0,checkboxHandler:1,itemDeleteArray:2,icon:3,audioNameFormatter:4,onPlay:5,onAddAudio:6,passBackgroundMusic:7,isOpenFromBgmPanel:8})}}function un(l){let e,t,n;return{c(){e=_("mwc-icon"),e.textContent="add"},m(i,o){E(i,e,o),t||(n=Q(e,"click",function(){He(l[7]?l[11]:l[9])&&(l[7]?l[11]:l[9]).apply(this,arguments)}),t=!0)},p(i,o){l=i},d(i){i&&D(e),t=!1,n()}}}function dn(l){let e,t,n;return{c(){e=_("mwc-icon"),e.textContent="add"},m(i,o){E(i,e,o),t||(n=Q(e,"click",l[10]),t=!0)},p:F,d(i){i&&D(e),t=!1,n()}}}function fn(l){let e,t,n,i,o,s,r,a,c,u=l[2](l[0].name)+"",d,f,p,g,h,b,A,S,w,P,T,L,v,y;function V(z,j){return z[6]==="basic-sound-effect"?dn:un}let U=V(l),B=U(l);return{c(){e=_("tr"),t=_("td"),n=_("mwc-icon"),i=te(l[1]),o=M(),s=_("div"),r=M(),a=_("td"),c=_("span"),d=te(u),p=M(),g=_("td"),B.c(),h=M(),b=_("td"),A=_("mwc-icon"),A.textContent="play_arrow",S=M(),w=_("mwc-menu"),P=_("mwc-list-item"),P.textContent="Add to Timeline",T=M(),L=_("mwc-list-item"),L.textContent="Set as Background Music",k(s,"id","audio-time"),k(t,"id","audio-icon"),k(a,"id","audio-title"),k(a,"title",f=l[2](l[0].name)),k(g,"id","action-btn"),k(b,"id","play-btn"),O(w,"class","music-drop-menu"),O(w,"id","menu")},m(z,j){E(z,e,j),m(e,t),m(t,n),m(n,i),m(t,o),m(t,s),m(e,r),m(e,a),m(a,c),m(c,d),m(e,p),m(e,g),B.m(g,null),m(e,h),m(e,b),m(b,A),m(e,S),m(e,w),m(w,P),m(w,T),m(w,L),l[15](w),v||(y=[Q(A,"click",l[12]),Q(P,"click",l[13]),Q(L,"click",l[14])],v=!0)},p(z,[j]){j&2&&_e(i,z[1]),j&5&&u!==(u=z[2](z[0].name)+"")&&_e(d,u),j&5&&f!==(f=z[2](z[0].name))&&k(a,"title",f),U===(U=V(z))&&B?B.p(z,j):(B.d(1),B=U(z),B&&(B.c(),B.m(g,null)))},i:F,o:F,d(z){z&&D(e),B.d(),l[15](null),v=!1,Ve(y)}}}function mn(l,e,t){le(()=>import("./assets/mwc-menu-51fad5b3.js").then(w=>w.m),["assets/mwc-menu-51fad5b3.js","assets/lit-element-82482f35.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(w=>w.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{data:n}=e,{icon:i}=e,{audioNameFormatter:o}=e,{addAudio:s}=e,{playAudio:r}=e,{passBackgroundMusic:a}=e,{listType:c}=e,{isOpenFromBgmPanel:u}=e,d;const f=()=>{d.setAttribute("open","")},p=()=>s(n,!1),g=()=>a(n,!1),h=w=>r(n.path,w.target,!1),b=()=>s(n,!1),A=()=>a(n,!1);function S(w){pe[w?"unshift":"push"](()=>{d=w,t(8,d)})}return l.$$set=w=>{"data"in w&&t(0,n=w.data),"icon"in w&&t(1,i=w.icon),"audioNameFormatter"in w&&t(2,o=w.audioNameFormatter),"addAudio"in w&&t(3,s=w.addAudio),"playAudio"in w&&t(4,r=w.playAudio),"passBackgroundMusic"in w&&t(5,a=w.passBackgroundMusic),"listType"in w&&t(6,c=w.listType),"isOpenFromBgmPanel"in w&&t(7,u=w.isOpenFromBgmPanel)},[n,i,o,s,r,a,c,u,d,f,p,g,h,b,A,S]}class _n extends Oe{constructor(e){super(),Pe(this,e,mn,fn,Ee,{data:0,icon:1,audioNameFormatter:2,addAudio:3,playAudio:4,passBackgroundMusic:5,listType:6,isOpenFromBgmPanel:7})}}function Ct(l,e,t){const n=l.slice();return n[45]=e[t],n}function Vt(l,e,t){const n=l.slice();return n[45]=e[t],n}function Bt(l,e,t){const n=l.slice();return n[45]=e[t],n[47]=t,n}function Mt(l,e,t){const n=l.slice();return n[45]=e[t],n[47]=t,n}function pn(l){let e,t=[],n=new Map,i,o=l[3];const s=r=>r[45].id;for(let r=0;r<o.length;r+=1){let a=Ct(l,o,r),c=s(a);n.set(c,t[r]=Ft(c,a))}return{c(){e=_("table");for(let r=0;r<t.length;r+=1)t[r].c();k(e,"class","music-items")},m(r,a){E(r,e,a);for(let c=0;c<t.length;c+=1)t[c].m(e,null);i=!0},p(r,a){a[0]&6489101&&(o=r[3],Le(),t=Ze(t,a,s,1,r,o,n,e,gt,Ft,null,Ct),Ie())},i(r){if(!i){for(let a=0;a<o.length;a+=1)G(t[a]);i=!0}},o(r){for(let a=0;a<t.length;a+=1)K(t[a]);i=!1},d(r){r&&D(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function gn(l){let e,t=[],n=new Map,i=l[3];const o=s=>s[45].id;for(let s=0;s<i.length;s+=1){let r=Vt(l,i,s),a=o(r);n.set(a,t[s]=Rt(a,r))}return{c(){e=_("table");for(let s=0;s<t.length;s+=1)t[s].c();k(e,"class","music-items")},m(s,r){E(s,e,r);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,r){r[0]&2228715&&(i=s[3],t=Ze(t,r,o,1,s,i,n,e,_t,Rt,null,Vt))},i:F,o:F,d(s){s&&D(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function hn(l){let e,t=[],n=new Map,i=l[3];const o=s=>s[45].id;for(let s=0;s<i.length;s+=1){let r=Bt(l,i,s),a=o(r);n.set(a,t[s]=Nt(a,r))}return{c(){e=_("table");for(let s=0;s<t.length;s+=1)t[s].c();k(e,"class","music-items")},m(s,r){E(s,e,r);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,r){r[0]&2293769&&(i=s[3],t=Ze(t,r,o,1,s,i,n,e,_t,Nt,null,Bt))},i:F,o:F,d(s){s&&D(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function bn(l){let e,t,n,i,o,s,r,a,c,u,d=[],f=new Map,p,g,h,b,A=l[3];const S=w=>w[45].id;for(let w=0;w<A.length;w+=1){let P=Mt(l,A,w),T=S(P);f.set(T,d[w]=Ut(T,P))}return{c(){e=_("div"),t=_("mwc-checkbox"),n=M(),i=_("mwc-icon-button"),o=M(),s=_("hr"),a=M(),c=_("div"),u=_("div");for(let w=0;w<d.length;w+=1)d[w].c();O(t,"checked",l[14]),O(i,"icon","delete"),O(i,"id","delete-btn"),k(e,"class",r="user-music-control-area "+(l[9]==="dark"&&l[9])),k(u,"class","user-music-items"),k(c,"class",p="user-music-items-list "+(l[9]==="dark"&&l[9]))},m(w,P){E(w,e,P),m(e,t),l[27](t),m(e,n),m(e,i),m(e,o),m(e,s),E(w,a,P),E(w,c,P),m(c,u);for(let T=0;T<d.length;T+=1)d[T].m(u,null);g=!0,h||(b=[Q(t,"change",function(){He(l[19](l[13]))&&l[19](l[13]).apply(this,arguments)}),Q(i,"click",l[20])],h=!0)},p(w,P){l=w,(!g||P[0]&16384)&&O(t,"checked",l[14]),(!g||P[0]&512&&r!==(r="user-music-control-area "+(l[9]==="dark"&&l[9])))&&k(e,"class",r),P[0]&6753289&&(A=l[3],Le(),d=Ze(d,P,S,1,l,A,f,u,gt,Ut,null,Mt),Ie()),(!g||P[0]&512&&p!==(p="user-music-items-list "+(l[9]==="dark"&&l[9])))&&k(c,"class",p)},i(w){if(!g){for(let P=0;P<A.length;P+=1)G(d[P]);g=!0}},o(w){for(let P=0;P<d.length;P+=1)K(d[P]);g=!1},d(w){w&&D(e),l[27](null),w&&D(a),w&&D(c);for(let P=0;P<d.length;P+=1)d[P].d();h=!1,Ve(b)}}}function kn(l){let e;function t(o,s){return o[2]==="generate"?Tn:vn}let n=t(l),i=n(l);return{c(){i.c(),e=Be()},m(o,s){i.m(o,s),E(o,e,s)},p(o,s){n===(n=t(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},i:F,o:F,d(o){i.d(o),o&&D(e)}}}function Ft(l,e){let t,n,i;return n=new _n({props:{listType:e[2],data:e[45],icon:e[0],audioNameFormatter:e[21],addAudio:e[16],playAudio:e[17],passBackgroundMusic:e[22],isOpenFromBgmPanel:e[10]}}),{key:l,first:null,c(){t=Be(),ke(n.$$.fragment),this.first=t},m(o,s){E(o,t,s),he(n,o,s),i=!0},p(o,s){e=o;const r={};s[0]&4&&(r.listType=e[2]),s[0]&8&&(r.data=e[45]),s[0]&1&&(r.icon=e[0]),s[0]&1024&&(r.isOpenFromBgmPanel=e[10]),n.$set(r)},i(o){i||(G(n.$$.fragment,o),i=!0)},o(o){K(n.$$.fragment,o),i=!1},d(o){o&&D(t),ge(n,o)}}}function wn(l){let e,t,n;function i(){return l[30](l[45])}return{c(){e=_("mwc-icon"),e.textContent="delete"},m(o,s){E(o,e,s),t||(n=Q(e,"click",i),t=!0)},p(o,s){l=o},d(o){o&&D(e),t=!1,n()}}}function yn(l){let e;return{c(){e=_("mwc-icon"),e.textContent="delete",se(e,"cursor","not-allowed")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Rt(l,e){let t,n,i,o,s,r,a,c=e[21](e[45].name)+"",u,d,f,p,g,h,b,A,S,w;function P(y,V){return y[1]?yn:wn}let T=P(e),L=T(e);function v(...y){return e[31](e[45],...y)}return{key:l,first:null,c(){t=_("tr"),n=_("td"),i=_("mwc-icon"),o=te(e[0]),s=M(),r=_("td"),a=_("span"),u=te(c),f=M(),p=_("td"),L.c(),g=M(),h=_("td"),b=_("mwc-icon"),b.textContent="play_arrow",A=M(),k(n,"id","audio-icon"),k(r,"id","audio-title"),k(r,"title",d=e[21](e[45].name)),k(p,"id","remove-btn"),k(h,"id","play-btn"),this.first=t},m(y,V){E(y,t,V),m(t,n),m(n,i),m(i,o),m(t,s),m(t,r),m(r,a),m(a,u),m(t,f),m(t,p),L.m(p,null),m(t,g),m(t,h),m(h,b),m(t,A),S||(w=Q(b,"click",v),S=!0)},p(y,V){e=y,V[0]&1&&_e(o,e[0]),V[0]&8&&c!==(c=e[21](e[45].name)+"")&&_e(u,c),V[0]&8&&d!==(d=e[21](e[45].name))&&k(r,"title",d),T===(T=P(e))&&L?L.p(e,V):(L.d(1),L=T(e),L&&(L.c(),L.m(p,null)))},d(y){y&&D(t),L.d(),S=!1,w()}}}function Nt(l,e){let t,n,i,o,s,r,a,c,u,d=e[21](e[45].name)+"",f,p,g,h=me.secondToHHmmss(e[45].duration)+"",b,A,S,w,P,T,L,v,y,V,U,B,z;function j(...ee){return e[28](e[45],...ee)}function R(...ee){return e[29](e[45],...ee)}return{key:l,first:null,c(){t=_("tr"),n=_("td"),i=_("mwc-icon"),o=te(e[0]),s=M(),r=_("div"),a=M(),c=_("td"),u=_("span"),f=te(d),p=M(),g=_("span"),b=te(h),S=M(),w=_("td"),P=_("mwc-icon"),P.textContent="add",T=M(),L=_("td"),v=_("mwc-icon"),y=te("play_arrow"),U=M(),k(r,"id","audio-time"),k(n,"id","audio-icon-gen"),k(u,"id","audio-title-gen-name"),k(c,"id","audio-title-gen"),k(c,"title",A=e[21](e[45].name)),k(w,"id","action-btn"),O(v,"id",V=e[45].id),k(L,"id","play-btn"),this.first=t},m(ee,N){E(ee,t,N),m(t,n),m(n,i),m(i,o),m(n,s),m(n,r),m(t,a),m(t,c),m(c,u),m(u,f),m(c,p),m(c,g),m(g,b),m(t,S),m(t,w),m(w,P),m(t,T),m(t,L),m(L,v),m(v,y),m(t,U),B||(z=[Q(P,"click",j),Q(v,"click",R)],B=!0)},p(ee,N){e=ee,N[0]&1&&_e(o,e[0]),N[0]&8&&d!==(d=e[21](e[45].name)+"")&&_e(f,d),N[0]&8&&h!==(h=me.secondToHHmmss(e[45].duration)+"")&&_e(b,h),N[0]&8&&A!==(A=e[21](e[45].name))&&k(c,"title",A),N[0]&8&&V!==(V=e[45].id)&&O(v,"id",V)},d(ee){ee&&D(t),B=!1,Ve(z)}}}function Ut(l,e){let t,n,i;return n=new cn({props:{data:e[45],checkboxHandler:e[18],itemDeleteArray:e[11],icon:e[0],audioNameFormatter:e[21],onPlay:e[17],onAddAudio:e[16],passBackgroundMusic:e[22],isOpenFromBgmPanel:e[10]}}),{key:l,first:null,c(){t=Be(),ke(n.$$.fragment),this.first=t},m(o,s){E(o,t,s),he(n,o,s),i=!0},p(o,s){e=o;const r={};s[0]&8&&(r.data=e[45]),s[0]&2048&&(r.itemDeleteArray=e[11]),s[0]&1&&(r.icon=e[0]),s[0]&1024&&(r.isOpenFromBgmPanel=e[10]),n.$set(r)},i(o){i||(G(n.$$.fragment,o),i=!0)},o(o){K(n.$$.fragment,o),i=!1},d(o){o&&D(t),ge(n,o)}}}function vn(l){let e,t,n,i,o;return{c(){e=_("div"),t=_("div"),t.innerHTML='<mwc-circular-progress indeterminate=""></mwc-circular-progress>',n=M(),i=_("div"),o=_("h4"),o.textContent=`${l[15]}`,k(e,"class","loading-circle")},m(s,r){E(s,e,r),m(e,t),m(e,n),m(e,i),m(i,o)},p:F,d(s){s&&D(e)}}}function Tn(l){let e;return{c(){e=_("div"),e.innerHTML='<mwc-circular-progress indeterminate=""></mwc-circular-progress>',k(e,"class","loading-circle-gen")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Sn(l){let e,t,n,i,o,s,r;const a=[kn,bn,hn,gn,pn],c=[];function u(d,f){return d[4]?0:d[2]==="user"?1:d[2]==="generate"?2:d[2]==="bgm"?3:4}return o=u(l),s=c[o]=a[o](l),{c(){e=_("div"),t=_("audio"),i=M(),s.c(),Fe(t.src,n="")||k(t,"src",n),k(t,"preload","metadata"),k(e,"class","music-list-item")},m(d,f){E(d,e,f),m(e,t),l[26](t),m(e,i),c[o].m(e,null),r=!0},p(d,f){let p=o;o=u(d),o===p?c[o].p(d,f):(Le(),K(c[p],1,1,()=>{c[p]=null}),Ie(),s=c[o],s?s.p(d,f):(s=c[o]=a[o](d),s.c()),G(s,1),s.m(e,null))},i(d){r||(G(s),r=!0)},o(d){K(s),r=!1},d(d){d&&D(e),l[26](null),c[o].d()}}}function An(l,e,t){le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-button-ce175de3.js"),["assets/mwc-icon-button-ce175de3.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-checkbox-e4190b37.js"),["assets/mwc-checkbox-e4190b37.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/form-element-8d951ec1.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-circular-progress-95a01484.js"),["assets/mwc-circular-progress-95a01484.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]);const n=ze();let{iconType:i="stockMusic"}=e,{listType:o="basic"}=e,{renderData:s=[]}=e,{loading:r}=e,{onDelete:a}=e,{volume:c}=e,{fadeInDuration:u}=e,{fadeOutDuration:d}=e,{isPlaying:f=!1}=e;const p=()=>{try{t(12,T.src="",T)}catch{}};let{onAddBgm:g}=e,{theme:h}=e,{resetDeleteArrayItems:b=()=>{t(11,S=[]),t(13,y.checked=!1,y)}}=e,{isOpenFromBgmPanel:A}=e;var S=[];let w,P,T,L,v,y,V=!1,U=ve.LOADING_TEXT[0];const B=async(C,I)=>{const{id:oe,name:q,path:be}=C,we=R(I==="user"?oe:be,I);let ye;I==="user"?ye="audio":I==="generate"?ye="internal-tts":ye="global-audio";const Ce=await N(we);let Ae;ye==="global-audio"||ye==="global-tts"?Ae=we:Ae=null,n("addAudio",{id:oe,name:q,type:ye,duration:Ce,url:Ae})},z=(C,I,oe,q,be,Se,we)=>{q=q||q==0?q:1,w=C,P=we,I.src=oe,I.volume=q,I.oncanplay=()=>{I.oncanplay=()=>{};const ye=I.duration,Ce=(Ae,J,Te,De,Me,je)=>{if(Te==null||Te==0)return;const qe=Te,Ge=1e3/10;let Ke=qe/Ge;const Xe=(De-Me)/Ke;let Re=De;const Ye=()=>{Ae.volume=Re/100,Ke--,Ke>=-1&&(Re-=Xe,Re=Math.max(0,Re),Re=Math.min(100,Re),je(setTimeout(Ye,Ge)))};je(setTimeout(Ye,J))};be==null&&(be=0),Se==null&&(Se=0),I.play(),Ce(I,0*1e3,be*1e3,0,q*100,Ae=>{L=Ae}),Ce(I,(ye-Se)*1e3,Se*1e3,q*100,0,Ae=>{v=Ae})},C.innerHTML="hourglass_bottom",we&&(we.className="user-music-ul hover"),I.onplaying=()=>{t(1,f=!0),C.innerHTML="stop"},I.onended=()=>{w="",P="",t(1,f=!1),C.innerHTML="play_arrow",we&&(we.className="user-music-ul ")}},j=(C,I,oe,q)=>{t(1,f=!1),C.innerHTML=oe,q&&(q.className="user-music-ul "),I.currentTime=0,I.pause(),clearTimeout(L),clearTimeout(v)},R=(C,I)=>{let oe;return I==="user"||I==="bgm"?oe=`${window.onlineClient.getBaseUrl()}/rest/diagrams/assets/${C}`:I==="generate"?oe=C:oe=ve.STATIC_ASSET_BASE_URL+C,oe},ee=(C,I,oe,q,be,Se,we)=>{const ye=R(C,oe);if(T.paused)z(I,T,ye,q,be,Se,we);else if(w===I)j(I,T,"play_arrow",we);else{I.innerHTML="stop",we&&(we.className="user-music-ul hover");let Ce=w,Ae;P&&(Ae=P),Ce.innerHTML="play_arrow",Ae&&(Ae.className="user-music-ul "),z(I,T,ye,q,be,Se,we)}},N=C=>new Promise((I,oe)=>{let q=document.createElement("audio");q.preload="metadata",q.onloadedmetadata=function(){let be=q.duration;I(be)},q.src=C});i==="library"?i="album":i==="effect"?i="graphic_eq":i==="tts"?i="mic":i="library_music";const ie=C=>{if(C.checked)t(11,S=[...S,C.name]);else{let I=S.indexOf(C.name);S.splice(I,1),t(11,S=[...S]),t(13,y.checked=!1,y)}S.length===s.length?t(14,V=!0):t(14,V=!1)},ne=C=>{if(C.checked){t(11,S=[]);for(let I=0;I<s.length;I++)S.push(s[I].id)}else t(11,S=[])},Z=()=>{S.length>0&&a(S)},x=C=>C.split(".")[0],$=async(C,I)=>{if(I)g(C);else{let oe=ve.STATIC_ASSET_BASE_URL+C.path;const q=await N(oe);C={...C,duration:q},g(C)}};function ae(C){pe[C?"unshift":"push"](()=>{T=C,t(12,T)})}function Y(C){pe[C?"unshift":"push"](()=>{y=C,t(13,y)})}const re=(C,I)=>{B(C,"generate")},H=(C,I)=>ee(C.path,I.target,"generate"),X=C=>a(C.id),ue=(C,I)=>ee(`${C.type==="audio"?C.id:C.path}`,I.target,`${C.type==="audio"?"bgm":"global-bgm"}`,c,u,d);return l.$$set=C=>{"iconType"in C&&t(0,i=C.iconType),"listType"in C&&t(2,o=C.listType),"renderData"in C&&t(3,s=C.renderData),"loading"in C&&t(4,r=C.loading),"onDelete"in C&&t(5,a=C.onDelete),"volume"in C&&t(6,c=C.volume),"fadeInDuration"in C&&t(7,u=C.fadeInDuration),"fadeOutDuration"in C&&t(8,d=C.fadeOutDuration),"isPlaying"in C&&t(1,f=C.isPlaying),"onAddBgm"in C&&t(24,g=C.onAddBgm),"theme"in C&&t(9,h=C.theme),"resetDeleteArrayItems"in C&&t(25,b=C.resetDeleteArrayItems),"isOpenFromBgmPanel"in C&&t(10,A=C.isOpenFromBgmPanel)},[i,f,o,s,r,a,c,u,d,h,A,S,T,y,V,U,B,ee,ie,ne,Z,x,$,p,g,b,ae,Y,re,H,X,ue]}class at extends Oe{constructor(e){super(),Pe(this,e,An,Sn,Ee,{iconType:0,listType:2,renderData:3,loading:4,onDelete:5,volume:6,fadeInDuration:7,fadeOutDuration:8,isPlaying:1,reloadAudioElement:23,onAddBgm:24,theme:9,resetDeleteArrayItems:25,isOpenFromBgmPanel:10},null,[-1,-1])}get reloadAudioElement(){return this.$$.ctx[23]}}function En(l){let e,t,n;function i(s){l[12](s)}let o={iconType:"stockMusic",listType:"basic",renderData:l[2],loading:l[3],onDelete:"",onAddBgm:l[8],isOpenFromBgmPanel:l[1]};return l[4]!==void 0&&(o.reloadAudioElement=l[4]),e=new at({props:o}),pe.push(()=>We(e,"reloadAudioElement",i,l[4])),e.$on("addAudio",l[13]),{c(){ke(e.$$.fragment)},m(s,r){he(e,s,r),n=!0},p(s,r){const a={};r&4&&(a.renderData=s[2]),r&8&&(a.loading=s[3]),r&2&&(a.isOpenFromBgmPanel=s[1]),!t&&r&16&&(t=!0,a.reloadAudioElement=s[4],Je(()=>t=!1)),e.$set(a)},i(s){n||(G(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ge(e,s)}}}function Dn(l){let e;return{c(){e=_("div"),e.innerHTML="<mwc-icon>error</mwc-icon><h4>No music found</h4>",k(e,"class","result-not-found")},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function Pn(l){let e,t,n,i,o;const s=[Dn,En],r=[];function a(c,u){return c[5]||c[6]?0:1}return t=a(l),n=r[t]=s[t](l),{c(){e=_("div"),n.c(),k(e,"class",i=l[0]===""?"music-panel":"music-panel search-mode")},m(c,u){E(c,e,u),r[t].m(e,null),o=!0},p(c,[u]){let d=t;t=a(c),t===d?r[t].p(c,u):(Le(),K(r[d],1,1,()=>{r[d]=null}),Ie(),n=r[t],n?n.p(c,u):(n=r[t]=s[t](c),n.c()),G(n,1),n.m(e,null)),(!o||u&1&&i!==(i=c[0]===""?"music-panel":"music-panel search-mode"))&&k(e,"class",i)},i(c){o||(G(n),o=!0)},o(c){K(n),o=!1},d(c){c&&D(e),r[t].d()}}}let Ln="b2310578-0f0b-4f74-b5e7-3577683055d1";function In(l,e,t){le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(B=>B.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-button-ce175de3.js"),["assets/mwc-icon-button-ce175de3.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]);const n=ze();let{selectedGenre:i}=e,{selectedMood:o}=e,{searchKeyword:s}=e,{isOpenFromBgmPanel:r}=e;const a=()=>{};let c=[],u=[],d=!1,f=!1,p,g,h,b=!1,A=!1;const S=B=>{const{detail:z}=B,{id:j,name:R,type:ee,duration:N,url:ie}=z;n("addAudio",{id:j,name:R,type:ee,duration:N,url:ie})},w=(B,z,j,R,ee,N,ie)=>{n("addBgm",{id:z,name:j,type:R,duration:ee,url:N,options:ie,action:B})},P=B=>{const{id:z,name:j,path:R,duration:ee}=B,N="global-audio",ie=ve.STATIC_ASSET_BASE_URL+R;w(1,z,j,N,ee,ie,{})},T=async()=>{t(5,b=!1),t(3,f=!0),t(9,i=""),t(10,o="");let B=await fetch(me.createAssetFetchUrlWithId(Ln)).then(z=>z.json());d&&p(),d=!0,t(2,c=B),u=B,t(3,f=!1)},L=async B=>{t(3,f=!0),B==="genre"?(g=await fetch(me.createAssetFetchUrlWithId(i)).then(j=>j.json()),v(g)):(h=await fetch(me.createAssetFetchUrlWithId(o)).then(j=>j.json()),v(h)),t(3,f=!1)},v=B=>{t(2,c=[]);let z,j;if(g&&h){g.length>h.length?(z=g,j=h):(z=h,j=g);for(let R=0;R<z.length;R++){let ee=j.find(N=>N.id===z[R].id);ee&&c.push(ee)}}else t(2,c=B);c.length===0?t(6,A=!0):t(6,A=!1)},y=B=>{t(2,c=me.searchFromObjectArray(u,B)),c.length===0?t(5,b=!0):t(5,b=!1)};function V(B){p=B,t(4,p)}const U=B=>{S(B)};return l.$$set=B=>{"selectedGenre"in B&&t(9,i=B.selectedGenre),"selectedMood"in B&&t(10,o=B.selectedMood),"searchKeyword"in B&&t(0,s=B.searchKeyword),"isOpenFromBgmPanel"in B&&t(1,r=B.isOpenFromBgmPanel)},l.$$.update=()=>{l.$$.dirty&512&&i&&L("genre"),l.$$.dirty&1024&&o&&L("mood"),l.$$.dirty&1&&s&&y(s),l.$$.dirty&1&&s===""&&T()},T(),[s,r,c,f,p,b,A,S,P,i,o,a,V,U]}class On extends Oe{constructor(e){super(),Pe(this,e,In,Pn,Ee,{selectedGenre:9,selectedMood:10,searchKeyword:0,isOpenFromBgmPanel:1,resetSearchRes:11})}get resetSearchRes(){return this.$$.ctx[11]}}function Cn(l){let e,t;return e=new at({props:{iconType:"effect",listType:"basic-sound-effect",renderData:l[1],loading:l[2],onDelete:""}}),e.$on("addAudio",l[6]),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i&2&&(o.renderData=n[1]),i&4&&(o.loading=n[2]),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function Vn(l){let e;return{c(){e=_("div"),e.innerHTML="<mwc-icon>error</mwc-icon><h4>No music found</h4>",k(e,"class","result-not-found")},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function Bn(l){let e,t,n,i,o;const s=[Vn,Cn],r=[];function a(c,u){return c[3]?0:1}return t=a(l),n=r[t]=s[t](l),{c(){e=_("div"),n.c(),k(e,"class",i=l[0]===""?"sound-effect-panel":"sound-effect-panel search-mode")},m(c,u){E(c,e,u),r[t].m(e,null),o=!0},p(c,[u]){let d=t;t=a(c),t===d?r[t].p(c,u):(Le(),K(r[d],1,1,()=>{r[d]=null}),Ie(),n=r[t],n?n.p(c,u):(n=r[t]=s[t](c),n.c()),G(n,1),n.m(e,null)),(!o||u&1&&i!==(i=c[0]===""?"sound-effect-panel":"sound-effect-panel search-mode"))&&k(e,"class",i)},i(c){o||(G(n),o=!0)},o(c){K(n),o=!1},d(c){c&&D(e),r[t].d()}}}let Mn="08ac7f99-9ef3-4947-8ff1-b8bee358a0ab";function Fn(l,e,t){le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]);const n=ze();let{selectedCategory:i}=e,{searchKeyword:o}=e,s=[],r=[],a=!1,c=!1;const u=h=>{const{detail:b}=h,{id:A,name:S,type:w,duration:P,url:T}=b;n("addAudio",{id:A,name:S,type:w,duration:P,url:T})},d=async()=>{t(3,c=!1),t(5,i=""),t(2,a=!0);let h=await fetch(me.createAssetFetchUrlWithId(Mn)).then(b=>b.json());t(1,s=h),r=h,t(2,a=!1)},f=async()=>{t(2,a=!0);let h=await fetch(me.createAssetFetchUrlWithId(i)).then(b=>b.json());t(1,s=h),r=h,t(2,a=!1)},p=h=>{t(1,s=me.searchFromObjectArray(r,h)),s.length===0?t(3,c=!0):t(3,c=!1)},g=h=>{u(h)};return l.$$set=h=>{"selectedCategory"in h&&t(5,i=h.selectedCategory),"searchKeyword"in h&&t(0,o=h.searchKeyword)},l.$$.update=()=>{l.$$.dirty&32&&i&&f(),l.$$.dirty&1&&o&&p(o),l.$$.dirty&1&&o===""&&d()},d(),[o,s,a,c,u,i,g]}class Rn extends Oe{constructor(e){super(),Pe(this,e,Fn,Bn,Ee,{selectedCategory:5,searchKeyword:0})}}const et=[];function Nn(l,e=F){let t;const n=new Set;function i(r){if(Ee(l,r)&&(l=r,t)){const a=!et.length;for(const c of n)c[1](),et.push(c,l);if(a){for(let c=0;c<et.length;c+=2)et[c][0](et[c+1]);et.length=0}}}function o(r){i(r(l))}function s(r,a=F){const c=[r,a];return n.add(c),n.size===1&&(t=e(i)||F),r(l),()=>{n.delete(c),n.size===0&&(t(),t=null)}}return{set:i,update:o,subscribe:s}}function Ht(l,e,t){const n=l.slice();return n[4]=e[t],n}function Un(l){let e;return{c(){e=_("p"),e.textContent="Are you sure you want to delete the selected file(s)?"},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Hn(l){let e,t,n,i,o,s,r,a,c,u,d,f=l[0],p=[];for(let g=0;g<f.length;g+=1)p[g]=jt(Ht(l,f,g));return{c(){e=_("p"),t=te("The "),n=te(l[3]),i=te(" clip may be utilized by the following diagrams:"),o=M(),s=_("ul");for(let g=0;g<p.length;g+=1)p[g].c();r=M(),a=_("p"),c=te("If you delete it now, the "),u=te(l[3]),d=te(" may not play properly (if it's still in use). Are you sure you want to proceed?")},m(g,h){E(g,e,h),m(e,t),m(e,n),m(e,i),E(g,o,h),E(g,s,h);for(let b=0;b<p.length;b+=1)p[b].m(s,null);E(g,r,h),E(g,a,h),m(a,c),m(a,u),m(a,d)},p(g,h){if(h&8&&_e(n,g[3]),h&1){f=g[0];let b;for(b=0;b<f.length;b+=1){const A=Ht(g,f,b);p[b]?p[b].p(A,h):(p[b]=jt(A),p[b].c(),p[b].m(s,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=f.length}h&8&&_e(u,g[3])},d(g){g&&D(e),g&&D(o),g&&D(s),$e(p,g),g&&D(r),g&&D(a)}}}function jt(l){let e,t=l[4].diagramName+"",n;return{c(){e=_("li"),n=te(t)},m(i,o){E(i,e,o),m(e,n)},p(i,o){o&1&&t!==(t=i[4].diagramName+"")&&_e(n,t)},d(i){i&&D(e)}}}function jn(l){let e,t,n,i,o,s,r,a,c,u;function d(g,h){return g[0]&&g[0].length>0?Hn:Un}let f=d(l),p=f(l);return{c(){e=_("div"),t=_("mwc-dialog"),n=_("h5"),n.textContent="Delete Confirmation",i=M(),p.c(),o=M(),s=_("mwc-button"),s.textContent="Confirm",r=M(),a=_("mwc-button"),a.textContent="Close",k(n,"id","title"),O(s,"slot","primaryAction"),O(a,"slot","secondaryAction"),O(t,"open",""),k(e,"class","user-audio-delete-dialog")},m(g,h){E(g,e,h),m(e,t),m(t,n),m(t,i),p.m(t,null),m(t,o),m(t,s),m(t,r),m(t,a),c||(u=[Q(s,"click",function(){He(l[2])&&l[2].apply(this,arguments)}),Q(a,"click",function(){He(l[1])&&l[1].apply(this,arguments)}),Q(t,"closed",function(){He(l[1])&&l[1].apply(this,arguments)})],c=!0)},p(g,[h]){l=g,f===(f=d(l))&&p?p.p(l,h):(p.d(1),p=f(l),p&&(p.c(),p.m(t,o)))},i:F,o:F,d(g){g&&D(e),p.d(),c=!1,Ve(u)}}}function Gn(l,e,t){le(()=>import("./assets/mwc-dialog-3aa9871f.js"),["assets/mwc-dialog-3aa9871f.js","assets/lit-element-82482f35.js","assets/animationframe-8c631bf6.js","assets/foundation-494709f2.js","assets/ponyfill-6fa87599.js","assets/observer-256e3ff7.js","assets/class-map-1571728b.js","assets/query-c429e280.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(r=>r.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{closeHandler:n}=e,{diagramsData:i}=e,{onDelete:o}=e,{type:s}=e;return l.$$set=r=>{"closeHandler"in r&&t(1,n=r.closeHandler),"diagramsData"in r&&t(0,i=r.diagramsData),"onDelete"in r&&t(2,o=r.onDelete),"type"in r&&t(3,s=r.type)},l.$$.update=()=>{l.$$.dirty&1&&i&&t(0,i=me.removeDuplicatesObject(i,"diagramName"))},[i,n,o,s]}class Pl extends Oe{constructor(e){super(),Pe(this,e,Gn,jn,Ee,{closeHandler:1,diagramsData:0,onDelete:2,type:3})}}function zn(l){let e,t,n,i,o;const s=l[2].default,r=Ul(s,l,l[1],null);return{c(){e=_("div"),r&&r.c(),e.hidden=!0},m(a,c){E(a,e,c),r&&r.m(e,null),n=!0,i||(o=ql(t=qn.call(null,e,l[0])),i=!0)},p(a,[c]){r&&r.p&&(!n||c&2)&&jl(r,s,a,a[1],n?Hl(s,a[1],c,null):Gl(a[1]),null),t&&He(t.update)&&c&1&&t.update.call(null,a[0])},i(a){n||(G(r,a),n=!0)},o(a){K(r,a),n=!1},d(a){a&&D(e),r&&r.d(a),i=!1,o()}}}function qn(l,e="body"){let t;async function n(o){if(e=o,typeof e=="string"){if(t=document.querySelector(e),t===null&&(await Xl(),t=document.querySelector(e)),t===null)throw new Error(`No element found matching css selector: "${e}"`)}else if(e instanceof HTMLElement)t=e;else throw new TypeError(`Unknown portal target type: ${e===null?"null":typeof e}. Allowed types: string (CSS selector) or HTMLElement.`);t.appendChild(l),l.hidden=!1}function i(){l.parentNode&&l.parentNode.removeChild(l)}return n(e),{update:n,destroy:i}}function Kn(l,e,t){let{$$slots:n={},$$scope:i}=e,{target:o="body"}=e;return l.$$set=s=>{"target"in s&&t(0,o=s.target),"$$scope"in s&&t(1,i=s.$$scope)},[o,i,n]}class ht extends Oe{constructor(e){super(),Pe(this,e,Kn,zn,Ee,{target:0})}}function Gt(l){let e,t;return e=new ht({props:{target:document.body,$$slots:{default:[Jn]},$$scope:{ctx:l}}}),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[0]&512|i[1]&4096&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function Jn(l){let e,t,n;return t=new Pl({props:{closeHandler:l[15],diagramsData:l[9],onDelete:l[16],type:"audio"}}),{c(){e=_("div"),ke(t.$$.fragment),se(e,"position","absolute"),se(e,"z-index","10")},m(i,o){E(i,e,o),he(t,e,null),n=!0},p(i,o){const s={};o[0]&512&&(s.diagramsData=i[9]),t.$set(s)},i(i){n||(G(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){i&&D(e),ge(t)}}}function Wn(l){let e,t,n,i,o,s;return{c(){e=_("div"),t=_("h4"),t.textContent="Fully manage you music and other audio assets.",n=M(),i=_("a"),i.textContent="Login to begin",k(i,"id","login-link"),k(i,"href",null),k(e,"id","not-login-warning")},m(r,a){E(r,e,a),m(e,t),m(e,n),m(e,i),o||(s=Q(i,"click",l[17]),o=!0)},p:F,i:F,o:F,d(r){r&&D(e),o=!1,s()}}}function Yn(l){let e,t,n,i,o,s,r,a;const c=[Zn,Xn,Qn],u=[];function d(f,p){return f[3].length===0&&!f[4]?0:f[3].length===0&&f[4]?1:2}return n=d(l),i=u[n]=c[n](l),{c(){e=_("mwc-button"),t=M(),i.c(),o=Be(),O(e,"id","upload-btn"),O(e,"raised",""),O(e,"label","Upload Files"),O(e,"fullwidth","")},m(f,p){E(f,e,p),E(f,t,p),u[n].m(f,p),E(f,o,p),s=!0,r||(a=Q(e,"click",l[13]),r=!0)},p(f,p){let g=n;n=d(f),n===g?u[n].p(f,p):(Le(),K(u[g],1,1,()=>{u[g]=null}),Ie(),i=u[n],i?i.p(f,p):(i=u[n]=c[n](f),i.c()),G(i,1),i.m(o.parentNode,o))},i(f){s||(G(i),s=!0)},o(f){K(i),s=!1},d(f){f&&D(e),f&&D(t),u[n].d(f),f&&D(o),r=!1,a()}}}function Qn(l){let e,t,n;function i(s){l[18](s)}let o={iconType:"library",listType:"user",loading:l[4],renderData:l[3],onDelete:l[14],onAddBgm:l[12],theme:l[1],isOpenFromBgmPanel:l[2]};return l[7]!==void 0&&(o.resetDeleteArrayItems=l[7]),e=new at({props:o}),pe.push(()=>We(e,"resetDeleteArrayItems",i,l[7])),e.$on("addAudio",l[19]),{c(){ke(e.$$.fragment)},m(s,r){he(e,s,r),n=!0},p(s,r){const a={};r[0]&16&&(a.loading=s[4]),r[0]&8&&(a.renderData=s[3]),r[0]&2&&(a.theme=s[1]),r[0]&4&&(a.isOpenFromBgmPanel=s[2]),!t&&r[0]&128&&(t=!0,a.resetDeleteArrayItems=s[7],Je(()=>t=!1)),e.$set(a)},i(s){n||(G(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ge(e,s)}}}function Xn(l){let e,t,n,i,o,s;return{c(){e=_("div"),t=_("div"),t.innerHTML='<mwc-circular-progress indeterminate=""></mwc-circular-progress>',n=M(),i=_("div"),o=_("h4"),s=te(l[6]),k(e,"class","data-loading-area")},m(r,a){E(r,e,a),m(e,t),m(e,n),m(e,i),m(i,o),m(o,s)},p(r,a){a[0]&64&&_e(s,r[6])},i:F,o:F,d(r){r&&D(e)}}}function Zn(l){let e;function t(o,s){return o[0]?$n:xn}let n=t(l),i=n(l);return{c(){e=_("div"),i.c(),k(e,"id","no-audio-warning")},m(o,s){E(o,e,s),i.m(e,null)},p(o,s){n!==(n=t(o))&&(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},i:F,o:F,d(o){o&&D(e),i.d()}}}function xn(l){let e,t;return{c(){e=_("mwc-icon"),e.textContent="error",t=_("h4"),t.textContent="Upload your first audio"},m(n,i){E(n,e,i),E(n,t,i)},d(n){n&&D(e),n&&D(t)}}}function $n(l){let e,t;return{c(){e=_("mwc-icon"),e.textContent="error",t=_("h4"),t.textContent="No music found"},m(n,i){E(n,e,i),E(n,t,i)},d(n){n&&D(e),n&&D(t)}}}function ei(l){let e,t,n,i,o,s,r=l[8]&&Gt(l);const a=[Yn,Wn],c=[];function u(d,f){return d[5]?0:1}return n=u(l),i=c[n]=a[n](l),{c(){e=_("div"),r&&r.c(),t=M(),i.c(),k(e,"class",o="my-music-panel "+(l[1]==="dark"&&l[1]))},m(d,f){E(d,e,f),r&&r.m(e,null),m(e,t),c[n].m(e,null),s=!0},p(d,f){d[8]?r?(r.p(d,f),f[0]&256&&G(r,1)):(r=Gt(d),r.c(),G(r,1),r.m(e,t)):r&&(Le(),K(r,1,1,()=>{r=null}),Ie());let p=n;n=u(d),n===p?c[n].p(d,f):(Le(),K(c[p],1,1,()=>{c[p]=null}),Ie(),i=c[n],i?i.p(d,f):(i=c[n]=a[n](d),i.c()),G(i,1),i.m(e,null)),(!s||f[0]&2&&o!==(o="my-music-panel "+(d[1]==="dark"&&d[1])))&&k(e,"class",o)},i(d){s||(G(r),G(i),s=!0)},o(d){K(r),K(i),s=!1},d(d){d&&D(e),r&&r.d(),c[n].d()}}}function ti(l,e,t){let n;le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]),le(()=>import("./assets/mwc-menu-51fad5b3.js").then(Y=>Y.m),["assets/mwc-menu-51fad5b3.js","assets/lit-element-82482f35.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(Y=>Y.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-circular-progress-95a01484.js"),["assets/mwc-circular-progress-95a01484.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]);let{searchKeyword:i}=e,{theme:o}=e,{isOpenFromBgmPanel:s}=e;const r=ze();let a="",c=[],u=[],d=!1,f=!1,p="all",g=pt("login");st(l,g,Y=>t(26,n=Y));let h=ve.LOADING_TEXT[0],b,A=!1,S,w=[],P=[];const T=Y=>{const{detail:re}=Y,{id:H,name:X,type:ue,duration:C,url:I}=re;r("addAudio",{id:H,name:X,type:ue,duration:C,url:I})},L=(Y,re,H,X,ue,C,I)=>{r("addBgm",{id:re,name:H,type:X,duration:ue,url:C,options:I,action:Y})},v=async Y=>{const{id:re,name:H}=Y,X="audio",ue=await me.getAudioDuration(re,a),C=`${a}/rest/diagrams/assets/${re}`;L(1,re,H,X,ue,C,{})},y=()=>{t(5,f=window.onlineClient.isLoggedIn()),f&&(a=window.onlineClient.getBaseUrl(),S=window.onlineClient.store.getState().selectedProject,R(!0))},V=Y=>{Y?R(!0):t(3,c=u),p="all"},U=()=>{B()},B=async()=>{let Y={};Y.assetType="audio",await window.onlineClient.showFileChooser({isUploadPalette:!0,type:"audio",autoProceed:!0,...Y})&&V(!0)},z=()=>{t(6,h=me.getLoadingText())},j=async()=>await fetch(`${a}rest/diagrams/assets?type=audio&meta=true`,{method:"GET",credentials:"include"}).then(re=>re.json()),R=async Y=>{t(4,d=!0);let re=setInterval(z,5e3);if(Y){let H=await j();t(3,c=H),u=H}else{let H=me.objectArrayDataFilter(u,p);t(3,c=H)}c.sort((H,X)=>X.createAt-H.createAt),clearInterval(re),t(4,d=!1)},ee=async Y=>{P=Y,t(9,w=await Dl(Y,a,S)),t(8,A=!0)},N=()=>{P=[],t(9,w=[]),b(),t(8,A=!1)},ie=async()=>{t(8,A=!1),P&&P.length!==0&&(t(4,d=!0),await ne(P),V(!0),b(),t(4,d=!1),N())},ne=async Y=>{if(Y&&Y.length!==0)for(let re=0;re<Y.length;re++)await fetch(`${a}rest/diagrams/assets/${Y[re]}`,{method:"DELETE",credentials:"include"}).then(H=>H.ok)},Z=Y=>{t(3,c=me.searchFromObjectArray(u,Y))},x=async()=>{n&&(await n(),y())};function $(Y){b=Y,t(7,b)}const ae=Y=>{T(Y)};return l.$$set=Y=>{"searchKeyword"in Y&&t(0,i=Y.searchKeyword),"theme"in Y&&t(1,o=Y.theme),"isOpenFromBgmPanel"in Y&&t(2,s=Y.isOpenFromBgmPanel)},l.$$.update=()=>{l.$$.dirty[0]&1&&i&&Z(i),l.$$.dirty[0]&1&&i===""&&V(!1)},y(),[i,o,s,c,d,f,h,b,A,w,g,T,v,U,ee,N,ie,x,$,ae]}class li extends Oe{constructor(e){super(),Pe(this,e,ti,ei,Ee,{searchKeyword:0,theme:1,isOpenFromBgmPanel:2},null,[-1,-1])}}function zt(l,e,t){const n=l.slice();return n[16]=e[t],n[18]=t,n}function qt(l){let e,t=l[0],n=[];for(let i=0;i<t.length;i+=1)n[i]=Kt(zt(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Be()},m(i,o){for(let s=0;s<n.length;s+=1)n[s].m(i,o);E(i,e,o)},p(i,o){if(o&17){t=i[0];let s;for(s=0;s<t.length;s+=1){const r=zt(i,t,s);n[s]?n[s].p(r,o):(n[s]=Kt(r),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){$e(n,i),i&&D(e)}}}function ni(l){let e,t=l[16].name+"",n,i;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",i=l[16].value)},m(o,s){E(o,e,s),m(e,n)},p(o,s){s&1&&t!==(t=o[16].name+"")&&_e(n,t),s&1&&i!==(i=o[16].value)&&O(e,"value",i)},d(o){o&&D(e)}}}function ii(l){let e,t=l[16].name+"",n,i;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",i=l[16].value),O(e,"selected","")},m(o,s){E(o,e,s),m(e,n)},p(o,s){s&1&&t!==(t=o[16].name+"")&&_e(n,t),s&1&&i!==(i=o[16].value)&&O(e,"value",i)},d(o){o&&D(e)}}}function oi(l){let e;function t(o,s){return o[16].value===o[4]?ri:si}let n=t(l),i=n(l);return{c(){i.c(),e=Be()},m(o,s){i.m(o,s),E(o,e,s)},p(o,s){n===(n=t(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&D(e)}}}function si(l){let e,t=l[16].name+"",n,i;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",i=l[16].value)},m(o,s){E(o,e,s),m(e,n)},p(o,s){s&1&&t!==(t=o[16].name+"")&&_e(n,t),s&1&&i!==(i=o[16].value)&&O(e,"value",i)},d(o){o&&D(e)}}}function ri(l){let e,t=l[16].name+"",n,i;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",i=l[16].value),O(e,"selected","")},m(o,s){E(o,e,s),m(e,n)},p(o,s){s&1&&t!==(t=o[16].name+"")&&_e(n,t),s&1&&i!==(i=o[16].value)&&O(e,"value",i)},d(o){o&&D(e)}}}function Kt(l){let e;function t(o,s){return o[4]?oi:o[18]===0?ii:ni}let n=t(l),i=n(l);return{c(){i.c(),e=Be()},m(o,s){i.m(o,s),E(o,e,s)},p(o,s){n===(n=t(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&D(e)}}}function ai(l){let e,t,n,i,o,s=l[0]!=null&&qt(l);return{c(){e=_("div"),t=_("mwc-select"),s&&s.c(),O(t,"fixedmenuposition",!0),O(t,"outlined",""),O(t,"label",l[1]),O(t,"disabled",l[2]),k(e,"class",n="selection-main "+(l[3]==="dark"&&l[3])),se(e,"margin-bottom",ci)},m(r,a){E(r,e,a),m(e,t),s&&s.m(t,null),l[13](t),i||(o=Q(t,"change",l[14]),i=!0)},p(r,[a]){r[0]!=null?s?s.p(r,a):(s=qt(r),s.c(),s.m(t,null)):s&&(s.d(1),s=null),a&2&&O(t,"label",r[1]),a&4&&O(t,"disabled",r[2]),a&8&&n!==(n="selection-main "+(r[3]==="dark"&&r[3]))&&k(e,"class",n)},i:F,o:F,d(r){r&&D(e),s&&s.d(),l[13](null),i=!1,o()}}}let ci="5px";function ui(l,e,t){le(()=>import("./assets/mwc-select-42aecfa5.js"),["assets/mwc-select-42aecfa5.js","assets/lit-element-82482f35.js","assets/mwc-line-ripple-directive-78fa91df.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/query-c429e280.js","assets/mwc-menu-51fad5b3.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/state-bd87d4a2.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js","assets/mwc-icon-e194af94.js","assets/form-element-8d951ec1.js","assets/event-options-6accd613.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(w=>w.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{listData:n}=e,{elementId:i}=e,{selectHandler:o}=e,{defaultTitle:s}=e,{disabled:r}=e;const a=()=>{t(5,p.value="",p)};let{option:c}=e,{resetData:u}=e,{theme:d}=e,{selectedHistory:f}=e,p,g;Qe(()=>{const w=()=>{p!=null&&p.anchorElement?(t(5,p.anchorElement.style.height="40px",p),h()):setTimeout(w,100)};w()});const h=()=>{p.anchorElement.getElementsByTagName("mwc-notched-outline")[0].getElementsByTagName("span")[0].style.marginTop="8px"},b=w=>{w||(w=p.value),o(w),t(12,g=w)};function A(w){pe[w?"unshift":"push"](()=>{p=w,t(5,p)})}const S=()=>b();return l.$$set=w=>{"listData"in w&&t(0,n=w.listData),"elementId"in w&&t(7,i=w.elementId),"selectHandler"in w&&t(8,o=w.selectHandler),"defaultTitle"in w&&t(1,s=w.defaultTitle),"disabled"in w&&t(2,r=w.disabled),"option"in w&&t(10,c=w.option),"resetData"in w&&t(11,u=w.resetData),"theme"in w&&t(3,d=w.theme),"selectedHistory"in w&&t(4,f=w.selectedHistory)},l.$$.update=()=>{l.$$.dirty&4096&&g&&h(),l.$$.dirty&6160&&!g&&!f&&u(),l.$$.dirty&16&&f&&b(f)},[n,s,r,d,f,p,b,i,o,a,c,u,g,A,S]}class Jt extends Oe{constructor(e){super(),Pe(this,e,ui,ai,Ee,{listData:0,elementId:7,selectHandler:8,defaultTitle:1,disabled:2,listReset:9,option:10,resetData:11,theme:3,selectedHistory:4})}get listReset(){return this.$$.ctx[9]}}function Wt(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function Yt(l,e,t){const n=l.slice();return n[19]=e[t],n[21]=t,n}function di(l){let e,t,n,i,o=[],s=new Map,r,a,c=[],u=new Map,d,f,p,g,h,b=l[6];const A=P=>P[19];for(let P=0;P<b.length;P+=1){let T=Yt(l,b,P),L=A(T);s.set(L,o[P]=Qt(L,T))}let S=l[0];const w=P=>P[19].date;for(let P=0;P<S.length;P+=1){let T=Wt(l,S,P),L=w(T);u.set(L,c[P]=Xt(L,T))}return{c(){e=_("table"),t=_("tr"),n=_("td"),i=_("select");for(let P=0;P<o.length;P+=1)o[P].c();r=M(),a=_("select");for(let P=0;P<c.length;P+=1)c[P].c();d=M(),f=_("td"),p=_("textarea"),se(i,"width","100px"),se(i,"height","20px"),k(i,"class","tts-history-date"),se(a,"width","100px"),se(a,"height","230px"),k(a,"class","tts-history-times"),k(a,"size","2"),se(p,"display","block"),se(p,"overflow","auto"),se(p,"word-wrap","break-word"),se(p,"padding","0px"),se(p,"resize","none"),se(p,"width","400px"),se(p,"height","250px"),k(p,"class","tts-history-text"),p.readOnly=!0,p.value=l[4]},m(P,T){E(P,e,T),m(e,t),m(t,n),m(n,i);for(let L=0;L<o.length;L+=1)o[L].m(i,null);l[13](i),m(n,r),m(n,a);for(let L=0;L<c.length;L+=1)c[L].m(a,null);l[14](a),m(n,d),m(t,f),m(f,p),g||(h=[Q(i,"change",l[7]),Q(a,"change",l[9])],g=!0)},p(P,T){T&64&&(b=P[6],o=Ze(o,T,A,1,P,b,s,i,_t,Qt,null,Yt)),T&257&&(S=P[0],c=Ze(c,T,w,1,P,S,u,a,_t,Xt,null,Wt)),T&16&&(p.value=P[4])},d(P){P&&D(e);for(let T=0;T<o.length;T+=1)o[T].d();l[13](null);for(let T=0;T<c.length;T+=1)c[T].d();l[14](null),g=!1,Ve(h)}}}function fi(l){let e;return{c(){e=_("div"),e.innerHTML='<mwc-circular-progress indeterminate=""></mwc-circular-progress>',k(e,"class","loading-circle")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Qt(l,e){let t,n=e[19]+"",i;return{key:l,first:null,c(){t=_("option"),i=te(n),t.__value=e[19],t.value=t.__value,this.first=t},m(o,s){E(o,t,s),m(t,i)},p(o,s){e=o},d(o){o&&D(t)}}}function Xt(l,e){let t,n=e[8](e[19].date)+"",i,o;return{key:l,first:null,c(){t=_("option"),i=te(n),t.__value=o=e[19].text,t.value=t.__value,this.first=t},m(s,r){E(s,t,r),m(t,i)},p(s,r){e=s,r&1&&n!==(n=e[8](e[19].date)+"")&&_e(i,n),r&1&&o!==(o=e[19].text)&&(t.__value=o,t.value=t.__value)},d(s){s&&D(t)}}}function mi(l){let e,t,n,i,o,s,r,a,c,u,d,f;function p(b,A){return b[1]?fi:di}let g=p(l),h=g(l);return{c(){e=_("mwc-dialog"),h.c(),t=M(),n=_("span"),i=_("span"),o=te(l[5]),s=_("mwc-button"),r=te("Copy Content"),c=M(),u=_("mwc-button"),u.textContent="Close",se(i,"position","relative"),se(i,"top","6px"),se(i,"margin-right","10px"),se(i,"font-size","small"),k(i,"class","tts-history-status"),O(s,"disabled",a=!l[4]),k(n,"slot","secondaryAction"),O(u,"slot","primaryAction"),O(e,"heading","History"),O(e,"open","")},m(b,A){E(b,e,A),h.m(e,null),m(e,t),m(e,n),m(n,i),m(i,o),m(n,s),m(s,r),m(e,c),m(e,u),d||(f=[Q(s,"click",l[10]),Q(u,"click",l[11]),Q(e,"closed",l[11])],d=!0)},p(b,[A]){g===(g=p(b))&&h?h.p(b,A):(h.d(1),h=g(b),h&&(h.c(),h.m(e,t))),A&32&&_e(o,b[5]),A&16&&a!==(a=!b[4])&&O(s,"disabled",a)},i:F,o:F,d(b){b&&D(e),h.d(),d=!1,Ve(f)}}}function _i(l,e,t){le(()=>import("./assets/mwc-dialog-3aa9871f.js"),["assets/mwc-dialog-3aa9871f.js","assets/lit-element-82482f35.js","assets/animationframe-8c631bf6.js","assets/foundation-494709f2.js","assets/ponyfill-6fa87599.js","assets/observer-256e3ff7.js","assets/class-map-1571728b.js","assets/query-c429e280.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-circular-progress-95a01484.js"),["assets/mwc-circular-progress-95a01484.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]);let{closeDialog:n}=e,i=window.onlineClient.getBaseUrl(),o=[],s=[],r=[],a=!1,c,u,d="",f="";const p=async()=>{t(1,a=!0),o=(await fetch(`${i}rest/diagrams/assets/tts/history`,{method:"GET",credentials:"include"}).then(v=>v.json())).histories,o.map(v=>{const y=h(v.date);s.includes(y)||s.push(y)}),o.length>0&&g(),t(1,a=!1)},g=()=>{const L=c&&c.value||h(o[0].date);t(4,d=""),t(0,r=o.filter(v=>L==h(v.date)))},h=L=>{const v=new Date(L),y=v.getDate().toString().padStart(2,"0"),V=(v.getMonth()+1).toString().padStart(2,"0"),U=v.getFullYear();return`${y}/${V}/${U}`},b=L=>{const v=new Date(L),y=v.getHours().toString().padStart(2,"0"),V=v.getMinutes().toString().padStart(2,"0"),U=v.getSeconds().toString().padStart(2,"0");return`${y}:${V}:${U}`},A=()=>{t(4,d=u.value)},S=()=>{navigator.clipboard.writeText(d),t(5,f="Copied"),setTimeout(()=>{t(5,f="")},3e3)},w=()=>{n()};function P(L){pe[L?"unshift":"push"](()=>{c=L,t(2,c),t(6,s)})}function T(L){pe[L?"unshift":"push"](()=>{u=L,t(3,u),t(0,r)})}return l.$$set=L=>{"closeDialog"in L&&t(12,n=L.closeDialog)},p(),[r,a,c,u,d,f,s,g,b,A,S,w,n,P,T]}class pi extends Oe{constructor(e){super(),Pe(this,e,_i,mi,Ee,{closeDialog:12})}}function gi(l){let e,t,n,i,o,s,r,a,c,u,d,f,p,g,h,b,A,S,w,P,T,L,v,y,V=l[7](l[5])+"",U,B,z=l[7](l[4])+"",j,R,ee,N,ie,ne=l[6]!=="Pro"&&bi(l),Z=l[6]!=="Pro"&&ki(l);return{c(){e=_("table"),t=_("tr"),n=_("td"),i=_("mwc-linear-progress"),s=M(),r=_("tr"),a=_("td"),c=te(l[3]),u=te(" / "),d=te(l[2]),f=te(" mo. conv"),p=M(),g=_("td"),ne&&ne.c(),h=M(),b=_("tr"),b.innerHTML='<td class="quota-table-gap" colspan="2"></td>',A=M(),S=_("tr"),w=_("td"),P=_("mwc-linear-progress"),L=M(),v=_("tr"),y=_("td"),U=te(V),B=te(" / "),j=te(z),R=M(),ee=_("td"),Z&&Z.c(),N=M(),ie=_("tr"),ie.innerHTML='<td class="quota-table-gap" colspan="2"></td>',O(i,"progress",o=l[3]/l[2]),k(n,"class","quota-table-progress"),k(n,"colspan","2"),k(a,"class","quota-table-quota"),k(g,"class","quota-table-add-more"),O(P,"progress",T=l[5]/l[4]),k(w,"class","quota-table-progress"),k(w,"colspan","2"),k(y,"class","quota-table-quota"),k(ee,"class","quota-table-add-more"),k(e,"class","quota-table")},m(x,$){E(x,e,$),m(e,t),m(t,n),m(n,i),m(e,s),m(e,r),m(r,a),m(a,c),m(a,u),m(a,d),m(a,f),m(r,p),m(r,g),ne&&ne.m(g,null),m(e,h),m(e,b),m(e,A),m(e,S),m(S,w),m(w,P),m(e,L),m(e,v),m(v,y),m(y,U),m(y,B),m(y,j),m(v,R),m(v,ee),Z&&Z.m(ee,null),m(e,N),m(e,ie)},p(x,$){$&12&&o!==(o=x[3]/x[2])&&O(i,"progress",o),$&8&&_e(c,x[3]),$&4&&_e(d,x[2]),x[6]!=="Pro"&&ne.p(x,$),$&48&&T!==(T=x[5]/x[4])&&O(P,"progress",T),$&32&&V!==(V=x[7](x[5])+"")&&_e(U,V),$&16&&z!==(z=x[7](x[4])+"")&&_e(j,z),x[6]!=="Pro"&&Z.p(x,$)},d(x){x&&D(e),ne&&ne.d(),Z&&Z.d()}}}function hi(l){let e;return{c(){e=_("div"),e.innerHTML='<mwc-circular-progress indeterminate=""></mwc-circular-progress>',k(e,"class","loading-circle")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function bi(l){let e,t,n;return{c(){e=_("span"),e.textContent="Add more"},m(i,o){E(i,e,o),t||(n=Q(e,"click",l[0]),t=!0)},p:F,d(i){i&&D(e),t=!1,n()}}}function ki(l){let e,t,n;return{c(){e=_("span"),e.textContent="Add more"},m(i,o){E(i,e,o),t||(n=Q(e,"click",l[0]),t=!0)},p:F,d(i){i&&D(e),t=!1,n()}}}function wi(l){let e;function t(o,s){return o[1]?hi:gi}let n=t(l),i=n(l);return{c(){e=_("div"),i.c(),k(e,"class","quota-panel")},m(o,s){E(o,e,s),i.m(e,null)},p(o,[s]){n===(n=t(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},i:F,o:F,d(o){o&&D(e),i.d()}}}function yi(l,e,t){le(()=>import("./assets/mwc-circular-progress-95a01484.js"),["assets/mwc-circular-progress-95a01484.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]),le(()=>import("./assets/mwc-linear-progress-cef54caf.js"),["assets/mwc-linear-progress-cef54caf.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]);let n=window.onlineClient.getBaseUrl(),i=window.onlineClient.getAeEdition(),o=!1,s,r,a,c;const u=async()=>{t(1,o=!0);const p=await fetch(`${n}rest/diagrams/assets/tts/quota`,{method:"GET",credentials:"include"}).then(h=>h.json()),g=await fetch(`${n}rest/diagrams/projects/storage`,{method:"GET",credentials:"include"}).then(h=>h.json());t(2,s=p.quota),t(3,r=p.used),t(4,a=g.total),t(5,c=g.current),t(1,o=!1)},d=p=>{const g=["KB","MB","GB","TB"];let h=0;for(;p>1024&&h<g.length-1;)p/=1024,h++;return`${Math.round(p*10)/10} ${g[h]}`},f=()=>{typeof window<"u"&&window.onlineClient.showUpgradeWithEdition("co",u,!1)};return u(),[f,o,s,r,a,c,i,d,u]}class vi extends Oe{constructor(e){super(),Pe(this,e,yi,wi,Ee,{fetchQuota:8,showUpgrade:0})}get fetchQuota(){return this.$$.ctx[8]}get showUpgrade(){return this.$$.ctx[0]}}function Zt(l,e,t){const n=l.slice();return n[9]=e[t],n}function xt(l){let e,t,n,i,o,s,r=l[9].name+"",a,c,u,d=me.ttsLangTagConverter(l[9].langTag)+"",f,p,g;function h(){return l[7](l[9])}return{c(){e=_("div"),t=_("img"),i=M(),o=_("div"),s=_("h5"),a=te(r),c=M(),u=_("p"),f=te(d),Fe(t.src,n=l[9].image)||k(t,"src",n),k(t,"alt","speaker image"),k(s,"id","speaker-name"),k(u,"id","speaker-lang"),k(e,"class","recent-speaker-item")},m(b,A){E(b,e,A),m(e,t),m(e,i),m(e,o),m(o,s),m(s,a),m(o,c),m(o,u),m(u,f),p||(g=Q(e,"click",h),p=!0)},p(b,A){l=b,A&1&&!Fe(t.src,n=l[9].image)&&k(t,"src",n),A&1&&r!==(r=l[9].name+"")&&_e(a,r),A&1&&d!==(d=me.ttsLangTagConverter(l[9].langTag)+"")&&_e(f,d)},d(b){b&&D(e),p=!1,g()}}}function Ti(l){let e,t,n,i,o,s,r,a,c,u,d=l[0],f=[];for(let p=0;p<d.length;p+=1)f[p]=xt(Zt(l,d,p));return{c(){e=_("div"),t=_("mwc-dialog"),n=_("h5"),n.textContent="Recent speakers",i=M();for(let p=0;p<f.length;p+=1)f[p].c();o=M(),s=_("mwc-button"),s.textContent="Remove All",r=M(),a=_("mwc-button"),a.textContent="Close",k(n,"id","title"),O(s,"slot","secondaryAction"),O(a,"slot","primaryAction"),O(t,"open",""),k(e,"class","recent-speaker-dialog")},m(p,g){E(p,e,g),m(e,t),m(t,n),m(t,i);for(let h=0;h<f.length;h+=1)f[h].m(t,null);m(t,o),m(t,s),m(t,r),m(t,a),c||(u=[Q(s,"click",l[3]),Q(a,"click",l[1]),Q(t,"closed",l[1])],c=!0)},p(p,[g]){if(g&5){d=p[0];let h;for(h=0;h<d.length;h+=1){const b=Zt(p,d,h);f[h]?f[h].p(b,g):(f[h]=xt(b),f[h].c(),f[h].m(t,o))}for(;h<f.length;h+=1)f[h].d(1);f.length=d.length}},i:F,o:F,d(p){p&&D(e),$e(f,p),c=!1,Ve(u)}}}function Si(l,e,t){le(()=>import("./assets/mwc-dialog-3aa9871f.js"),["assets/mwc-dialog-3aa9871f.js","assets/lit-element-82482f35.js","assets/animationframe-8c631bf6.js","assets/foundation-494709f2.js","assets/ponyfill-6fa87599.js","assets/observer-256e3ff7.js","assets/class-map-1571728b.js","assets/query-c429e280.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(f=>f.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{onSelect:n}=e,{onOpenClose:i}=e,{onUpdateStatus:o}=e,s;const r=()=>{let f=me.getLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY);t(0,s=JSON.parse(f))},a=()=>{i(!1)},c=f=>{n(f),a()},u=()=>{if(confirm("Are you sure you want to remove all recent speakers?"))me.removeLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY),a(),o(!1);else return},d=f=>c(f);return l.$$set=f=>{"onSelect"in f&&t(4,n=f.onSelect),"onOpenClose"in f&&t(5,i=f.onOpenClose),"onUpdateStatus"in f&&t(6,o=f.onUpdateStatus)},r(),[s,a,c,u,n,i,o,d]}class Ai extends Oe{constructor(e){super(),Pe(this,e,Si,Ti,Ee,{onSelect:4,onOpenClose:5,onUpdateStatus:6})}}function $t(l,e,t){const n=l.slice();return n[68]=e[t],n}function Ei(l){let e,t,n,i,o,s,r,a,c,u,d,f,p,g,h,b,A;i=new Jt({props:{listData:ve.TTS_GENDER_LIST,selectHandler:l[32],elementId:"select-1",defaultTitle:"Gender",disabled:l[10],option:{fetch:!1},resetData:l[30],theme:l[1],selectedHistory:l[20]}}),s=new Jt({props:{listData:ve.TTS_LANGUAGE_LIST,selectHandler:l[33],elementId:"select-1",defaultTitle:"Language",disabled:l[10],option:{fetch:!1},resetData:l[30],theme:l[1],selectedHistory:l[21]}});function S(y,V){return y[10]&&!y[11]?Ci:y[10]&&y[11]?Oi:!y[10]&&y[7].length>0?Ii:!y[10]&&y[7].length===0?Li:Pi}let w=S(l),P=w(l);function T(y,V){return y[3]?Bi:Vi}let L=T(l),v=L(l);return{c(){e=_("div"),t=_("mwc-button"),n=M(),ke(i.$$.fragment),o=M(),ke(s.$$.fragment),r=M(),a=_("div"),P.c(),c=M(),u=_("div"),v.c(),d=M(),f=_("div"),p=_("mwc-button"),O(t,"label","Select Speaker"),O(t,"id","back-btn"),O(t,"icon","arrow_back"),O(t,"disabled",l[10]),k(a,"class","speaker-list"),se(a,"height","calc(100% - "+(l[3]?"285px":"185px")+")"),O(p,"raised",""),O(p,"label","Confirm Selection"),O(p,"disabled",g=!l[5]||l[10]&&!l[11]),k(f,"class","speaker-confirm-btn"),k(u,"class","speaker-btn-group"),se(u,"display",l[3]?"block":"none")},m(y,V){E(y,e,V),m(e,t),m(e,n),he(i,e,null),m(e,o),he(s,e,null),m(e,r),m(e,a),P.m(a,null),m(e,c),m(e,u),v.m(u,null),m(u,d),m(u,f),m(f,p),h=!0,b||(A=[Q(t,"click",l[50]),Q(p,"click",l[35])],b=!0)},p(y,V){(!h||V[0]&1024)&&O(t,"disabled",y[10]);const U={};V[0]&1024&&(U.disabled=y[10]),V[0]&2&&(U.theme=y[1]),V[0]&1048576&&(U.selectedHistory=y[20]),i.$set(U);const B={};V[0]&1024&&(B.disabled=y[10]),V[0]&2&&(B.theme=y[1]),V[0]&2097152&&(B.selectedHistory=y[21]),s.$set(B),w===(w=S(y))&&P?P.p(y,V):(P.d(1),P=w(y),P&&(P.c(),P.m(a,null))),(!h||V[0]&8)&&se(a,"height","calc(100% - "+(y[3]?"285px":"185px")+")"),L===(L=T(y))&&v?v.p(y,V):(v.d(1),v=L(y),v&&(v.c(),v.m(u,d))),(!h||V[0]&3104&&g!==(g=!y[5]||y[10]&&!y[11]))&&O(p,"disabled",g),(!h||V[0]&8)&&se(u,"display",y[3]?"block":"none")},i(y){h||(G(i.$$.fragment,y),G(s.$$.fragment,y),h=!0)},o(y){K(i.$$.fragment,y),K(s.$$.fragment,y),h=!1},d(y){y&&D(e),ge(i),ge(s),P.d(),v.d(),b=!1,Ve(A)}}}function Di(l){let e,t,n,i,o,s,r,a,c,u,d,f,p,g,h,b,A,S,w,P,T,L,v,y,V,U,B,z,j=l[16]&&tl(l),R=l[18]&&ll(l);function ee(C,I){return C[9]?Ni:Ri}let N=ee(l),ie=N(l),ne=l[15]&&nl(l);function Z(C,I){return C[4]?Hi:Ui}let x=Z(l),$=x(l),ae=l[19]&&il(l);function Y(C,I){return C[10]&&!C[14]?Gi:ji}let re=Y(l),H=re(l);T=new at({props:{iconType:"tts",listType:"generate",renderData:l[8],loading:l[10],onDelete:""}}),T.$on("addAudio",l[40]);let X=l[12]!==null&&ol(l),ue=l[15]&&sl(l);return{c(){e=_("div"),t=_("div"),n=_("p"),n.innerHTML="<span>*</span>Input your speech",i=M(),o=_("textarea"),s=M(),j&&j.c(),r=M(),R&&R.c(),a=M(),c=_("div"),ie.c(),u=M(),ne&&ne.c(),d=M(),f=_("div"),p=_("p"),p.innerHTML="<span>*</span>Speaker",g=M(),h=_("div"),$.c(),b=M(),ae&&ae.c(),A=M(),S=_("div"),H.c(),w=M(),P=_("div"),ke(T.$$.fragment),L=M(),X&&X.c(),v=M(),y=_("div"),y.innerHTML=`<mwc-icon>info</mwc-icon> 
                <ol><li>Click <b>Generate</b>, listen to the result, and click <b>+</b> to add it to the timeline. A monthly conversion count will be deducted once it is added</li> 
                    <li>Voice generation requires processing time. You can click <b>Generate</b> now and come back later</li></ol>`,V=M(),ue&&ue.c(),k(n,"id","tts-tool-label"),k(o,"id","tts-textarea"),k(o,"rows",10),k(o,"cols",30),k(t,"class","tts-text-area"),k(c,"class","tts-text-area-tools"),k(p,"id","tts-tool-label"),k(h,"class","speaker-info-area"),se(h,"justify-content",l[4]?"":"center"),k(f,"class","selected-speakers"),k(S,"class","control-button-area"),k(P,"class","result-area"),k(y,"class","instruction-area"),k(e,"class","tts-input-area")},m(C,I){E(C,e,I),m(e,t),m(t,n),m(t,i),m(t,o),l[46](o),m(e,s),j&&j.m(e,null),m(e,r),R&&R.m(e,null),m(e,a),m(e,c),ie.m(c,null),m(c,u),ne&&ne.m(c,null),m(e,d),m(e,f),m(f,p),m(f,g),m(f,h),$.m(h,null),m(f,b),ae&&ae.m(f,null),m(e,A),m(e,S),H.m(S,null),m(e,w),m(e,P),he(T,P,null),m(e,L),X&&X.m(e,null),m(e,v),m(e,y),m(e,V),ue&&ue.m(e,null),U=!0,B||(z=[Q(o,"input",l[23]),Q(h,"click",l[47])],B=!0)},p(C,I){C[16]?j?(j.p(C,I),I[0]&65536&&G(j,1)):(j=tl(C),j.c(),G(j,1),j.m(e,r)):j&&(Le(),K(j,1,1,()=>{j=null}),Ie()),C[18]?R?(R.p(C,I),I[0]&262144&&G(R,1)):(R=ll(C),R.c(),G(R,1),R.m(e,a)):R&&(Le(),K(R,1,1,()=>{R=null}),Ie()),N===(N=ee(C))&&ie?ie.p(C,I):(ie.d(1),ie=N(C),ie&&(ie.c(),ie.m(c,u))),C[15]?ne?ne.p(C,I):(ne=nl(C),ne.c(),ne.m(c,null)):ne&&(ne.d(1),ne=null),x===(x=Z(C))&&$?$.p(C,I):($.d(1),$=x(C),$&&($.c(),$.m(h,null))),(!U||I[0]&16)&&se(h,"justify-content",C[4]?"":"center"),C[19]?ae?ae.p(C,I):(ae=il(C),ae.c(),ae.m(f,null)):ae&&(ae.d(1),ae=null),re===(re=Y(C))&&H?H.p(C,I):(H.d(1),H=re(C),H&&(H.c(),H.m(S,null)));const oe={};I[0]&256&&(oe.renderData=C[8]),I[0]&1024&&(oe.loading=C[10]),T.$set(oe),C[12]!==null?X?X.p(C,I):(X=ol(C),X.c(),X.m(e,v)):X&&(X.d(1),X=null),C[15]?ue?(ue.p(C,I),I[0]&32768&&G(ue,1)):(ue=sl(C),ue.c(),G(ue,1),ue.m(e,null)):ue&&(Le(),K(ue,1,1,()=>{ue=null}),Ie())},i(C){U||(G(j),G(R),G(T.$$.fragment,C),G(ue),U=!0)},o(C){K(j),K(R),K(T.$$.fragment,C),K(ue),U=!1},d(C){C&&D(e),l[46](null),j&&j.d(),R&&R.d(),ie.d(),ne&&ne.d(),$.d(),ae&&ae.d(),H.d(),ge(T),X&&X.d(),ue&&ue.d(),B=!1,Ve(z)}}}function Pi(l){let e;return{c(){e=_("div"),e.innerHTML="<h4>Select a speaker</h4>",k(e,"class","speaker-list-text-area")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Li(l){let e;return{c(){e=_("div"),e.innerHTML="<h4>No speaker is available</h4>",k(e,"class","speaker-list-text-area")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Ii(l){let e,t=l[7],n=[];for(let i=0;i<t.length;i+=1)n[i]=el($t(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Be()},m(i,o){for(let s=0;s<n.length;s+=1)n[s].m(i,o);E(i,e,o)},p(i,o){if(o[0]&128|o[1]&264){t=i[7];let s;for(s=0;s<t.length;s+=1){const r=$t(i,t,s);n[s]?n[s].p(r,o):(n[s]=el(r),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){$e(n,i),i&&D(e)}}}function Oi(l){let e,t,n,i,o,s;return{c(){e=_("div"),t=_("h4"),t.textContent="Playing sample speech...",n=M(),i=_("a"),i.textContent="Cancel",k(i,"id","cancel-fetch-link"),k(e,"class","speaker-list-text-area")},m(r,a){E(r,e,a),m(e,t),m(e,n),m(e,i),o||(s=Q(i,"click",l[37]),o=!0)},p:F,d(r){r&&D(e),o=!1,s()}}}function Ci(l){let e,t,n,i,o,s;return{c(){e=_("div"),t=_("h4"),t.textContent="Loading sample speech...",n=M(),i=_("a"),i.textContent="Cancel",k(i,"id","cancel-fetch-link"),k(e,"class","speaker-list-text-area")},m(r,a){E(r,e,a),m(e,t),m(e,n),m(e,i),o||(s=Q(i,"click",l[38]),o=!0)},p:F,d(r){r&&D(e),o=!1,s()}}}function el(l){let e,t,n,i,o,s,r,a,c,u,d,f,p,g,h=l[68].name+"",b,A,S,w,P;function T(){return l[51](l[68])}function L(...v){return l[52](l[68],...v)}return{c(){e=_("div"),t=_("a"),n=_("img"),s=M(),r=_("div"),a=_("a"),c=_("mwc-icon"),c.textContent="play_arrow",d=M(),f=_("br"),p=M(),g=_("p"),b=te(h),S=M(),k(n,"id",i=l[68].selected),Fe(n.src,o=l[68].image)||k(n,"src",o),k(n,"draggable","false"),k(n,"alt","speaker"),k(a,"id",u=`play-btn-${l[68].selected}`),k(r,"class","in-image-btn"),k(g,"id","speaker-name"),k(g,"title",A=l[68].name),k(e,"class","speaker-item")},m(v,y){E(v,e,y),m(e,t),m(t,n),m(t,s),m(t,r),m(r,a),m(a,c),m(e,d),m(e,f),m(e,p),m(e,g),m(g,b),m(e,S),w||(P=[Q(a,"click",T),Q(t,"click",L)],w=!0)},p(v,y){l=v,y[0]&128&&i!==(i=l[68].selected)&&k(n,"id",i),y[0]&128&&!Fe(n.src,o=l[68].image)&&k(n,"src",o),y[0]&128&&u!==(u=`play-btn-${l[68].selected}`)&&k(a,"id",u),y[0]&128&&h!==(h=l[68].name+"")&&_e(b,h),y[0]&128&&A!==(A=l[68].name)&&k(g,"title",A)},d(v){v&&D(e),w=!1,Ve(P)}}}function Vi(l){let e;return{c(){e=_("h5"),e.textContent="Select a speaker",k(e,"id","selected-speaker-holder")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Bi(l){let e,t,n,i=l[3].name+"",o,s,r;return{c(){e=_("h5"),t=te("Selected: "),n=_("span"),o=te(i),s=_("img"),Fe(s.src,r=l[3].image)||k(s,"src",r),k(s,"draggable","false"),k(s,"alt","speaker"),k(s,"width","40"),k(e,"id","selected-speaker-title")},m(a,c){E(a,e,c),m(e,t),m(e,n),m(n,o),m(e,s)},p(a,c){c[0]&8&&i!==(i=a[3].name+"")&&_e(o,i),c[0]&8&&!Fe(s.src,r=a[3].image)&&k(s,"src",r)},d(a){a&&D(e)}}}function tl(l){let e,t;return e=new ht({props:{target:document.body,$$slots:{default:[Mi]},$$scope:{ctx:l}}}),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[2]&512&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function Mi(l){let e,t,n;return t=new pi({props:{closeDialog:l[27]}}),{c(){e=_("div"),ke(t.$$.fragment),se(e,"position","absolute"),se(e,"z-index","10")},m(i,o){E(i,e,o),he(t,e,null),n=!0},p:F,i(i){n||(G(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){i&&D(e),ge(t)}}}function ll(l){let e,t;return e=new ht({props:{target:document.body,$$slots:{default:[Fi]},$$scope:{ctx:l}}}),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[2]&512&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function Fi(l){let e,t,n;return t=new Ai({props:{onOpenClose:l[28],onSelect:l[36],onUpdateStatus:l[31]}}),{c(){e=_("div"),ke(t.$$.fragment),se(e,"position","absolute"),se(e,"z-index","10")},m(i,o){E(i,e,o),he(t,e,null),n=!0},p:F,i(i){n||(G(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){i&&D(e),ge(t)}}}function Ri(l){let e,t;return{c(){e=_("img"),Fe(e.src,t=l[22]+"/diagrams/images/vp/actions_panel/clear"+(l[1]==="dark"?"-dark":"")+".svg")||k(e,"src",t),k(e,"class","icon-disabled"),k(e,"draggable","false"),k(e,"title","Clear Speech Content")},m(n,i){E(n,e,i)},p(n,i){i[0]&2&&!Fe(e.src,t=n[22]+"/diagrams/images/vp/actions_panel/clear"+(n[1]==="dark"?"-dark":"")+".svg")&&k(e,"src",t)},d(n){n&&D(e)}}}function Ni(l){let e,t,n,i;return{c(){e=_("img"),Fe(e.src,t=l[22]+"/diagrams/images/vp/actions_panel/clear"+(l[1]==="dark"?"-dark":"")+".svg")||k(e,"src",t),k(e,"draggable","false"),k(e,"title","Clear Speech Content")},m(o,s){E(o,e,s),n||(i=Q(e,"click",l[24]),n=!0)},p(o,s){s[0]&2&&!Fe(e.src,t=o[22]+"/diagrams/images/vp/actions_panel/clear"+(o[1]==="dark"?"-dark":"")+".svg")&&k(e,"src",t)},d(o){o&&D(e),n=!1,i()}}}function nl(l){let e,t,n,i;return{c(){e=_("img"),Fe(e.src,t=l[22]+"/diagrams/images/vp/actions_panel/revision-history"+(l[1]==="dark"?"-dark":"")+".svg")||k(e,"src",t),k(e,"draggable","false"),k(e,"title","History")},m(o,s){E(o,e,s),n||(i=Q(e,"click",l[26]),n=!0)},p(o,s){s[0]&2&&!Fe(e.src,t=o[22]+"/diagrams/images/vp/actions_panel/revision-history"+(o[1]==="dark"?"-dark":"")+".svg")&&k(e,"src",t)},d(o){o&&D(e),n=!1,i()}}}function Ui(l){let e;return{c(){e=_("span"),e.innerHTML="<b>Select Speaker</b>"},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Hi(l){let e,t,n,i,o,s=l[4].name+"",r,a,c,u,d,f=me.ttsGenderConverter(l[4].gender)+"",p,g,h,b,A,S=me.ttsLangTagConverter(l[4].langTag)+"",w,P,T,L;return{c(){e=_("img"),n=M(),i=_("span"),o=_("span"),r=te(s),a=te(","),u=M(),d=_("span"),p=te(f),g=te(","),b=M(),A=_("span"),w=te(S),T=M(),L=_("mwc-icon"),L.textContent="cached",Fe(e.src,t=l[4].image)||k(e,"src",t),k(e,"width","32"),k(o,"title",c=l[4].name),k(d,"title",h=me.ttsGenderConverter(l[4].gender)),k(A,"title",P=me.ttsLangTagConverter(l[4].langTag)),k(i,"id","speaker-data")},m(v,y){E(v,e,y),E(v,n,y),E(v,i,y),m(i,o),m(o,r),m(o,a),m(i,u),m(i,d),m(d,p),m(d,g),m(i,b),m(i,A),m(A,w),E(v,T,y),E(v,L,y)},p(v,y){y[0]&16&&!Fe(e.src,t=v[4].image)&&k(e,"src",t),y[0]&16&&s!==(s=v[4].name+"")&&_e(r,s),y[0]&16&&c!==(c=v[4].name)&&k(o,"title",c),y[0]&16&&f!==(f=me.ttsGenderConverter(v[4].gender)+"")&&_e(p,f),y[0]&16&&h!==(h=me.ttsGenderConverter(v[4].gender))&&k(d,"title",h),y[0]&16&&S!==(S=me.ttsLangTagConverter(v[4].langTag)+"")&&_e(w,S),y[0]&16&&P!==(P=me.ttsLangTagConverter(v[4].langTag))&&k(A,"title",P)},d(v){v&&D(e),v&&D(n),v&&D(i),v&&D(T),v&&D(L)}}}function il(l){let e,t,n,i,o;return{c(){e=_("a"),t=te("Recent Speakers"),k(e,"class",n="recent-speakers "+(l[10]?"disabled":""))},m(s,r){E(s,e,r),m(e,t),i||(o=Q(e,"click",function(){He(l[10]?{}:l[48])&&(l[10]?{}:l[48]).apply(this,arguments)}),i=!0)},p(s,r){l=s,r[0]&1024&&n!==(n="recent-speakers "+(l[10]?"disabled":""))&&k(e,"class",n)},d(s){s&&D(e),i=!1,o()}}}function ji(l){let e,t,n,i;return{c(){e=_("mwc-button"),O(e,"outlined",""),O(e,"label","Generate"),O(e,"fullwidth",""),O(e,"disabled",t=!(l[9]&&l[6])||l[10])},m(o,s){E(o,e,s),n||(i=Q(e,"click",l[25]),n=!0)},p(o,s){s[0]&1600&&t!==(t=!(o[9]&&o[6])||o[10])&&O(e,"disabled",t)},d(o){o&&D(e),n=!1,i()}}}function Gi(l){let e,t,n;return{c(){e=_("mwc-button"),O(e,"id","cancel-btn"),O(e,"raised",""),O(e,"label","Cancel"),O(e,"fullwidth","")},m(i,o){E(i,e,o),t||(n=Q(e,"click",l[38]),t=!0)},p:F,d(i){i&&D(e),t=!1,n()}}}function ol(l){let e;function t(o,s){return o[12]==="The user aborted a request."?Ki:o[12]==="429"?qi:zi}let n=t(l),i=n(l);return{c(){e=_("div"),i.c(),k(e,"class","result-error")},m(o,s){E(o,e,s),i.m(e,null)},p(o,s){n!==(n=t(o))&&(i.d(1),i=n(o),i&&(i.c(),i.m(e,null)))},d(o){o&&D(e),i.d()}}}function zi(l){let e;return{c(){e=_("span"),e.textContent="An error occurred, please try again."},m(t,n){E(t,e,n)},d(t){t&&D(e)}}}function qi(l){let e;return{c(){e=_("span"),e.textContent="Sorry, you are over the limit of generating speech."},m(t,n){E(t,e,n)},d(t){t&&D(e)}}}function Ki(l){let e;return{c(){e=_("span"),e.textContent="Generate cancelled"},m(t,n){E(t,e,n)},d(t){t&&D(e)}}}function sl(l){let e,t,n={};return e=new vi({props:n}),l[49](e),{c(){ke(e.$$.fragment)},m(i,o){he(e,i,o),t=!0},p(i,o){const s={};e.$set(s)},i(i){t||(G(e.$$.fragment,i),t=!0)},o(i){K(e.$$.fragment,i),t=!1},d(i){l[49](null),ge(e,i)}}}function Ji(l){let e,t,n,i,o,s,r,a,c;const u=[Di,Ei],d=[];function f(p,g){return p[0]?1:0}return o=f(l),s=d[o]=u[o](l),{c(){e=_("div"),t=_("audio"),i=M(),s.c(),Fe(t.src,n="")||k(t,"src",n),k(t,"preload","metadata"),k(e,"class",r="tools-panel "+(l[1]==="dark"&&l[1])),k(e,"id",a=l[0]?"speakerPanel":"tools-panel")},m(p,g){E(p,e,g),m(e,t),l[45](t),m(e,i),d[o].m(e,null),c=!0},p(p,g){let h=o;o=f(p),o===h?d[o].p(p,g):(Le(),K(d[h],1,1,()=>{d[h]=null}),Ie(),s=d[o],s?s.p(p,g):(s=d[o]=u[o](p),s.c()),G(s,1),s.m(e,null)),(!c||g[0]&2&&r!==(r="tools-panel "+(p[1]==="dark"&&p[1])))&&k(e,"class",r),(!c||g[0]&1&&a!==(a=p[0]?"speakerPanel":"tools-panel"))&&k(e,"id",a)},i(p){c||(G(s),c=!0)},o(p){K(s),c=!1},d(p){p&&D(e),l[45](null),d[o].d()}}}function Wi(l,e,t){le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]),le(()=>import("./assets/mwc-icon-button-ce175de3.js"),["assets/mwc-icon-button-ce175de3.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-textarea-d3f3a398.js"),["assets/mwc-textarea-d3f3a398.js","assets/lit-element-82482f35.js","assets/mwc-textfield.css-7088463b.js","assets/mwc-line-ripple-directive-78fa91df.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/query-c429e280.js","assets/form-element-8d951ec1.js","assets/observer-256e3ff7.js","assets/state-bd87d4a2.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]);const n=ze();let{showSpeakerPanel:i=!1}=e,{speakersData:o}=e,{theme:s}=e,{updateTabActiveIndex:r}=e,a,c,u,d,f,p,g,h,b=[],A=[],S=!1,w=!1,P=!1,T=null,L,v,y=window.onlineClient.isLoggedIn(),V=window.onlineClient.getCdn(),U=!1,B,z=!1,j,R=!1,ee,N;const ie=()=>{p?t(5,f=!0):t(5,f=!1)},ne=()=>{h?t(6,g=!0):t(6,g=!1)},Z=()=>{localStorage.setItem("ttsText",c.value),c.value?t(9,S=!0):t(9,S=!1)},x=()=>{c&&localStorage.getItem("ttsText")?(t(2,c.value=localStorage.getItem("ttsText"),c),t(9,S=!0)):localStorage.getItem("ttsText")||t(9,S=!1)},$=()=>{t(2,c.value="",c),Z()},ae=()=>{a=c.value,window.removeEventListener("beforeunload",C),window.addEventListener("beforeunload",C),De()},Y=()=>{t(16,U=!0)},re=()=>{t(16,U=!1)},H=W=>{t(18,z=W)},X=W=>{W&&!w?t(0,i=!0):t(0,i=!1)},ue=()=>{oe("f"),q("en_us")},C=W=>{W.preventDefault(),W.returnValue=""},I=W=>t(19,j=W),oe=W=>{t(44,d=W);let ce=o,de;u?(de=ce.filter(fe=>fe.gender===W),de=de.filter(fe=>fe.langTag===u),t(7,b=de)):(de=ce.filter(fe=>fe.gender===W),t(7,b=de))},q=W=>{t(43,u=W);let ce=o,de;d?(de=ce.filter(fe=>fe.langTag===W),de=de.filter(fe=>fe.gender===d),t(7,b=de)):(de=ce.filter(fe=>fe.langTag===W),t(7,b=de))},be=()=>{if(localStorage.getItem("clicked-speaker")||p){let W=p?p.name:localStorage.getItem("clicked-speaker");t(5,f=!1);let ce=o;if(ce&&ce.length>0){let de=ce.findIndex(fe=>fe.name===W);de!=-1&&(ce[de].selected="img-normal",t(3,p=null))}}else return},Se=W=>{if(localStorage.setItem("clicked-speaker",W.name),p){let ce=b.findIndex(de=>de.name===p.name);t(7,b[ce].selected="img-normal",b),t(3,p=W),ce=b.findIndex(de=>de.name===W.name),t(7,b[ce].selected="img-selected",b)}else{let ce=b.findIndex(de=>de.name===W.name);t(7,b[ce].selected="img-selected",b),t(3,p=W)}},we=()=>{Ce(),X(!1),t(4,h=p),h&&Ae(h),t(20,ee=h.gender),t(21,N=h.langTag),be()},ye=W=>{let ce,de=me.getLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY);if(de){ce=JSON.parse(de);let fe=ce.findIndex(Ue=>Ue.image===W.image),Ne=ce.splice(fe,1)[0];ce.push(Ne),me.setLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY,ce,!0)}t(4,h=W),be()},Ce=()=>{t(11,P=!1),t(10,w=!1),L.pause(),t(13,L.src="",L)},Ae=W=>{let ce=[],de=me.getLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY);t(19,j=!0),de?(ce=JSON.parse(de),ce.push(W),ce=ce.filter((fe,Ne)=>Ne===ce.findIndex(Ue=>JSON.stringify(Ue)===JSON.stringify(fe))),ce.length>5&&ce.shift(),me.setLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY,ce,!0)):me.setLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY,[W],!0)},J=()=>{tt.fetchController.abort()},Te=(W,ce,de)=>{fetch(W).then(function(fe){if(fe.ok)return fe.blob();throw new Error(fe.status.toString())}).then(fe=>{Ge(fe,ce,W,de)}).catch(fe=>{t(12,T=fe.message),t(10,w=!1),console.log(fe.message),setTimeout(()=>{t(12,T=null)},3e3)})},De=(W,ce)=>{t(10,w=!0),t(12,T=null);let de={},fe=W?p:h;de={text:W?ve.TTS_DEMO_SPEECH:a,append_silent:0,model:fe.model,speaker:fe.speaker},W&&ce?Te(ce,W,null):window.onlineClient.performLoggedInAction(()=>{t(15,y=window.onlineClient.isLoggedIn()),Me(de,W)},()=>{t(10,w=!1)})},Me=(W,ce)=>{const{text:de}=W;me.countSentenceWords(de)>1e3?confirm(ve.OVER_TEXT_LIMIT_MSG)?je(W,ce):t(10,w=!1):je(W,ce)},je=async(W,ce)=>{try{t(14,v=await tt.generateTempTts(W)),R=!1;let de=tt.calculateAudioUrl(v,"internal-temp-tts");Te(de,ce,v)}catch(de){t(10,w=!1),console.log(`Generate TTS with error ${de.message}`),de.message=="429"&&B?B.showUpgrade():(t(12,T=de.message),setTimeout(()=>{t(12,T=null)},3e3))}},qe=W=>new Promise((ce,de)=>{let fe=document.createElement("audio"),Ne=URL.createObjectURL(W);fe.preload="metadata",fe.onloadedmetadata=function(){let Ue=fe.duration;ce({objectUrl:Ne,duration:Ue})},fe.onerror=function(Ue){de(Ue)},fe.src=Ne}),Ge=async(W,ce,de,fe)=>{t(8,A=[]);let Ne=new File([W],"Generated speech",{type:"audio/wav"});var Ue=new FileReader;Ue.readAsDataURL(Ne),Ue.onload=async function(){if(ce)t(13,L.src=Ue.result,L),L.play(),t(11,P=!0),t(13,L.onended=()=>{t(10,w=!1),t(11,P=!1)},L);else{const{objectUrl:ct,duration:kt}=await qe(Ne);let Fl={id:fe,name:a,path:ct,audioFile:Ne,duration:kt};A.push(Fl),t(10,w=!1),t(14,v="")}}},Ke=async()=>{try{let W=A[A.length-1],ce=await tt.confirmTts(W.id),de=tt.calculateAudioUrl(ce,"internal-tts");return W.id=ce,W.path=de,R=!0,ce}catch(W){console.log(`Save TTS with error ${W.message}`),W.message=="429"&&B?B.showUpgrade():(t(12,T=W.message),setTimeout(()=>{t(12,T=null)},3e3))}finally{B&&B.fetchQuota()}},Xe=async W=>{const{detail:ce}=W,{id:de,name:fe,type:Ne,duration:Ue,url:ct}=ce;if(R)n("addAudio",{id:de,name:fe,type:Ne,duration:Ue,url:ct});else{let kt=await Ke();n("addAudio",{id:kt,name:fe,type:Ne,duration:Ue,url:ct})}};function Re(W){pe[W?"unshift":"push"](()=>{L=W,t(13,L)})}function Ye(W){pe[W?"unshift":"push"](()=>{c=W,t(2,c)})}const bt=()=>X(!0),Ol=()=>H(!0);function Cl(W){pe[W?"unshift":"push"](()=>{B=W,t(17,B)})}const Vl=()=>X(!1),Bl=W=>De(!0,W.sample),Ml=(W,ce)=>Se(W);return l.$$set=W=>{"showSpeakerPanel"in W&&t(0,i=W.showSpeakerPanel),"speakersData"in W&&t(41,o=W.speakersData),"theme"in W&&t(1,s=W.theme),"updateTabActiveIndex"in W&&t(42,r=W.updateTabActiveIndex)},l.$$.update=()=>{l.$$.dirty[0]&8&&p&&ie(),l.$$.dirty[0]&16&&h&&ne(),l.$$.dirty[0]&5&&i===!1&&c&&x(),l.$$.dirty[1]&4096&&u&&be(),l.$$.dirty[1]&8192&&d&&be()},be(),me.getLocalStorage(ve.SPEAKERS_LOCAL_STORAGE_KEY)&&t(19,j=!0),[i,s,c,p,h,f,g,b,A,S,w,P,T,L,v,y,U,B,z,j,ee,N,V,Z,$,ae,Y,re,H,X,ue,I,oe,q,Se,we,ye,Ce,J,De,Xe,o,r,u,d,Re,Ye,bt,Ol,Cl,Vl,Bl,Ml]}class Yi extends Oe{constructor(e){super(),Pe(this,e,Wi,Ji,Ee,{showSpeakerPanel:0,speakersData:41,theme:1,updateTabActiveIndex:42},null,[-1,-1,-1])}}function rl(l){let e,t,n,i,o,s,r,a,c,u,d,f,p,g,h,b,A,S,w,P,T;function L(U,B){return U[7]>0?Xi:Qi}let v=L(l),y=v(l),V=!l[0].progressData&&al(l);return{c(){e=_("div"),t=_("div"),n=_("div"),i=_("mwc-icon"),i.textContent="more_horiz",s=M(),r=_("div"),a=_("mwc-icon"),a.textContent="play_arrow",u=M(),d=_("div"),f=_("div"),p=M(),g=_("div"),h=_("h5"),y.c(),A=M(),V&&V.c(),k(n,"class","video-more-func-btn"),k(n,"style",o=l[10]&&!l[11]&&!l[15]&&!l[16]?"visibility: hidden;":""),k(r,"class","video-play-btn"),k(r,"style",c=l[10]?l[13]?"display: none;":"visibility: hidden;":""),k(f,"class","circular-progress"),k(f,"title","Loading"),k(d,"class","video-job"),k(d,"style",l[13]?"":"display: none;"),k(g,"class","video-duration"),k(g,"style",b=l[10]?"visibility: hidden;":""),k(t,"class","video-inner-block"),k(t,"draggable","true"),k(e,"class","video-block"),k(e,"title",S=l[0].name),k(e,"style",w="background-image: url("+l[20](l[0])+");"+(l[10],""))},m(U,B){E(U,e,B),m(e,t),m(t,n),m(n,i),m(t,s),m(t,r),m(r,a),m(t,u),m(t,d),m(d,f),m(t,p),m(t,g),m(g,h),y.m(h,null),m(t,A),V&&V.m(t,null),P||(T=[Q(i,"mousedown",l[23]),Q(i,"click",l[29]),Q(a,"mousedown",l[23]),Q(a,"click",l[30]),Q(t,"mousedown",l[36]),Q(t,"mousemove",l[37]),Q(t,"mouseup",l[38]),Q(t,"dragstart",l[39])],P=!0)},p(U,B){B[0]&3072&&o!==(o=U[10]&&!U[11]&&!U[15]&&!U[16]?"visibility: hidden;":"")&&k(n,"style",o),B[0]&1024&&c!==(c=U[10]?U[13]?"display: none;":"visibility: hidden;":"")&&k(r,"style",c),v===(v=L(U))&&y?y.p(U,B):(y.d(1),y=v(U),y&&(y.c(),y.m(h,null))),B[0]&1024&&b!==(b=U[10]?"visibility: hidden;":"")&&k(g,"style",b),U[0].progressData?V&&(V.d(1),V=null):V?V.p(U,B):(V=al(U),V.c(),V.m(t,null)),B[0]&1&&S!==(S=U[0].name)&&k(e,"title",S),B[0]&1025&&w!==(w="background-image: url("+U[20](U[0])+");"+(U[10],""))&&k(e,"style",w)},d(U){U&&D(e),y.d(),V&&V.d(),P=!1,Ve(T)}}}function Qi(l){let e;return{c(){e=te("NA")},m(t,n){E(t,e,n)},p:F,d(t){t&&D(e)}}}function Xi(l){let e;return{c(){e=te(l[8])},m(t,n){E(t,e,n)},p(t,n){n[0]&256&&_e(e,t[8])},d(t){t&&D(e)}}}function al(l){let e,t,n,i,o,s=l[11]&&cl(l),r=l[15]&&Zi(l),a=l[16]&&xi(l),c=l[14]&&$i(l);return{c(){e=_("mwc-menu"),s&&s.c(),t=M(),r&&r.c(),n=M(),a&&a.c(),i=M(),c&&c.c(),O(e,"class",o="video-drop-menu"+(l[2]?"-last":"")),O(e,"id","menu")},m(u,d){E(u,e,d),s&&s.m(e,null),m(e,t),r&&r.m(e,null),m(e,n),a&&a.m(e,null),m(e,i),c&&c.m(e,null),l[35](e)},p(u,d){u[11]?s?s.p(u,d):(s=cl(u),s.c(),s.m(e,t)):s&&(s.d(1),s=null),u[15]&&r.p(u,d),u[16]&&a.p(u,d),u[14]&&c.p(u,d),d[0]&4&&o!==(o="video-drop-menu"+(u[2]?"-last":""))&&O(e,"class",o)},d(u){u&&D(e),s&&s.d(),r&&r.d(),a&&a.d(),c&&c.d(),l[35](null)}}}function cl(l){let e,t,n;return{c(){e=_("mwc-list-item"),e.textContent="Add"},m(i,o){E(i,e,o),t||(n=[Q(e,"mousedown",l[23]),Q(e,"click",l[31])],t=!0)},p:F,d(i){i&&D(e),t=!1,Ve(n)}}}function Zi(l){let e,t,n;return{c(){e=_("mwc-list-item"),e.textContent="Details"},m(i,o){E(i,e,o),t||(n=[Q(e,"mousedown",l[23]),Q(e,"click",l[32])],t=!0)},p:F,d(i){i&&D(e),t=!1,Ve(n)}}}function xi(l){let e,t,n;return{c(){e=_("mwc-list-item"),e.textContent="Delete"},m(i,o){E(i,e,o),t||(n=[Q(e,"mousedown",l[23]),Q(e,"click",l[33])],t=!0)},p:F,d(i){i&&D(e),t=!1,Ve(n)}}}function $i(l){let e,t,n,i,o,s="From "+l[3]+`
(Terms of Use)`,r,a,c;return{c(){e=_("li"),t=M(),n=_("mwc-list-item"),i=_("div"),o=_("div"),r=te(s),k(e,"divider",""),k(e,"role","separator"),se(i,"padding-top","6px"),se(i,"white-space","pre"),se(n,"height","44px"),se(n,"cursor","pointer"),se(n,"pointer-events","auto")},m(u,d){E(u,e,d),E(u,t,d),E(u,n,d),m(n,i),m(i,o),m(o,r),a||(c=Q(n,"click",l[34]),a=!0)},p(u,d){d[0]&8&&s!==(s="From "+u[3]+`
(Terms of Use)`)&&_e(r,s)},d(u){u&&D(e),u&&D(t),u&&D(n),a=!1,c()}}}function eo(l){let e,t=l[0]!=null&&rl(l);return{c(){e=_("div"),t&&t.c(),k(e,"class","video-item-block")},m(n,i){E(n,e,i),t&&t.m(e,null)},p(n,i){n[0]!=null?t?t.p(n,i):(t=rl(n),t.c(),t.m(e,null)):t&&(t.d(1),t=null)},i:F,o:F,d(n){n&&D(e),t&&t.d()}}}function to(l,e,t){le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-button-ce175de3.js"),["assets/mwc-icon-button-ce175de3.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-checkbox-e4190b37.js"),["assets/mwc-checkbox-e4190b37.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/form-element-8d951ec1.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-circular-progress-95a01484.js"),["assets/mwc-circular-progress-95a01484.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]),le(()=>import("./assets/mwc-menu-51fad5b3.js").then(J=>J.m),["assets/mwc-menu-51fad5b3.js","assets/lit-element-82482f35.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(J=>J.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{video:n}=e,{onDelete:i}=e,{userBaseUrl:o}=e,{isOpenPlayer:s="none"}=e,{videoSrc:r}=e,{playerOpenHandler:a}=e,{isLast:c}=e,{listType:u=""}=e,{externalVideoProvider:d=""}=e,f,p,g,h,b,A,S={name:"",size:"",createAt:"",lastModified:""};const w=n.progressData!=null;let P=w||f!="h264",T=!P;const L=u==="external",v=!w&&!L,y=!w&&!L,V=ze(),U=J=>J==="user"?"video":"global-video",B=(J,Te)=>L?n.videoUrl:`${o}rest/diagrams/assets/${Te}${J=="h264"?".mp4":""}`,z=(J,Te,De,Me,je,qe)=>{const{id:Ge,name:Ke}=J,Xe=U(Te),Re=N(J),Ye=B(De,Ge);V("addVideo",{id:Ge,name:Ke,type:Xe,thumbnail:Re,codec:De,width:Number(Me),height:Number(je),duration:Number(qe),url:Ye})},j=(J,Te,De,Me,je,qe,Ge)=>{const{id:Ke,name:Xe}=Te,Re=Ke,Ye=B(Me,Re),bt=N(L?n:Te);V("dragStart",{videoId:Re,videoUrl:Ye,name:Xe,thumbnail:bt,codec:Me,width:je,height:qe,duration:Ge,dragStartEvent:J})},R=J=>{o?(t(24,r=L?n.videoUrl:`${o}rest/diagrams/assets/${J}`),window.onlineClient.videoPlayerModal(r),a()):console.log("Please login.")},ee=()=>{A.setAttribute("open","")},N=J=>L?J.thumbnailUrl:w?`${o}rest/diagrams/assets/${J.progressData}/thumbnail`:P?"/images/video-demo-thumbnail-disabled.png":`${o}rest/diagrams/assets/${J.id}/thumbnail`,ie=J=>{if(L){t(4,f="h264"),t(10,P=!1),t(11,T=!0),t(5,p=n.width),t(6,g=n.height),t(7,h=n.duration),t(8,b=me.secondToHHmmss(h));return}fetch(`${o}rest/diagrams/assets/${J}/meta`,{method:"GET",credentials:"include"}).then(Te=>{Te.json().then(De=>{t(4,f=De.codec),t(5,p=De.width),t(6,g=De.height),t(7,h=De.duration);let Me=me.secondToHHmmss(h);t(8,b=Me),t(10,P=w||f!="h264"),t(11,T=!P)})})},ne=(J,Te,De,Me,je,qe)=>{const{name:Ge,size:Ke,createAt:Xe,lastModified:Re}=J;if(J){S={name:Ge,codec:Te,width:De,height:Me,duration:je>0?qe:"NA",size:me.fileSizeCalculator(Ke),createAt:me.timestampConverter(Xe),lastModified:me.timestampConverter(Re)};let Ye=JSON.stringify(S);window.onlineClient.videoDetailsModal(Ye,P)}},Z=()=>{const J={};return J.mouseDown=()=>{},J.mouseMove=()=>{},J.mouseUp=()=>{},J},x=()=>{const J=Z();J.isMouseDownState=!0;let Te=!1;return J.mouseMove=()=>{Te=!0},J.mouseUp=()=>{re()},J.isMouseDragged=()=>Te,J},$=()=>{const J=Z();return J.mouseDown=()=>{const Te=x();Y(Te)},J};let ae=null;const Y=J=>{t(12,ae=J)},re=()=>{const J=$();Y(J)};re();const H=()=>{z(n,"user",f,p,g,h)},X=J=>{J.stopPropagation(),J.preventDefault()},ue=()=>{ee()},C=()=>{R(n.id)},I=J=>{H()},oe=()=>{ne(n,f,p,g,h,b)},q=()=>{i([n.id],n.name)},be=()=>{window.open("https://explainer.visual-paradigm.com/terms.jsp"),A.removeAttribute("open")};function Se(J){pe[J?"unshift":"push"](()=>{A=J,t(9,A)})}const we=()=>{ae.mouseDown()},ye=()=>{ae.mouseMove()},Ce=()=>{ae.isMouseDownState&&ae.isMouseDragged()===!1&&A.getAttribute("open")==null&&H(),ae.mouseUp()},Ae=J=>{const Te=n,De="user",Me=f,je=Number(p),qe=Number(g),Ge=Number(h);j(J,Te,De,Me,je,qe,Ge)};return l.$$set=J=>{"video"in J&&t(0,n=J.video),"onDelete"in J&&t(1,i=J.onDelete),"userBaseUrl"in J&&t(25,o=J.userBaseUrl),"isOpenPlayer"in J&&t(26,s=J.isOpenPlayer),"videoSrc"in J&&t(24,r=J.videoSrc),"playerOpenHandler"in J&&t(27,a=J.playerOpenHandler),"isLast"in J&&t(2,c=J.isLast),"listType"in J&&t(28,u=J.listType),"externalVideoProvider"in J&&t(3,d=J.externalVideoProvider)},l.$$.update=()=>{l.$$.dirty[0]&1&&ie(n.id)},[n,i,c,d,f,p,g,h,b,A,P,T,ae,w,L,v,y,j,R,ee,N,ne,H,X,r,o,s,a,u,ue,C,I,oe,q,be,Se,we,ye,Ce,Ae]}class Ll extends Oe{constructor(e){super(),Pe(this,e,to,eo,Ee,{video:0,onDelete:1,userBaseUrl:25,isOpenPlayer:26,videoSrc:24,playerOpenHandler:27,isLast:2,listType:28,externalVideoProvider:3},null,[-1,-1])}}function ul(l){let e;return{c(){e=_("div"),k(e,"id","svelte-infinite-scroll"),se(e,"width","0")},m(t,n){E(t,e,n),l[11](e)},p:F,d(t){t&&D(e),l[11](null)}}}function lo(l){let e,t=!l[1]&&!l[0]&&ul(l);return{c(){t&&t.c(),e=Be()},m(n,i){t&&t.m(n,i),E(n,e,i)},p(n,[i]){!n[1]&&!n[0]?t?t.p(n,i):(t=ul(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:F,o:F,d(n){t&&t.d(n),n&&D(e)}}}function no(l,e,t){let{threshold:n=0}=e,{horizontal:i=!1}=e,{elementScroll:o=null}=e,{hasMore:s=!0}=e,{reverse:r=!1}=e,{window:a=!1}=e;const c=ze();let u=!1,d,f,p,g;const h=S=>{if(!s)return;const w=S.target;b(w,r,i)<=n?(!u&&s&&(c("loadMore"),t(8,f=w.scrollHeight),t(9,p=w.scrollTop)),t(7,u=!0)):t(7,u=!1)},b=(S,w,P)=>{const T=S.documentElement?S.documentElement:S;return w?P?T.scrollLeft:T.scrollTop:P?T.scrollWidth-T.clientWidth-T.scrollLeft:T.scrollHeight-T.clientHeight-T.scrollTop};Qe(()=>{a?t(10,g=document):o?t(10,g=o):t(10,g=d.parentNode)}),Yl(()=>{g&&(g.removeEventListener("scroll",h),g.removeEventListener("resize",h))});function A(S){pe[S?"unshift":"push"](()=>{d=S,t(2,d)})}return l.$$set=S=>{"threshold"in S&&t(3,n=S.threshold),"horizontal"in S&&t(4,i=S.horizontal),"elementScroll"in S&&t(0,o=S.elementScroll),"hasMore"in S&&t(5,s=S.hasMore),"reverse"in S&&t(6,r=S.reverse),"window"in S&&t(1,a=S.window)},l.$$.update=()=>{l.$$.dirty&1088&&g&&(r&&t(10,g.scrollTop=g.scrollHeight,g),g.addEventListener("scroll",h),g.addEventListener("resize",h)),l.$$.dirty&1984&&u&&r&&t(10,g.scrollTop=g.scrollHeight-f+p,g)},[o,a,d,n,i,s,r,u,f,p,g,A]}class io extends Oe{constructor(e){super(),Pe(this,e,no,lo,Ee,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function dl(l,e,t){const n=l.slice();return n[29]=e[t],n[31]=t,n}function fl(l,e,t){const n=l.slice();return n[29]=e[t],n[31]=t,n}function oo(l){let e=[],t=new Map,n,i,o=l[0];const s=r=>r[29].id;for(let r=0;r<o.length;r+=1){let a=dl(l,o,r),c=s(a);t.set(c,e[r]=ml(c,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();n=Be()},m(r,a){for(let c=0;c<e.length;c+=1)e[c].m(r,a);E(r,n,a),i=!0},p(r,a){a[0]&29447&&(o=r[0],Le(),e=Ze(e,a,s,1,r,o,t,n.parentNode,gt,ml,n,dl),Ie())},i(r){if(!i){for(let a=0;a<o.length;a+=1)G(e[a]);i=!0}},o(r){for(let a=0;a<e.length;a+=1)K(e[a]);i=!1},d(r){for(let a=0;a<e.length;a+=1)e[a].d(r);r&&D(n)}}}function so(l){let e=[],t=new Map,n,i,o,s,r=l[0];const a=u=>u[29].id;for(let u=0;u<r.length;u+=1){let d=fl(l,r,u),f=a(d);t.set(f,e[u]=_l(f,d))}let c=l[6]&&pl();return o=new io({props:{threshold:100,hasMore:l[4]}}),o.$on("loadMore",function(){He(l[5])&&l[5].apply(this,arguments)}),{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=M(),c&&c.c(),i=M(),ke(o.$$.fragment)},m(u,d){for(let f=0;f<e.length;f+=1)e[f].m(u,d);E(u,n,d),c&&c.m(u,d),E(u,i,d),he(o,u,d),s=!0},p(u,d){l=u,d[0]&29583&&(r=l[0],Le(),e=Ze(e,d,a,1,l,r,t,n.parentNode,gt,_l,n,fl),Ie()),l[6]?c||(c=pl(),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null);const f={};d[0]&16&&(f.hasMore=l[4]),o.$set(f)},i(u){if(!s){for(let d=0;d<r.length;d+=1)G(e[d]);G(o.$$.fragment,u),s=!0}},o(u){for(let d=0;d<e.length;d+=1)K(e[d]);K(o.$$.fragment,u),s=!1},d(u){for(let d=0;d<e.length;d+=1)e[d].d(u);u&&D(n),c&&c.d(u),u&&D(i),ge(o,u)}}}function ml(l,e){let t,n,i,o,s;function r(u){e[21](u)}function a(u){e[22](u)}let c={isLast:e[0].length>=17&&(e[0].length%2==0?e[31]==e[0].length-1||e[31]==e[0].length-2:e[31]==e[0].length-1),video:e[29],onDelete:e[1],userBaseUrl:e[2],playerOpenHandler:e[14]};return e[8]!==void 0&&(c.isOpenPlayer=e[8]),e[9]!==void 0&&(c.videoSrc=e[9]),n=new Ll({props:c}),pe.push(()=>We(n,"isOpenPlayer",r,e[8])),pe.push(()=>We(n,"videoSrc",a,e[9])),n.$on("dragStart",e[23]),n.$on("addVideo",e[24]),{key:l,first:null,c(){t=Be(),ke(n.$$.fragment),this.first=t},m(u,d){E(u,t,d),he(n,u,d),s=!0},p(u,d){e=u;const f={};d[0]&1&&(f.isLast=e[0].length>=17&&(e[0].length%2==0?e[31]==e[0].length-1||e[31]==e[0].length-2:e[31]==e[0].length-1)),d[0]&1&&(f.video=e[29]),d[0]&2&&(f.onDelete=e[1]),d[0]&4&&(f.userBaseUrl=e[2]),!i&&d[0]&256&&(i=!0,f.isOpenPlayer=e[8],Je(()=>i=!1)),!o&&d[0]&512&&(o=!0,f.videoSrc=e[9],Je(()=>o=!1)),n.$set(f)},i(u){s||(G(n.$$.fragment,u),s=!0)},o(u){K(n.$$.fragment,u),s=!1},d(u){u&&D(t),ge(n,u)}}}function _l(l,e){let t,n,i,o,s;function r(u){e[17](u)}function a(u){e[18](u)}let c={isLast:e[0].length>=17&&(e[0].length%2==0?e[31]==e[0].length-1||e[31]==e[0].length-2:e[31]==e[0].length-1),video:e[29],onDelete:e[1],userBaseUrl:e[2],playerOpenHandler:e[14],listType:e[3],externalVideoProvider:e[7]};return e[8]!==void 0&&(c.isOpenPlayer=e[8]),e[9]!==void 0&&(c.videoSrc=e[9]),n=new Ll({props:c}),pe.push(()=>We(n,"isOpenPlayer",r,e[8])),pe.push(()=>We(n,"videoSrc",a,e[9])),n.$on("dragStart",e[19]),n.$on("addVideo",e[20]),{key:l,first:null,c(){t=Be(),ke(n.$$.fragment),this.first=t},m(u,d){E(u,t,d),he(n,u,d),s=!0},p(u,d){e=u;const f={};d[0]&1&&(f.isLast=e[0].length>=17&&(e[0].length%2==0?e[31]==e[0].length-1||e[31]==e[0].length-2:e[31]==e[0].length-1)),d[0]&1&&(f.video=e[29]),d[0]&2&&(f.onDelete=e[1]),d[0]&4&&(f.userBaseUrl=e[2]),d[0]&8&&(f.listType=e[3]),d[0]&128&&(f.externalVideoProvider=e[7]),!i&&d[0]&256&&(i=!0,f.isOpenPlayer=e[8],Je(()=>i=!1)),!o&&d[0]&512&&(o=!0,f.videoSrc=e[9],Je(()=>o=!1)),n.$set(f)},i(u){s||(G(n.$$.fragment,u),s=!0)},o(u){K(n.$$.fragment,u),s=!1},d(u){u&&D(t),ge(n,u)}}}function pl(l){let e;return{c(){e=_("div"),e.innerHTML='<mwc-circular-progress indeterminate=""></mwc-circular-progress>',se(e,"height","90px"),se(e,"display","flex"),se(e,"justify-content","center"),se(e,"align-items","center")},m(t,n){E(t,e,n)},d(t){t&&D(e)}}}function ro(l){let e,t,n,i;const o=[so,oo],s=[];function r(a,c){return a[11]?0:1}return t=r(l),n=s[t]=o[t](l),{c(){e=_("div"),n.c(),k(e,"class","video-list-item"),se(e,"top",l[11]?"55px":"115px"),se(e,"height",`calc(100% - ${l[11]?"55":"115"}px)`)},m(a,c){E(a,e,c),s[t].m(e,null),l[25](e),i=!0},p(a,c){n.p(a,c)},i(a){i||(G(n),i=!0)},o(a){K(n),i=!1},d(a){a&&D(e),s[t].d(),l[25](null)}}}function ao(l,e,t){le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-button-ce175de3.js"),["assets/mwc-icon-button-ce175de3.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-checkbox-e4190b37.js"),["assets/mwc-checkbox-e4190b37.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/form-element-8d951ec1.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-circular-progress-95a01484.js"),["assets/mwc-circular-progress-95a01484.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]);let{data:n=[]}=e,{loading:i}=e,{onDelete:o}=e,{userBaseUrl:s}=e,{listType:r=""}=e,{nextPage:a=null}=e,{onLoadNextPage:c=()=>{}}=e,{isNextPageLoading:u=!1}=e,{externalVideoProvider:d=""}=e,f="none",p="",g,h;const b=ze(),A=r==="external",S=N=>{const{detail:ie}=N,{id:ne,name:Z,type:x,thumbnail:$,codec:ae,width:Y,height:re,duration:H,url:X}=ie;b("addVideo",{id:ne,name:Z,type:x,thumbnail:$,codec:ae,width:Number(Y),height:Number(re),duration:Number(H),url:X})},w=N=>{const{detail:ie}=N,{videoId:ne,videoUrl:Z,name:x,thumbnail:$,codec:ae,width:Y,height:re,duration:H,dragStartEvent:X}=ie;b("dragStart",{videoId:ne,videoUrl:Z,name:x,thumbnail:$,codec:ae,width:Y,height:re,duration:H,dragStartEvent:X})},P=()=>{document.addEventListener("keydown",T)},T=N=>{N.key==="Escape"&&(window.onlineClient.closeVideoPlayerModal("video-panel-player-element"),document.removeEventListener("keydown",T))},L=N=>{if(a>2||!c)return;let ie=0;N.forEach(ne=>{ne.isIntersecting&&ie++}),ie===20?c():h&&(h.disconnect(),t(16,h=null))};Qe(()=>{if(!g)return;t(16,h=new IntersectionObserver(L,{threshold:0})),g.querySelectorAll(".video-item-block").forEach(ie=>h.observe(ie))});function v(N){f=N,t(8,f)}function y(N){p=N,t(9,p)}const V=N=>{w(N)},U=N=>S(N);function B(N){f=N,t(8,f)}function z(N){p=N,t(9,p)}const j=N=>{w(N)},R=N=>S(N);function ee(N){pe[N?"unshift":"push"](()=>{g=N,t(10,g)})}return l.$$set=N=>{"data"in N&&t(0,n=N.data),"loading"in N&&t(15,i=N.loading),"onDelete"in N&&t(1,o=N.onDelete),"userBaseUrl"in N&&t(2,s=N.userBaseUrl),"listType"in N&&t(3,r=N.listType),"nextPage"in N&&t(4,a=N.nextPage),"onLoadNextPage"in N&&t(5,c=N.onLoadNextPage),"isNextPageLoading"in N&&t(6,u=N.isNextPageLoading),"externalVideoProvider"in N&&t(7,d=N.externalVideoProvider)},l.$$.update=()=>{l.$$.dirty[0]&65552&&a>2&&h&&(h.disconnect(),t(16,h=null))},[n,o,s,r,a,c,u,d,f,p,g,A,S,w,P,i,h,v,y,V,U,B,z,j,R,ee]}class Il extends Oe{constructor(e){super(),Pe(this,e,ao,ro,Ee,{data:0,loading:15,onDelete:1,userBaseUrl:2,listType:3,nextPage:4,onLoadNextPage:5,isNextPageLoading:6,externalVideoProvider:7},null,[-1,-1])}}function co(l){let e,t,n,i,o,s;return{c(){e=_("div"),t=_("h4"),t.textContent="Fully manage your video clips.",n=M(),i=_("a"),i.textContent="Login to begin",k(i,"id","login-link"),k(i,"href",null),k(e,"id","not-login-warning")},m(r,a){E(r,e,a),m(e,t),m(e,n),m(e,i),o||(s=Q(i,"click",l[14]),o=!0)},p:F,i:F,o:F,d(r){r&&D(e),o=!1,s()}}}function uo(l){let e,t,n,i,o,s,r,a;const c=[mo,fo],u=[];function d(f,p){return f[4].length===0?0:1}return n=d(l),i=u[n]=c[n](l),{c(){e=_("mwc-button"),t=M(),i.c(),o=Be(),O(e,"id","upload-btn"),O(e,"raised",""),O(e,"label","Upload Files"),O(e,"fullwidth","")},m(f,p){E(f,e,p),E(f,t,p),u[n].m(f,p),E(f,o,p),s=!0,r||(a=Q(e,"click",l[10]),r=!0)},p(f,p){let g=n;n=d(f),n===g?u[n].p(f,p):(Le(),K(u[g],1,1,()=>{u[g]=null}),Ie(),i=u[n],i?i.p(f,p):(i=u[n]=c[n](f),i.c()),G(i,1),i.m(o.parentNode,o))},i(f){s||(G(i),s=!0)},o(f){K(i),s=!1},d(f){f&&D(e),f&&D(t),u[n].d(f),f&&D(o),r=!1,a()}}}function fo(l){let e,t,n,i=l[6]&&gl(l);return t=new Il({props:{loading:l[3],data:l[4],onDelete:l[11],userBaseUrl:l[2]}}),t.$on("dragStart",l[16]),t.$on("addVideo",l[17]),{c(){i&&i.c(),e=M(),ke(t.$$.fragment)},m(o,s){i&&i.m(o,s),E(o,e,s),he(t,o,s),n=!0},p(o,s){o[6]?i?(i.p(o,s),s[0]&64&&G(i,1)):(i=gl(o),i.c(),G(i,1),i.m(e.parentNode,e)):i&&(Le(),K(i,1,1,()=>{i=null}),Ie());const r={};s[0]&8&&(r.loading=o[3]),s[0]&16&&(r.data=o[4]),s[0]&4&&(r.userBaseUrl=o[2]),t.$set(r)},i(o){n||(G(i),G(t.$$.fragment,o),n=!0)},o(o){K(i),K(t.$$.fragment,o),n=!1},d(o){i&&i.d(o),o&&D(e),ge(t,o)}}}function mo(l){let e;return{c(){e=_("div"),e.innerHTML="<mwc-icon>error</mwc-icon><h4>Upload your first video</h4>",k(e,"id","no-audio-warning")},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function gl(l){let e,t;return e=new ht({props:{target:document.body,$$slots:{default:[_o]},$$scope:{ctx:l}}}),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[0]&32|i[1]&4&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function _o(l){let e,t,n;return t=new Pl({props:{closeHandler:l[12],diagramsData:l[5],onDelete:l[15],type:"video"}}),{c(){e=_("div"),ke(t.$$.fragment),se(e,"position","absolute"),se(e,"z-index","10")},m(i,o){E(i,e,o),he(t,e,null),n=!0},p(i,o){const s={};o[0]&32&&(s.diagramsData=i[5]),t.$set(s)},i(i){n||(G(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){i&&D(e),ge(t)}}}function po(l){let e,t,n,i;const o=[uo,co],s=[];function r(a,c){return a[1]?0:1}return t=r(l),n=s[t]=o[t](l),{c(){e=_("div"),n.c(),k(e,"class","my-video-panel")},m(a,c){E(a,e,c),s[t].m(e,null),l[18](e),i=!0},p(a,c){let u=t;t=r(a),t===u?s[t].p(a,c):(Le(),K(s[u],1,1,()=>{s[u]=null}),Ie(),n=s[t],n?n.p(a,c):(n=s[t]=o[t](a),n.c()),G(n,1),n.m(e,null))},i(a){i||(G(n),i=!0)},o(a){K(n),i=!1},d(a){a&&D(e),s[t].d(),l[18](null)}}}function go(l,e,t){let n;le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]);let i;Qe(()=>{new IntersectionObserver(o).observe(i)});const o=Z=>{Z.forEach(x=>{x.isIntersecting&&V()})};let s,r="",a,c=!1,u=[],d=[],f=pt("login");st(l,f,Z=>t(23,n=Z));let p=null;const g=ze();let h=[],b=[],A=!1;const S=(Z,x)=>{let $=!1;return Math.min(Z,x)>1080&&($=!0),$},w=Z=>{window.onlineClient.VideoNotificationModal("2","",()=>L(Z))},P=async Z=>{const{detail:x}=Z,{id:$,name:ae,type:Y,thumbnail:re,codec:H,width:X,height:ue,duration:C,url:I}=x;S(X,ue)?w($):g("addVideo",{id:$,name:ae,type:Y,thumbnail:re,duration:Number(C),url:I,width:Number(X),height:Number(ue)})},T=Z=>{const{detail:x}=Z,{videoId:$,videoUrl:ae,name:Y,thumbnail:re,width:H,height:X,duration:ue,dragStartEvent:C}=x;let I=null;S(H,X)&&(I=()=>{w($)}),g("dragStart",{videoId:$,videoUrl:ae,name:Y,thumbnail:re,duration:ue,width:H,height:X,dragStartEvent:C,downScaleVideoFunction:I})},L=async Z=>{await fetch(`${r}rest/diagrams/assets/scale-video/${Z}`,{method:"POST",credentials:"include"}).then($=>$.ok)&&V()},v=()=>{t(1,s=window.onlineClient.isLoggedIn()),s&&(t(2,r=window.onlineClient.getBaseUrl()),a=window.onlineClient.store.getState().selectedProject,V())},y=async()=>{let Z={};Z.assetType="video",await window.onlineClient.showFileChooser({isUploadPalette:!0,type:"video",autoProceed:!0,allowDuplicate:!0,...Z})&&V()},V=async()=>{t(3,c=!0),p!=null&&(clearTimeout(p),p=null);const Z=await fetch(`${r}rest/diagrams/assets?type=video`,{method:"GET",credentials:"include"}).then(ae=>ae.json()),x=await fetch(`${r}rest/diagrams/assets/scale-videos`,{method:"GET",credentials:"include"}).then(ae=>ae.json()),$=x.concat(Z);JSON.stringify(d)!=JSON.stringify($)&&(t(4,u=x.concat(Z)),d=$),x.length>0&&(p=setTimeout(V,30*1e3)),t(3,c=!1)},U=async Z=>{b=Z,t(5,h=await Dl(Z,r,a)),h&&h.length>0?t(6,A=!0):z(Z,!1)},B=()=>{b=[],t(5,h=[]),t(6,A=!1)},z=async(Z,x)=>{x?(t(6,A=!1),b&&b.length!==0&&await j(b)):window.onlineClient.VideoNotificationModal("1","",()=>j(Z))},j=async Z=>{if(Z&&Z.length!==0)for(let x=0;x<Z.length;x++)await fetch(`${r}rest/diagrams/assets/${Z[x]}`,{method:"DELETE",credentials:"include"}).then(ae=>ae.ok)&&t(4,u=u.filter(ae=>ae.id!=Z[x]))},R=async()=>{n&&(await n(),v())},ee=()=>z("",!0),N=Z=>{T(Z)},ie=Z=>P(Z);function ne(Z){pe[Z?"unshift":"push"](()=>{i=Z,t(0,i)})}return v(),[i,s,r,c,u,h,A,f,P,T,y,U,B,z,R,ee,N,ie,ne]}class ho extends Oe{constructor(e){super(),Pe(this,e,go,po,Ee,{},null,[-1,-1])}}function bo(l){let e,t,n,i,o,s,r,a,c=l[3]*100+"",u,d,f,p,g,h,b,A,S,w,P,T,L,v,y,V,U,B,z,j;function R(H){l[22](H)}let ee={iconType:"library",listType:"bgm",loading:Lo,renderData:l[0],onDelete:l[12],volume:l[3],fadeInDuration:l[6],fadeOutDuration:l[8]};l[9]!==void 0&&(ee.isPlaying=l[9]),n=new at({props:ee}),pe.push(()=>We(n,"isPlaying",R,l[9]));function N(H,X){return H[9]?yo:wo}let ie=N(l),ne=ie(l);function Z(H,X){return H[9]?To:vo}let x=Z(l),$=x(l);function ae(H,X){return H[9]?Ao:So}let Y=ae(l),re=Y(l);return{c(){e=_("h2"),e.textContent="Background Music",t=M(),ke(n.$$.fragment),o=M(),s=_("div"),r=_("h4"),a=te("Volume: "),u=te(c),d=te("%"),f=M(),ne.c(),p=M(),g=_("div"),h=_("h4"),b=te("Fade In: "),A=te(l[6]),S=te(" seconds"),w=M(),$.c(),P=M(),T=_("div"),L=_("h4"),v=te("Fade Out: "),y=te(l[8]),V=te(" seconds"),U=M(),re.c(),B=M(),z=_("hr"),k(e,"id","background-music-title"),k(r,"id","title"),k(s,"class","bgm-volume-area"),k(h,"id","title"),k(g,"class","bgm-fade-in-area"),k(L,"id","title"),k(T,"class","bgm-fade-out-area")},m(H,X){E(H,e,X),E(H,t,X),he(n,H,X),E(H,o,X),E(H,s,X),m(s,r),m(r,a),m(r,u),m(r,d),m(s,f),ne.m(s,null),E(H,p,X),E(H,g,X),m(g,h),m(h,b),m(h,A),m(h,S),m(g,w),$.m(g,null),E(H,P,X),E(H,T,X),m(T,L),m(L,v),m(L,y),m(L,V),m(T,U),re.m(T,null),E(H,B,X),E(H,z,X),j=!0},p(H,X){const ue={};X[0]&1&&(ue.renderData=H[0]),X[0]&8&&(ue.volume=H[3]),X[0]&64&&(ue.fadeInDuration=H[6]),X[0]&256&&(ue.fadeOutDuration=H[8]),!i&&X[0]&512&&(i=!0,ue.isPlaying=H[9],Je(()=>i=!1)),n.$set(ue),(!j||X[0]&8)&&c!==(c=H[3]*100+"")&&_e(u,c),ie===(ie=N(H))&&ne?ne.p(H,X):(ne.d(1),ne=ie(H),ne&&(ne.c(),ne.m(s,null))),(!j||X[0]&64)&&_e(A,H[6]),x===(x=Z(H))&&$?$.p(H,X):($.d(1),$=x(H),$&&($.c(),$.m(g,null))),(!j||X[0]&256)&&_e(y,H[8]),Y===(Y=ae(H))&&re?re.p(H,X):(re.d(1),re=Y(H),re&&(re.c(),re.m(T,null)))},i(H){j||(G(n.$$.fragment,H),j=!0)},o(H){K(n.$$.fragment,H),j=!1},d(H){H&&D(e),H&&D(t),ge(n,H),H&&D(o),H&&D(s),ne.d(),H&&D(p),H&&D(g),$.d(),H&&D(P),H&&D(T),re.d(),H&&D(B),H&&D(z)}}}function ko(l){let e;function t(o,s){return o[1]?Do:Eo}let n=t(l),i=n(l);return{c(){i.c(),e=Be()},m(o,s){i.m(o,s),E(o,e,s)},p(o,s){n===(n=t(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},i:F,o:F,d(o){i.d(o),o&&D(e)}}}function wo(l){let e,t,n;return{c(){e=_("mwc-slider"),O(e,"value",l[3]),O(e,"min",0),O(e,"max",1),O(e,"step",.1)},m(i,o){E(i,e,o),l[24](e),t||(n=Q(e,"input",l[13]),t=!0)},p(i,o){o[0]&8&&O(e,"value",i[3])},d(i){i&&D(e),l[24](null),t=!1,n()}}}function yo(l){let e;return{c(){e=_("mwc-slider"),O(e,"value",l[3]),O(e,"min",0),O(e,"max",1),O(e,"step",.1),O(e,"disabled","")},m(t,n){E(t,e,n),l[23](e)},p(t,n){n[0]&8&&O(e,"value",t[3])},d(t){t&&D(e),l[23](null)}}}function vo(l){let e,t,n,i;return{c(){e=_("mwc-slider"),O(e,"value",l[6]),O(e,"min",0),O(e,"max",t=Math.min(l[4]/2,10)),O(e,"step",.1)},m(o,s){E(o,e,s),l[26](e),n||(i=Q(e,"input",l[14]),n=!0)},p(o,s){s[0]&64&&O(e,"value",o[6]),s[0]&16&&t!==(t=Math.min(o[4]/2,10))&&O(e,"max",t)},d(o){o&&D(e),l[26](null),n=!1,i()}}}function To(l){let e,t;return{c(){e=_("mwc-slider"),O(e,"value",l[6]),O(e,"min",0),O(e,"max",t=Math.min(l[4]/2,10)),O(e,"step",.1),O(e,"disabled","")},m(n,i){E(n,e,i),l[25](e)},p(n,i){i[0]&64&&O(e,"value",n[6]),i[0]&16&&t!==(t=Math.min(n[4]/2,10))&&O(e,"max",t)},d(n){n&&D(e),l[25](null)}}}function So(l){let e,t,n,i;return{c(){e=_("mwc-slider"),O(e,"value",l[8]),O(e,"min",0),O(e,"max",t=Math.min(l[4]/2,10)),O(e,"step",.1)},m(o,s){E(o,e,s),l[28](e),n||(i=Q(e,"input",l[15]),n=!0)},p(o,s){s[0]&256&&O(e,"value",o[8]),s[0]&16&&t!==(t=Math.min(o[4]/2,10))&&O(e,"max",t)},d(o){o&&D(e),l[28](null),n=!1,i()}}}function Ao(l){let e,t;return{c(){e=_("mwc-slider"),O(e,"value",l[8]),O(e,"min",0),O(e,"max",t=Math.min(l[4]/2,10)),O(e,"step",.1),O(e,"disabled","")},m(n,i){E(n,e,i),l[27](e)},p(n,i){i[0]&256&&O(e,"value",n[8]),i[0]&16&&t!==(t=Math.min(n[4]/2,10))&&O(e,"max",t)},d(n){n&&D(e),l[27](null)}}}function Eo(l){let e,t,n,i,o,s,r,a,c,u;return{c(){e=_("div"),t=_("h4"),t.textContent="Fully manage you music and other audio assets.",n=M(),i=_("a"),i.textContent="Login to begin",o=M(),s=_("h4"),s.textContent="or",r=M(),a=_("a"),a.textContent="Use stock background music",k(i,"id","login-link"),k(i,"href",null),k(a,"id","stock-music-link"),k(a,"href",null),k(e,"id","not-login-warning")},m(d,f){E(d,e,f),m(e,t),m(e,n),m(e,i),m(e,o),m(e,s),m(e,r),m(e,a),c||(u=[Q(i,"click",l[16]),Q(a,"click",l[17])],c=!0)},p:F,d(d){d&&D(e),c=!1,Ve(u)}}}function Do(l){let e,t,n;return{c(){e=_("mwc-button"),O(e,"id","upload-bgm-btn"),O(e,"raised",""),O(e,"label","Upload Background Music"),O(e,"fullwidth","")},m(i,o){E(i,e,o),t||(n=Q(e,"click",l[11]),t=!0)},p:F,d(i){i&&D(e),t=!1,n()}}}function Po(l){let e,t,n,i;const o=[ko,bo],s=[];function r(a,c){return a[0].length==0?0:1}return t=r(l),n=s[t]=o[t](l),{c(){e=_("div"),n.c(),k(e,"class","my-music-panel")},m(a,c){E(a,e,c),s[t].m(e,null),i=!0},p(a,c){let u=t;t=r(a),t===u?s[t].p(a,c):(Le(),K(s[u],1,1,()=>{s[u]=null}),Ie(),n=s[t],n?n.p(a,c):(n=s[t]=o[t](a),n.c()),G(n,1),n.m(e,null))},i(a){i||(G(n),i=!0)},o(a){K(n),i=!1},d(a){a&&D(e),s[t].d()}}}let Lo=!1;function Io(l,e,t){let n;le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]),le(()=>import("./assets/mwc-icon-e194af94.js"),["assets/mwc-icon-e194af94.js","assets/lit-element-82482f35.js"]),le(()=>import("./assets/slider-e358afc3.js"),["assets/slider-e358afc3.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/form-element-8d951ec1.js","assets/animationframe-8c631bf6.js","assets/if-defined-d9313107.js"]);let{getBgmFunc:i}=e,{setPaletteType:o}=e,{setIsOpenFromBgmPanel:s}=e,{resetCurrentTab:r}=e;const a=ze();let c="",u=[],d=!1,f=pt("login");st(l,f,I=>t(31,n=I));let p,g,h,b,A,S,w,P,T=[];const L=(I,oe,q,be,Se,we,ye)=>{a("addBgm",{id:oe,name:q,type:be,duration:Se,url:we,options:ye,action:I})},v=async I=>{const oe=I[I.length-1],{id:q,name:be}=oe,Se="audio",we=await me.getAudioDuration(q,c),ye=`${c}/rest/diagrams/assets/${q}`;L(1,q,be,Se,we,ye,{})},y=(I,oe)=>L(2,I,"","","","",oe),V=I=>L(3,I),U=async()=>{t(1,d=window.onlineClient.isLoggedIn()),d&&(c=window.onlineClient.getBaseUrl()),t(3,g=1),t(4,h=0),t(6,A=0),t(8,w=0)},B=()=>z(),z=async()=>{let I={};I.assetType="audio",await window.onlineClient.showFileChooser({isUploadPalette:!0,type:"audio",autoProceed:!0,...I})&&(await ee(),v(u))},j=async()=>{if(d){let I=await fetch(`${c}rest/diagrams/assets/?type=audio`,{method:"GET",credentials:"include"}).then(oe=>oe.json());if(I)return I}},R=async()=>{if(T=i(),T.length>0){let I=T[T.length-1];if(d){let oe=await j();if(oe){t(0,u=[]);let q=oe.find(be=>be.id===I.audioId);if(q)u.push(q);else{const{audioId:be,name:Se,actualDuration:we,actualUrl:ye}=I;let Ae=new URL(ye).hostname,J={id:be,name:Se,type:Ae==="asset.visual-paradigm.com"||Ae==="static.visual-paradigm.com"?"global-audio":"audio",duration:we,path:ye.replace("https://asset.visual-paradigm.com","").replace("https://static.visual-paradigm.com","")};u.push(J)}t(3,g=I.volume),t(4,h=I.actualDuration),t(6,A=I.fadeInDuration||0),t(8,w=I.fadeOutDuration||0)}}else{const{audioId:oe,name:q,actualDuration:be,actualUrl:Se}=I;let ye=new URL(Se).hostname,Ce={id:oe,name:q,type:ye==="asset.visual-paradigm.com"||ye==="static.visual-paradigm.com"?"global-audio":"audio",duration:be,path:Se.replace("https://asset.visual-paradigm.com","").replace("https://static.visual-paradigm.com","")};u.push(Ce),t(3,g=I.volume),t(4,h=I.actualDuration),t(6,A=I.fadeInDuration||0),t(8,w=I.fadeOutDuration||0)}}else d&&$()},ee=async()=>{let I=await j();if(I)return I.sort((oe,q)=>oe.lastModified-q.lastModified),t(0,u=[]),u.push(I[I.length-1]),u},N=I=>{if(confirm("Are you sure you want to remove the background music?")==!0)t(0,u=[]),V(I),t(3,g=1),t(4,h=0),t(6,A=0),t(8,w=0),d&&($(),r("musicPanel"));else return},ie=()=>{const I=u[u.length-1].id;t(3,g=p.value),y(I,{volume:g})},ne=()=>{const I=u[u.length-1].id;t(6,A=b.value),y(I,{fadeInDuration:A})},Z=()=>{const I=u[u.length-1].id;t(8,w=S.value),y(I,{fadeOutDuration:w})},x=async()=>{n&&(await n(),U())},$=()=>{o("audio"),s(!0)};function ae(I){P=I,t(9,P)}function Y(I){pe[I?"unshift":"push"](()=>{p=I,t(2,p)})}function re(I){pe[I?"unshift":"push"](()=>{p=I,t(2,p)})}function H(I){pe[I?"unshift":"push"](()=>{b=I,t(5,b)})}function X(I){pe[I?"unshift":"push"](()=>{b=I,t(5,b)})}function ue(I){pe[I?"unshift":"push"](()=>{S=I,t(7,S)})}function C(I){pe[I?"unshift":"push"](()=>{S=I,t(7,S)})}return l.$$set=I=>{"getBgmFunc"in I&&t(18,i=I.getBgmFunc),"setPaletteType"in I&&t(19,o=I.setPaletteType),"setIsOpenFromBgmPanel"in I&&t(20,s=I.setIsOpenFromBgmPanel),"resetCurrentTab"in I&&t(21,r=I.resetCurrentTab)},l.$$.update=()=>{l.$$.dirty[0]&262144&&i&&R()},U(),[u,d,p,g,h,b,A,S,w,P,f,B,N,ie,ne,Z,x,$,i,o,s,r,ae,Y,re,H,X,ue,C]}class Oo extends Oe{constructor(e){super(),Pe(this,e,Io,Po,Ee,{getBgmFunc:18,setPaletteType:19,setIsOpenFromBgmPanel:20,resetCurrentTab:21},null,[-1,-1])}}function hl(l,e,t){const n=l.slice();return n[13]=e[t],n[15]=t,n}function Co(l){let e,t=l[13].title+"",n,i;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",i=l[13].value)},m(o,s){E(o,e,s),m(e,n)},p(o,s){s&8&&t!==(t=o[13].title+"")&&_e(n,t),s&8&&i!==(i=o[13].value)&&O(e,"value",i)},d(o){o&&D(e)}}}function Vo(l){let e,t=l[13].title+"",n,i;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",i=l[13].value),O(e,"selected","")},m(o,s){E(o,e,s),m(e,n)},p(o,s){s&8&&t!==(t=o[13].title+"")&&_e(n,t),s&8&&i!==(i=o[13].value)&&O(e,"value",i)},d(o){o&&D(e)}}}function bl(l){let e;function t(o,s){return!o[1]&&o[15]===0||o[1]&&o[15]===o[1]?Vo:Co}let n=t(l),i=n(l);return{c(){i.c(),e=Be()},m(o,s){i.m(o,s),E(o,e,s)},p(o,s){n===(n=t(o))&&i?i.p(o,s):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&D(e)}}}function Bo(l){let e,t,n,i,o,s=l[3],r=[];for(let a=0;a<s.length;a+=1)r[a]=bl(hl(l,s,a));return{c(){e=_("div"),t=_("mwc-select");for(let a=0;a<r.length;a+=1)r[a].c();O(t,"fixedmenuposition",!0),O(t,"outlined",""),O(t,"label","Audio Type"),k(e,"class",n="top-selection-main "+(l[0]==="dark"&&l[0]))},m(a,c){E(a,e,c),m(e,t);for(let u=0;u<r.length;u+=1)r[u].m(t,null);l[10](t),i||(o=Q(t,"change",l[4]),i=!0)},p(a,[c]){if(c&10){s=a[3];let u;for(u=0;u<s.length;u+=1){const d=hl(a,s,u);r[u]?r[u].p(d,c):(r[u]=bl(d),r[u].c(),r[u].m(t,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=s.length}c&1&&n!==(n="top-selection-main "+(a[0]==="dark"&&a[0]))&&k(e,"class",n)},i:F,o:F,d(a){a&&D(e),$e(r,a),l[10](null),i=!1,o()}}}function Mo(l,e,t){le(()=>import("./assets/mwc-select-42aecfa5.js"),["assets/mwc-select-42aecfa5.js","assets/lit-element-82482f35.js","assets/mwc-line-ripple-directive-78fa91df.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/query-c429e280.js","assets/mwc-menu-51fad5b3.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/state-bd87d4a2.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js","assets/mwc-icon-e194af94.js","assets/form-element-8d951ec1.js","assets/event-options-6accd613.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(b=>b.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{theme:n}=e,{onSelectChange:i}=e,{resetSelected:o=()=>t(2,u.value="",u)}=e,{searchBoxReset:s}=e,{isOpenFromBgmPanel:r}=e,{isLoggedIn:a}=e,{activeIndex:c}=e,u,d,f=[];Qe(()=>{const b=()=>{u!=null&&u.anchorElement?(t(2,u.anchorElement.style.height="40px",u),u.anchorElement.getElementsByTagName("mwc-notched-outline")[0].getElementsByTagName("span")[0].style.marginTop="8px"):setTimeout(b,100)};b()});const p=()=>{try{s()}catch{}d=u.value,i(d)},g=()=>{r?a?f.push(ve.AUDIO_TAB_LIST[0],ve.AUDIO_TAB_LIST[2]):f.push(ve.AUDIO_TAB_LIST[0]):t(3,f=ve.AUDIO_TAB_LIST)};function h(b){pe[b?"unshift":"push"](()=>{u=b,t(2,u)})}return l.$$set=b=>{"theme"in b&&t(0,n=b.theme),"onSelectChange"in b&&t(5,i=b.onSelectChange),"resetSelected"in b&&t(6,o=b.resetSelected),"searchBoxReset"in b&&t(7,s=b.searchBoxReset),"isOpenFromBgmPanel"in b&&t(8,r=b.isOpenFromBgmPanel),"isLoggedIn"in b&&t(9,a=b.isLoggedIn),"activeIndex"in b&&t(1,c=b.activeIndex)},g(),[n,c,u,f,p,i,o,s,r,a,h]}class Fo extends Oe{constructor(e){super(),Pe(this,e,Mo,Bo,Ee,{theme:0,onSelectChange:5,resetSelected:6,searchBoxReset:7,isOpenFromBgmPanel:8,isLoggedIn:9,activeIndex:1})}}function Ro(l){let e,t;return e=new Il({props:{loading:!1,data:l[2],onDelete:Go,userBaseUrl:l[7],listType:"external",externalVideoProvider:l[0],nextPage:l[3],onLoadNextPage:l[8],isNextPageLoading:l[5]}}),e.$on("dragStart",l[16]),e.$on("addVideo",l[17]),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i&4&&(o.data=n[2]),i&1&&(o.externalVideoProvider=n[0]),i&8&&(o.nextPage=n[3]),i&32&&(o.isNextPageLoading=n[5]),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function No(l){let e,t,n,i,o,s,r;return{c(){e=_("div"),t=_("h4"),t.textContent="No search result",n=M(),i=_("div"),o=_("mwc-button"),O(o,"id","upload-btn"),O(o,"raised",""),O(o,"label","Back to My Video"),se(i,"display","flex"),se(i,"justify-content","space-around"),k(e,"id","not-login-warning")},m(a,c){E(a,e,c),m(e,t),m(e,n),m(e,i),m(i,o),s||(r=Q(o,"click",l[15]),s=!0)},p:F,i:F,o:F,d(a){a&&D(e),s=!1,r()}}}function Uo(l){let e,t,n,i,o,s,r;return{c(){e=_("div"),t=_("h4"),t.textContent="Failed to fetch video footage",n=M(),i=_("div"),o=_("mwc-button"),O(o,"id","upload-btn"),O(o,"raised",""),O(o,"label","Back to My Video"),se(i,"display","flex"),se(i,"justify-content","space-around"),se(i,"align-items","center"),k(e,"id","not-login-warning")},m(a,c){E(a,e,c),m(e,t),m(e,n),m(e,i),m(i,o),s||(r=Q(o,"click",l[14]),s=!0)},p:F,i:F,o:F,d(a){a&&D(e),s=!1,r()}}}function Ho(l){let e;return{c(){e=_("div"),e.innerHTML='<mwc-circular-progress indeterminate=""></mwc-circular-progress>',se(e,"height","100%"),se(e,"display","flex"),se(e,"justify-content","center"),se(e,"align-items","center")},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function jo(l){let e,t,n,i;const o=[Ho,Uo,No,Ro],s=[];function r(a,c){return a[4]?0:a[6]?1:!a[2]||a[2].length===0?2:3}return t=r(l),n=s[t]=o[t](l),{c(){e=_("div"),n.c(),k(e,"class","external-video-panel-container"),se(e,"height","100%")},m(a,c){E(a,e,c),s[t].m(e,null),i=!0},p(a,[c]){let u=t;t=r(a),t===u?s[t].p(a,c):(Le(),K(s[u],1,1,()=>{s[u]=null}),Ie(),n=s[t],n?n.p(a,c):(n=s[t]=o[t](a),n.c()),G(n,1),n.m(e,null))},i(a){i||(G(n),i=!0)},o(a){K(n),i=!1},d(a){a&&D(e),s[t].d()}}}const Go=()=>{};function zo(l,e,t){le(()=>import("./assets/mwc-circular-progress-95a01484.js"),["assets/mwc-circular-progress-95a01484.js","assets/lit-element-82482f35.js","assets/aria-property-5dc583de.js","assets/class-map-1571728b.js","assets/if-defined-d9313107.js","assets/style-map-957786c8.js"]),le(()=>import("./assets/mwc-button-158ff6d5.js"),["assets/mwc-button-158ff6d5.js","assets/lit-element-82482f35.js","assets/mwc-icon-e194af94.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/aria-property-5dc583de.js","assets/event-options-6accd613.js","assets/if-defined-d9313107.js"]);let{searchKey:n}=e,{externalVideoProvider:i}=e,{resetSearchBox:o}=e,{setSearchVideoFootage:s}=e,r=[],a=null,c=!1,u=!1,d=!1,f=!0;const p=window.onlineClient.getBaseUrl(),g=async(y=1,V="")=>{if(!V)return;const U=y>1;U?t(5,u=!0):t(4,c=!0),t(6,d=!1);try{const B=V.replaceAll(" ","+"),z=await fetch(`https://content-global.visual-paradigm.com/videoFootage?provider=${i}&page=${y}&q=${B}`).then(j=>j.json());t(2,r=U?r.concat(z.videos):z.videos),t(3,a=z.nextPage)}catch(B){console.error(B),U||t(6,d=!0),t(3,a=null)}finally{t(4,c=!1),t(5,u=!1)}},h=(y,V)=>{g(y,V)};Qe(()=>{s(h)});const b=()=>{!a||u||g(a,n)},A=ze(),S=y=>{const{detail:V}=y,{videoId:U,videoUrl:B,name:z,thumbnail:j,width:R,height:ee,duration:N,dragStartEvent:ie}=V;A("dragStart",{videoId:U,videoUrl:B,name:z,thumbnail:j,duration:N,width:R,height:ee,dragStartEvent:ie,downScaleVideoFunction:null})},w=y=>{const{detail:V}=y,{id:U,name:B,type:z,thumbnail:j,codec:R,width:ee,height:N,duration:ie,url:ne}=V;A("addVideo",{id:U,name:B,type:z,thumbnail:j,codec:R,width:Number(ee),height:Number(N),duration:Number(ie),url:ne})},P=()=>{t(6,d=!1),o()},T=()=>{t(6,d=!1),o()},L=y=>{S(y)},v=y=>w(y);return l.$$set=y=>{"searchKey"in y&&t(11,n=y.searchKey),"externalVideoProvider"in y&&t(0,i=y.externalVideoProvider),"resetSearchBox"in y&&t(1,o=y.resetSearchBox),"setSearchVideoFootage"in y&&t(12,s=y.setSearchVideoFootage)},l.$$.update=()=>{l.$$.dirty&10240&&f&&n&&(g(1,n),t(13,f=!1))},[i,o,r,a,c,u,d,p,b,S,w,n,s,f,P,T,L,v]}class qo extends Oe{constructor(e){super(),Pe(this,e,zo,jo,Ee,{searchKey:11,externalVideoProvider:0,resetSearchBox:1,setSearchVideoFootage:12})}}function kl(l,e,t){const n=l.slice();return n[7]=e[t],n}function Ko(l){let e,t=l[3],n=[];for(let i=0;i<t.length;i+=1)n[i]=wl(kl(l,t,i));return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Be()},m(i,o){for(let s=0;s<n.length;s+=1)n[s].m(i,o);E(i,e,o)},p(i,o){if(o&8){t=i[3];let s;for(s=0;s<t.length;s+=1){const r=kl(i,t,s);n[s]?n[s].p(r,o):(n[s]=wl(r),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){$e(n,i),i&&D(e)}}}function wl(l){let e,t=l[7]+"",n;return{c(){e=_("mwc-list-item"),n=te(t),O(e,"value",l[7]),O(e,"selected",l[7]==="Pixabay")},m(i,o){E(i,e,o),m(e,n)},p:F,d(i){i&&D(e)}}}function Jo(l){let e,t,n,i=l[3].length>0&&Ko(l);return{c(){e=_("mwc-select"),i&&i.c(),O(e,"fixedmenuposition",!0),O(e,"outlined",""),O(e,"label",void 0),O(e,"title",l[0])},m(o,s){E(o,e,s),i&&i.m(e,null),l[4](e),t||(n=Q(e,"change",l[5]),t=!0)},p(o,[s]){o[3].length>0&&i.p(o,s),s&1&&O(e,"title",o[0])},i:F,o:F,d(o){o&&D(e),i&&i.d(),l[4](null),t=!1,n()}}}function Wo(l,e,t){let{externalVideoProvider:n}=e,{onChange:i}=e,o;const s=["Pixabay","Pexels"],r=()=>{if(o!=null&&o.anchorElement){const u=o.anchorElement;u.style.height="40px";const d=u.querySelector(".mdc-select__dropdown-icon");d&&(d.style.marginLeft="4px",d.style.marginRight="4px")}else setTimeout(()=>{r()},100)};Qe(()=>{r()});function a(u){pe[u?"unshift":"push"](()=>{o=u,t(2,o)})}const c=()=>{i(o.value)};return l.$$set=u=>{"externalVideoProvider"in u&&t(0,n=u.externalVideoProvider),"onChange"in u&&t(1,i=u.onChange)},[n,i,o,s,a,c]}class Yo extends Oe{constructor(e){super(),Pe(this,e,Wo,Jo,Ee,{externalVideoProvider:0,onChange:1})}}function Qo(l){let e,t,n,i;const o=[$o,xo],s=[];function r(a,c){return a[16]?1:0}return e=r(l),t=s[e]=o[e](l),{c(){t.c(),n=Be()},m(a,c){s[e].m(a,c),E(a,n,c),i=!0},p(a,c){let u=e;e=r(a),e===u?s[e].p(a,c):(Le(),K(s[u],1,1,()=>{s[u]=null}),Ie(),t=s[e],t?t.p(a,c):(t=s[e]=o[e](a),t.c()),G(t,1),t.m(n.parentNode,n))},i(a){i||(G(t),i=!0)},o(a){K(t),i=!1},d(a){s[e].d(a),a&&D(n)}}}function Xo(l){let e,t,n;return t=new Oo({props:{getBgmFunc:l[1],setPaletteType:l[25],setIsOpenFromBgmPanel:l[26],resetCurrentTab:l[24]}}),t.$on("addBgm",l[31]),{c(){e=_("div"),ke(t.$$.fragment),k(e,"class","main-panel-area")},m(i,o){E(i,e,o),he(t,e,null),n=!0},p(i,o){const s={};o[0]&2&&(s.getBgmFunc=i[1]),t.$set(s)},i(i){n||(G(t.$$.fragment,i),n=!0)},o(i){K(t.$$.fragment,i),n=!1},d(i){i&&D(e),ge(t)}}}function Zo(l){let e,t,n,i,o,s,r,a,c,u,d,f,p,g;function h(v){l[34](v)}let b={setSearchText:l[23],resetSearchResult:l[9],searchType:ve.AUDIO_STRING_TABS[l[7]],theme:l[12],currentPanel:l[7]};l[14]!==void 0&&(b.resetElemValue=l[14]),t=new El({props:b}),pe.push(()=>We(t,"resetElemValue",h,l[14])),o=new Fo({props:{theme:l[12],onSelectChange:l[24],searchBoxReset:l[14],isOpenFromBgmPanel:l[18],isLoggedIn:l[16],activeIndex:l[13]}});const A=[rs,ss,os],S=[];function w(v,y){return v[7]==="soundEffectPanel"&&v[6]===""?0:v[7]==="musicPanel"&&v[6]===""?1:2}r=w(l),a=S[r]=A[r](l);const P=[ds,us,cs,as],T=[];function L(v,y){return v[7]==="soundEffectPanel"?0:v[7]==="myMusicPanel"?1:v[7]==="textToSpeechPanel"?2:3}return f=L(l),p=T[f]=P[f](l),{c(){e=_("div"),ke(t.$$.fragment),i=M(),ke(o.$$.fragment),s=M(),a.c(),u=M(),d=_("div"),p.c(),k(e,"class",c=`${l[11]} ${l[12]==="dark"&&l[12]}`),k(d,"class","main-panel-area")},m(v,y){E(v,e,y),he(t,e,null),m(e,i),he(o,e,null),m(e,s),S[r].m(e,null),E(v,u,y),E(v,d,y),T[f].m(d,null),g=!0},p(v,y){const V={};y[0]&512&&(V.resetSearchResult=v[9]),y[0]&128&&(V.searchType=ve.AUDIO_STRING_TABS[v[7]]),y[0]&4096&&(V.theme=v[12]),y[0]&128&&(V.currentPanel=v[7]),!n&&y[0]&16384&&(n=!0,V.resetElemValue=v[14],Je(()=>n=!1)),t.$set(V);const U={};y[0]&4096&&(U.theme=v[12]),y[0]&16384&&(U.searchBoxReset=v[14]),y[0]&262144&&(U.isOpenFromBgmPanel=v[18]),y[0]&65536&&(U.isLoggedIn=v[16]),y[0]&8192&&(U.activeIndex=v[13]),o.$set(U);let B=r;r=w(v),r===B?S[r].p(v,y):(Le(),K(S[B],1,1,()=>{S[B]=null}),Ie(),a=S[r],a?a.p(v,y):(a=S[r]=A[r](v),a.c()),G(a,1),a.m(e,null)),(!g||y[0]&6144&&c!==(c=`${v[11]} ${v[12]==="dark"&&v[12]}`))&&k(e,"class",c);let z=f;f=L(v),f===z?T[f].p(v,y):(Le(),K(T[z],1,1,()=>{T[z]=null}),Ie(),p=T[f],p?p.p(v,y):(p=T[f]=P[f](v),p.c()),G(p,1),p.m(d,null))},i(v){g||(G(t.$$.fragment,v),G(o.$$.fragment,v),G(a),G(p),g=!0)},o(v){K(t.$$.fragment,v),K(o.$$.fragment,v),K(a),K(p),g=!1},d(v){v&&D(e),ge(t),ge(o),S[r].d(),v&&D(u),v&&D(d),T[f].d()}}}function xo(l){let e,t,n,i,o,s,r,a,c,u,d;function f(A){l[37](A)}let p={setSearchText:l[23],resetSearchResult:ms,searchType:"Video",theme:l[12],currentPanel:l[8],searchVideoFootage:l[17]};l[14]!==void 0&&(p.resetElemValue=l[14]),t=new El({props:p}),pe.push(()=>We(t,"resetElemValue",f,l[14])),o=new Yo({props:{externalVideoProvider:l[15],onChange:l[38]}});const g=[is,ns,ls,ts,es],h=[];function b(A,S){return A[6].length>0&&A[15]?0:A[8]==="myVideoPanel"?1:A[8]==="videoLibraryPanel"?2:A[8]==="recentVideoPanel"?3:4}return c=b(l),u=h[c]=g[c](l),{c(){e=_("div"),ke(t.$$.fragment),i=M(),ke(o.$$.fragment),r=M(),a=_("div"),u.c(),k(e,"class",s=`${l[11]} video-top-area ${l[12]}`),se(e,"display",l[16]?"flex":"none"),k(a,"class","main-panel-area"),se(a,"height","100%")},m(A,S){E(A,e,S),he(t,e,null),m(e,i),he(o,e,null),E(A,r,S),E(A,a,S),h[c].m(a,null),d=!0},p(A,S){const w={};S[0]&4096&&(w.theme=A[12]),S[0]&256&&(w.currentPanel=A[8]),S[0]&131072&&(w.searchVideoFootage=A[17]),!n&&S[0]&16384&&(n=!0,w.resetElemValue=A[14],Je(()=>n=!1)),t.$set(w);const P={};S[0]&32768&&(P.externalVideoProvider=A[15]),S[0]&32768&&(P.onChange=A[38]),o.$set(P),(!d||S[0]&6144&&s!==(s=`${A[11]} video-top-area ${A[12]}`))&&k(e,"class",s),S[0]&65536&&se(e,"display",A[16]?"flex":"none");let T=c;c=b(A),c===T?h[c].p(A,S):(Le(),K(h[T],1,1,()=>{h[T]=null}),Ie(),u=h[c],u?u.p(A,S):(u=h[c]=g[c](A),u.c()),G(u,1),u.m(a,null))},i(A){d||(G(t.$$.fragment,A),G(o.$$.fragment,A),G(u),d=!0)},o(A){K(t.$$.fragment,A),K(o.$$.fragment,A),K(u),d=!1},d(A){A&&D(e),ge(t),ge(o),A&&D(r),A&&D(a),h[c].d()}}}function $o(l){let e,t,n,i,o,s;return{c(){e=_("div"),t=_("h4"),t.textContent="Fully manage your video clips.",n=M(),i=_("a"),i.textContent="Login to begin",k(i,"id","login-link"),k(i,"href",null),k(e,"id","not-login-warning")},m(r,a){E(r,e,a),m(e,t),m(e,n),m(e,i),o||(s=Q(i,"click",l[32]),o=!0)},p:F,i:F,o:F,d(r){r&&D(e),o=!1,s()}}}function es(l){let e;return{c(){e=_("h1"),e.textContent="myRecordingsPanel"},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function ts(l){let e;return{c(){e=_("h1"),e.textContent="recentVideoPanel"},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function ls(l){let e;return{c(){e=_("h1"),e.textContent="videoLibraryPanel"},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function ns(l){let e,t;return e=new ho({}),e.$on("addVideo",l[29]),e.$on("dragStart",l[30]),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p:F,i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function is(l){let e,t;return e=new qo({props:{searchKey:l[6],externalVideoProvider:l[15],resetSearchBox:l[14],setSearchVideoFootage:l[33]}}),e.$on("addVideo",l[29]),e.$on("dragStart",l[30]),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[0]&64&&(o.searchKey=n[6]),i[0]&32768&&(o.externalVideoProvider=n[15]),i[0]&16384&&(o.resetSearchBox=n[14]),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function os(l){let e;return{c(){e=_("div")},m(t,n){E(t,e,n)},p:F,i:F,o:F,d(t){t&&D(e)}}}function ss(l){let e,t,n,i;return e=new St({props:{assetFolderId:ve.ASSET_FILE_ID.allGenreId,selectHandler:l[20],elementId:"select-1",defaultTitle:"Genres",option:{fetch:!0,all:"All genres",id:ve.ASSET_FILE_ID.allMusic},theme:l[12],styleType:"inline"}}),n=new St({props:{assetFolderId:ve.ASSET_FILE_ID.allMoodId,selectHandler:l[21],elementId:"select-2",defaultTitle:"Moods",option:{fetch:!0,all:"All moods",id:ve.ASSET_FILE_ID.allMusic},theme:l[12],styleType:"inline"}}),{c(){ke(e.$$.fragment),t=M(),ke(n.$$.fragment)},m(o,s){he(e,o,s),E(o,t,s),he(n,o,s),i=!0},p(o,s){const r={};s[0]&4096&&(r.theme=o[12]),e.$set(r);const a={};s[0]&4096&&(a.theme=o[12]),n.$set(a)},i(o){i||(G(e.$$.fragment,o),G(n.$$.fragment,o),i=!0)},o(o){K(e.$$.fragment,o),K(n.$$.fragment,o),i=!1},d(o){ge(e,o),o&&D(t),ge(n,o)}}}function rs(l){let e,t;return e=new St({props:{assetFolderId:ve.ASSET_FILE_ID.allSoundEffectId,selectHandler:l[22],elementId:"select-1",defaultTitle:"Categories",option:{fetch:!0,all:"All categories",id:ve.ASSET_FILE_ID.allSoundEffectId},theme:l[12],styleType:"fullwidth"}}),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[0]&4096&&(o.theme=n[12]),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function as(l){let e,t,n;function i(s){l[36](s)}let o={selectedGenre:l[3],selectedMood:l[4],searchKeyword:l[6],isOpenFromBgmPanel:l[18]};return l[9]!==void 0&&(o.resetSearchRes=l[9]),e=new On({props:o}),pe.push(()=>We(e,"resetSearchRes",i,l[9])),e.$on("addAudio",l[28]),e.$on("addBgm",l[31]),{c(){ke(e.$$.fragment)},m(s,r){he(e,s,r),n=!0},p(s,r){const a={};r[0]&8&&(a.selectedGenre=s[3]),r[0]&16&&(a.selectedMood=s[4]),r[0]&64&&(a.searchKeyword=s[6]),r[0]&262144&&(a.isOpenFromBgmPanel=s[18]),!t&&r[0]&512&&(t=!0,a.resetSearchRes=s[9],Je(()=>t=!1)),e.$set(a)},i(s){n||(G(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ge(e,s)}}}function cs(l){let e,t,n;function i(s){l[35](s)}let o={speakersData:l[10],theme:l[12],updateTabActiveIndex:l[27]};return l[2]!==void 0&&(o.showSpeakerPanel=l[2]),e=new Yi({props:o}),pe.push(()=>We(e,"showSpeakerPanel",i,l[2])),e.$on("addAudio",l[28]),{c(){ke(e.$$.fragment)},m(s,r){he(e,s,r),n=!0},p(s,r){const a={};r[0]&1024&&(a.speakersData=s[10]),r[0]&4096&&(a.theme=s[12]),!t&&r[0]&4&&(t=!0,a.showSpeakerPanel=s[2],Je(()=>t=!1)),e.$set(a)},i(s){n||(G(e.$$.fragment,s),n=!0)},o(s){K(e.$$.fragment,s),n=!1},d(s){ge(e,s)}}}function us(l){let e,t;return e=new li({props:{searchKeyword:l[6],theme:l[12],isOpenFromBgmPanel:l[18]}}),e.$on("addAudio",l[28]),e.$on("addBgm",l[31]),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[0]&64&&(o.searchKeyword=n[6]),i[0]&4096&&(o.theme=n[12]),i[0]&262144&&(o.isOpenFromBgmPanel=n[18]),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function ds(l){let e,t;return e=new Rn({props:{selectedCategory:l[5],searchKeyword:l[6]}}),e.$on("addAudio",l[28]),{c(){ke(e.$$.fragment)},m(n,i){he(e,n,i),t=!0},p(n,i){const o={};i[0]&32&&(o.selectedCategory=n[5]),i[0]&64&&(o.searchKeyword=n[6]),e.$set(o)},i(n){t||(G(e.$$.fragment,n),t=!0)},o(n){K(e.$$.fragment,n),t=!1},d(n){ge(e,n)}}}function fs(l){let e,t,n,i,o;const s=[Zo,Xo,Qo],r=[];function a(c,u){return c[0]==="audio"||c[0]==="textToSpeechPanel"?0:c[0]==="bgmPanel"?1:c[0]==="video"?2:-1}return~(n=a(l))&&(i=r[n]=s[n](l)),{c(){e=_("main"),t=_("div"),i&&i.c(),k(t,"class","main"),se(t,"height",l[0]==="video"&&"100%")},m(c,u){E(c,e,u),m(e,t),~n&&r[n].m(t,null),o=!0},p(c,u){let d=n;n=a(c),n===d?~n&&r[n].p(c,u):(i&&(Le(),K(r[d],1,1,()=>{r[d]=null}),Ie()),~n?(i=r[n],i?i.p(c,u):(i=r[n]=s[n](c),i.c()),G(i,1),i.m(t,null)):i=null),u[0]&1&&se(t,"height",c[0]==="video"&&"100%")},i(c){o||(G(i),o=!0)},o(c){K(i),o=!1},d(c){c&&D(e),~n&&r[n].d()}}}const ms=()=>{};function _s(l,e,t){let n;le(()=>import("./assets/mwc-select-42aecfa5.js"),["assets/mwc-select-42aecfa5.js","assets/lit-element-82482f35.js","assets/mwc-line-ripple-directive-78fa91df.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/query-c429e280.js","assets/mwc-menu-51fad5b3.js","assets/mwc-list-d6b40bd0.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/state-bd87d4a2.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js","assets/mwc-icon-e194af94.js","assets/form-element-8d951ec1.js","assets/event-options-6accd613.js"]),le(()=>import("./assets/mwc-list-d6b40bd0.js").then(q=>q.m),["assets/mwc-list-d6b40bd0.js","assets/lit-element-82482f35.js","assets/ripple-handlers-3e477e00.js","assets/ponyfill-6fa87599.js","assets/foundation-494709f2.js","assets/class-map-1571728b.js","assets/state-bd87d4a2.js","assets/query-c429e280.js","assets/style-map-957786c8.js","assets/observer-256e3ff7.js","assets/if-defined-d9313107.js"]);let{paletteType:i}=e,{getBgmFunc:o}=e,s,r,a,c="",u="musicPanel",d="myVideoPanel",f,p,g,h="top-area",b=window.uiThemeForReact||window.uiTheme,A,S,w="Pixabay",P,T,L=!1,v=pt("login");st(l,v,q=>t(39,n=q));const y=()=>{t(16,P=window.onlineClient.isLoggedIn())};window.addEventListener("svelteThemeUpdated",()=>{t(12,b=window.uiThemeForReact||window.uiTheme)});const V=()=>{tt.getTtsJson().then(q=>t(10,g=q))},U=ze(),B=q=>{t(3,s=q)},z=q=>{t(4,r=q)},j=q=>{t(5,a=q)},R=q=>{t(6,c=q)},ee=q=>{t(7,u=q),localStorage.getItem("ttsText")&&localStorage.removeItem("ttsText")},N=q=>{q&&t(0,i=q)},ie=q=>{t(18,L=q)},ne=(q,be)=>{t(13,A=""),t(7,u=q),t(13,A=be)},Z=()=>{ne("textToSpeechPanel",3)},x=q=>{const{detail:be}=q,{id:Se,name:we,type:ye,duration:Ce,url:Ae}=be;U("addAudio",{id:Se,name:we,type:ye,duration:Ce,url:Ae})},$=q=>{const{detail:be}=q,{id:Se,name:we,type:ye,thumbnail:Ce,duration:Ae,url:J,width:Te,height:De}=be;U("addVideo",{id:Se,name:we,type:ye,thumbnail:Ce,duration:Number(Ae),url:J,width:Number(Te),height:Number(De)})},ae=q=>{const{detail:be}=q,{videoId:Se,videoUrl:we,name:ye,thumbnail:Ce,duration:Ae,width:J,height:Te,dragStartEvent:De,downScaleVideoFunction:Me}=be;U("dragStart",{videoId:Se,videoUrl:we,name:ye,thumbnail:Ce,duration:Ae,width:J,height:Te,dragStartEvent:De,downScaleVideoFunction:Me})},Y=q=>{const{detail:be}=q,Se="openBackgroundMusicPanel",{action:we,id:ye,name:Ce,type:Ae,duration:J,url:Te,options:De}=be;L&&N("bgmPanel"),U("addBgm",{action:we,id:ye,name:Ce,type:Ae,duration:J,url:Te,options:De,actionId:Se})},re=async()=>{n&&(await n(),y())},H=q=>{t(17,T=q)};function X(q){S=q,t(14,S)}function ue(q){p=q,t(2,p)}function C(q){f=q,t(9,f)}function I(q){S=q,t(14,S)}const oe=q=>{t(15,w=q)};return l.$$set=q=>{"paletteType"in q&&t(0,i=q.paletteType),"getBgmFunc"in q&&t(1,o=q.getBgmFunc)},l.$$.update=()=>{l.$$.dirty[0]&4&&(p?t(11,h="top-area-hidden"):t(11,h="top-area")),l.$$.dirty[0]&1&&i==="textToSpeechPanel"&&Z()},V(),y(),[i,o,p,s,r,a,c,u,d,f,g,h,b,A,S,w,P,T,L,v,B,z,j,R,ee,N,ie,ne,x,$,ae,Y,re,H,X,ue,C,I,oe]}class ps extends Oe{constructor(e){super(),Pe(this,e,_s,fs,Ee,{paletteType:0,getBgmFunc:1},null,[-1,-1])}}const gs=`.selection-main mwc-select,.top-selection-main mwc-select{width:100%;margin-top:10px;margin-bottom:5px;--mdc-theme-primary: #1976d2;--mdc-menu-item-height: 30px}.selection-main.dark mwc-select,.top-selection-main.dark mwc-select{--mdc-theme-primary: #59a1e9;--mdc-select-outlined-idle-border-color:#858585;--mdc-select-outlined-hover-border-color: #858585;--mdc-select-dropdown-icon-color: #858585;--mdc-select-label-ink-color: #DFDFDF;--mdc-select-ink-color: #F1F1F1}.selection-main mwc-list-item,.top-selection-main mwc-list-item{min-width:250px}.selection-main.inline{width:calc(50% - 3px);display:inline-block}.selection-main.inline mwc-list-item{min-width:105px}.music-list-item .loading-circle{text-align:center}.music-list-item .loading-circle h4{margin:0}.music-list-item .loading-circle-gen{display:flex;justify-content:center;align-items:center}.music-list-item .user-title-tooltip{position:absolute;left:85px;margin-top:5px;z-index:1;--mdc-menu-min-width: 200px}.music-list-item .user-title-tooltip h5{margin:0;padding:0 8px;font-weight:700}.music-list-item .user-title-tooltip p{padding:2px 8px;margin:0;font-size:12px;line-height:1.2rem}.music-list-item .user-audio-drop-menu{position:absolute;left:67px;z-index:1}.music-list-item .music-drop-menu{position:relative;top:45px;right:140px}.music-list-item .user-audio-drop-menu mwc-list-item,.music-list-item .music-drop-menu mwc-list-item{height:35px}.music-list-item mwc-circular-progress{--mdc-theme-primary: #1976d2}.music-list-item .user-music-control-area mwc-checkbox{margin-left:-10px}.music-list-item .user-music-control-area.dark mwc-checkbox{--mdc-checkbox-unchecked-color: #3E4554}.music-list-item .user-music-items-list{position:absolute;left:0px;right:0px;top:235px;height:calc(100% - 270px);overflow:auto}.music-list-item .music-items{width:100%;border-collapse:separate;border-spacing:0 10px}.music-list-item .user-music-items-list .user-music-items ul.user-music-ul{list-style:none;list-style-position:outside;padding:3px 0 3px 3px;transition:background-color .3s ease;margin:0 0 5px}.music-list-item .user-music-items-list .user-music-items ul:hover,.music-list-item .user-music-items-list .user-music-items ul.user-music-ul.hover{background-color:#eaeaea91;border-radius:5px}.music-list-item .user-music-items-list .user-music-items ul li{display:flex;align-items:center;font-size:12px}.music-list-item .user-music-items #check-box-area{width:40px}.user-music-items-list .user-music-items mwc-checkbox{--mdc-checkbox-state-layer-size: 40px}.user-music-items-list.dark .user-music-items mwc-checkbox{--mdc-checkbox-unchecked-color: #3E4554}.music-list-item .user-music-items-list .user-music-items .items-icon{background-color:#5bca99;padding:2px 7px;border-radius:5px;margin-right:10px;color:#fff}.music-list-item .user-music-items-list .user-music-items .items-icon.tts{background-color:#cab95b}.music-list-item .user-music-items-list .user-music-items .items-icon #user-items-icon{padding-top:6px}.music-list-item .user-music-items-list .user-music-items li #user-items-play-btn{display:none;padding:0;position:absolute;left:50px;background-color:#fff;border-radius:50%;color:#1976d2}.music-list-item .user-music-items-list .user-music-items li #user-items-dialog-btn{display:none;padding:0;margin-bottom:21px;position:absolute;right:30px;background-color:#363636;border-radius:5px;color:#fff;font-size:17px;cursor:pointer}.music-list-item .user-music-items-list .user-music-items li #user-items-speech-btn{display:none;padding:0;margin-bottom:21px;position:absolute;right:10px;background-color:#363636;border-radius:5px;color:#fff;font-size:17px;cursor:pointer}.music-list-item .user-music-items-list .user-music-items ul:hover li #user-items-play-btn,.music-list-item .user-music-items-list .user-music-items ul:hover li #user-items-dialog-btn,.music-list-item .user-music-items-list .user-music-items ul:hover li #user-items-speech-btn,.music-list-item .user-music-items-list .user-music-items ul.user-music-ul.hover li #user-items-play-btn,.music-list-item .user-music-items-list .user-music-items ul.user-music-ul.hover li #user-items-dialog-btn,.music-list-item .user-music-items-list .user-music-items ul.user-music-ul.hover li #user-items-speech-btn{display:block}.music-list-item .user-music-items-list .user-music-items ul:hover .items-icon,.music-list-item .user-music-items-list .user-music-items ul.user-music-ul.hover .items-icon{background-color:#42926f}.music-list-item .user-music-items-list .user-music-items ul:hover .items-icon.tts,.music-list-item .user-music-items-list .user-music-items ul.user-music-ul.hover .items-icon.tts{background-color:#9e9045}.music-list-item .user-music-items-list .user-music-items .items-data{display:grid}.music-list-item .user-music-items-list .user-music-items .items-name{max-width:200px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.music-list-item #delete-btn{float:right}.music-list-item #audio-icon{background-color:#5bca99;text-align:center;border-radius:5px;color:#fff;width:34px}.music-list-item #audio-icon-gen{background-color:#cab95b;text-align:center;border-radius:5px;color:#fff;width:34px}.music-list-item .user-music-items #audio-icon{background-color:#5bca99;text-align:center;border-radius:5px;color:#fff;width:40px}.music-list-item mwc-icon{padding-top:5px}.music-list-item #audio-title-short{max-width:100px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.music-list-item #audio-title-short span{font-size:12px;margin-left:10px}.music-list-item #audio-title{max-width:145px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.music-list-item #audio-title span{font-size:12px;margin-left:10px}.music-list-item #audio-title-gen{max-width:180px;display:inline-grid}.music-list-item #audio-title-gen span{font-size:12px;margin-left:10px}.music-list-item #audio-title-gen span#audio-title-gen-name{max-width:130px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.music-list-item #remove-btn{color:#6c757d;float:right}.music-list-item #action-btn{color:#2e7d32;float:right}.music-list-item #play-btn{color:#1976d2;float:right}.music-list-item #action-btn mwc-icon,.music-list-item #play-btn mwc-icon,.music-list-item #remove-btn mwc-icon{padding:5px;cursor:pointer;border-radius:100%;transition:background-color .5s ease;user-select:none;-webkit-user-select:none}.music-list-item #action-btn mwc-icon:hover{background-color:#2e7d3233}.music-list-item #play-btn mwc-icon:hover{background-color:#1976d233}.music-list-item #remove-btn mwc-icon:hover{background-color:#6c757d33}.music-list-item .user-music-items #action-btn mwc-icon,.music-list-item .user-music-items #play-btn mwc-icon{padding:10px;font-size:26px;cursor:pointer;border-radius:100%;transition:background-color .5s ease;user-select:none;-webkit-user-select:none}.music-list-item #remove-btn mwc-icon-button{--mdc-icon-button-size: 34px}.video-list-item{position:absolute;right:0;left:0;top:115px;height:calc(100% - 115px);overflow:auto}.video-list-item .video-item-block{display:inline-block}.video-list-item .video-player-popup{justify-content:center;align-items:center;position:fixed;top:0;left:0;background-color:#262626c7;width:100%;height:100%}.video-list-item .video-player-popup video{position:relative;margin:auto;padding:0;max-width:90%;max-height:80%;text-align:center}.video-list-item .video-player-popup mwc-icon{position:fixed;color:#fff;cursor:pointer;font-size:32px;top:2%;left:95%}.video-list-item .video-item-block .video-block{width:130px;height:100%;background-position:center;background-repeat:no-repeat;background-size:cover;margin:6px 5px}.video-list-item .video-item-block .video-block .video-play-btn{color:#f5f5f5;transition:.5s ease;display:flex;justify-content:center;align-items:center;padding-top:5%;cursor:pointer;opacity:0}.video-list-item .video-item-block .video-block .video-job{color:#f5f5f5;display:flex;justify-content:center;align-items:center;padding-top:5%;cursor:pointer}.video-list-item .video-item-block .video-block .video-job .circular-progress{width:16px;height:16px;border-radius:50%;border:4px solid rgb(0,0,0);border-top-color:#fff;animation:spin 1s ease-in-out infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.video-list-item .video-item-block .video-block .video-more-func-btn{color:#f5f5f5;transition:.5s ease;display:flex;justify-content:center;align-items:center;padding-top:0%;padding-left:80%;cursor:pointer;opacity:0}.video-list-item .video-item-block .video-block .video-inner-block:hover{background-color:#35353580;transition:.5s ease}.video-list-item .video-item-block .video-block:hover .video-play-btn,.video-list-item .video-item-block .video-block:hover .video-more-func-btn{opacity:1}.video-list-item .video-item-block .video-duration{margin-top:7px;background-color:#35353580}.video-list-item .video-item-block .video-duration h5{text-align:end;margin:0;color:#fff;padding-right:3px}.video-list-item .video-item-block .video-block .video-drop-menu{position:relative;top:-55px;left:0px}.video-list-item .video-item-block .video-block .video-drop-menu mwc-list-item,.video-list-item .video-item-block .video-block .video-drop-menu-last mwc-list-item{height:35px;min-width:98px}.video-list-item .video-item-block .video-block .video-drop-menu-last{position:relative;top:-161px;left:10px}.video-item-block .video-block-dialog{--mdc-dialog-z-index: 2;--mdc-dialog-scrim-color: rgba(0, 0, 0, 0)}.video-item-block .video-block-dialog #video-name{display:flex;align-items:center;margin-bottom:10px}.video-item-block .video-block-dialog #video-name>#video-name-icon{padding-right:10px}.video-item-block .video-block-dialog #video-name h5{margin:0;white-space:nowrap;width:280px;overflow:hidden;text-overflow:ellipsis;font-size:16px}.video-item-block .video-block-dialog ul{list-style-type:none;margin:0;padding:0}.video-item-block .video-block-dialog ul li{white-space:nowrap;width:320px;overflow:hidden;text-overflow:ellipsis;font-size:14px}.main{padding:8px}.main .top-area{position:sticky;top:0;background-color:#fff;z-index:1}.main .top-area-hidden{display:none}.main .top-area.dark{background-color:#2a2a2a}.main .top-area .section-bar{margin-top:15px;margin-bottom:15px}.music-panel{position:absolute;left:8px;right:0px;top:165px;height:calc(100% - 165px);overflow:auto}.music-panel.search-mode{top:unset;height:calc(100% - 115px)}.music-panel .result-not-found{display:flex;justify-content:center;align-items:center}.music-panel .result-not-found h4{margin-left:5px}.sound-effect-panel{position:absolute;left:8px;right:0px;top:165px;height:calc(100% - 165px);overflow:auto}.sound-effect-panel.search-mode{top:unset;height:calc(100% - 115px)}.sound-effect-panel .result-not-found{display:flex;justify-content:center;align-items:center}.sound-effect-panel .result-not-found h4{margin-left:5px}.search-box-main.hidden{display:none}.search-box-main mwc-textfield.main-search{--mdc-theme-primary: #1976d2;height:35px;width:100%;margin-top:10px;margin-bottom:5px;--mdc-icon-size: 18px;color:#000}.search-box-main mwc-textfield.main-search.dark{border-radius:5px;background:#2a2a2a;--mdc-text-field-outlined-idle-border-color: #858585;--mdc-text-field-outlined-hover-border-color: #858585;--mdc-text-field-label-icon-color: #858585;--mdc-text-field-label-ink-color: #dfdfdf;--mdc-text-field-ink-color: #f1f1f1}.tools-panel#tools-panel{position:absolute;left:0;padding-right:3px;height:calc(100% - 65px)}.tools-panel mwc-button#back-btn{--mdc-typography-button-text-transform: none;margin-bottom:10px}.tools-panel.dark mwc-button#back-btn{--mdc-theme-primary: #DFDFDF;--mdc-button-outline-color: #DFDFDF}.tools-panel #tts-tool-label{text-align:left;font-size:12px;margin:0}.tools-panel #tts-tool-label>span{color:red;margin-right:3px}.tools-panel .tts-text-area{margin-top:5px;width:auto}.tools-panel .tts-text-area #tts-tool-label{background-color:#fff;padding:0 5px;width:fit-content;position:relative;top:0px;left:10px}.tools-panel .tts-text-area #tts-textarea{border:2px solid #BBBBBB;resize:none;width:265px;padding:12px;border-radius:4px;margin-top:-10px;font-size:16px;font-family:Helvetica;color:#505050;line-height:1.5rem}.tools-panel .tts-text-area #tts-textarea:focus{outline-color:#1976d2;outline-width:2px}.tools-panel.dark .tts-text-area #tts-tool-label{background-color:#2a2a2a}.tools-panel.dark .tts-text-area #tts-textarea{border:2px solid #707070;background-color:#2a2a2a;color:#fff}.tools-panel.dark .tts-text-area #tts-textarea:focus{outline-color:#fff0}.tools-panel .tts-text-area-tools{text-align:right}.tools-panel.dark .tts-text-area-tools{border-bottom-left-radius:4px;border-bottom-right-radius:4px;margin-bottom:5px}.tools-panel .tts-text-area-tools img{width:28px;cursor:pointer}.tools-panel .tts-text-area-tools img.icon-disabled{width:28px;cursor:not-allowed}.tools-panel .quota-panel{position:absolute;left:0px;right:0px;bottom:0px}.tools-panel .quota-panel .quota-table-progress{padding-left:10px;padding-right:10px}.tools-panel .quota-panel .quota-table-gap{padding:0;height:10px}.tools-panel .quota-panel .quota-table-quota{width:100%;padding-left:10px;font-size:smaller}.tools-panel .quota-panel .quota-table-add-more{white-space:nowrap;padding-right:10px;font-size:smaller}.tools-panel .quota-panel .quota-table-add-more span{text-decoration:underline;cursor:pointer}.tts-lang-selector{margin-top:0}.tts-model-selector{margin-top:5px}.tools-panel #section-title{margin-bottom:5px;font-weight:100}.tools-panel .selected-speakers .speaker-info-area{display:flex;align-items:center;padding:0 5px;border:2px solid #bbbbbb;border-radius:5px;cursor:pointer;min-height:32px;margin-top:2px;margin-bottom:3px;transition:background-color .3s ease}.tools-panel .selected-speakers .speaker-info-area:hover{background-color:#eaeaea91}.tools-panel.dark .selected-speakers .speaker-info-area:hover{background-color:#eaeaea21}.tools-panel .selected-speakers .speaker-info-area #speaker-data{margin-left:10px;max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.tools-panel .selected-speakers .speaker-info-area mwc-icon{position:absolute;right:10px;color:#bbb}.tools-panel .selected-speakers .recent-speakers{background-color:#1976d2;font-size:11px;border-radius:5px;padding:3px 5px;color:#f3f3f3;cursor:pointer}.tools-panel .selected-speakers .recent-speakers.disabled{background-color:#e0e0e0;color:#a5a5a5;cursor:default}.tools-panel mwc-button{--mdc-typography-button-letter-spacing: .5px;--mdc-typography-button-text-transform: none}.tools-panel .control-button-area{display:flex;justify-content:space-between}.tools-panel .control-button-area mwc-button{margin-top:10px}.tools-panel.dark .control-button-area mwc-button{--mdc-button-disabled-outline-color: #7b7b7b;--mdc-button-outline-color: #7b7b7b;--mdc-button-disabled-ink-color: #787878}.tools-panel .control-button-area mwc-button#cancel-btn{--mdc-theme-primary: #d32f2f}.tools-panel .result-area{margin-top:20px;background-color:#eaeaeaa6;padding:0 10px;border-radius:4px}.tools-panel.dark .result-area{background-color:#3d3d3d}.tools-panel .result-error{background-color:#ef5350;color:#fff;border-radius:10px;font-size:13px;padding:5px}.tools-panel .instruction-area{margin-top:20px;font-size:12px;color:gray}.tools-panel .instruction-area mwc-icon{font-size:15px;position:absolute;padding-top:1px}.tools-panel .instruction-area ol{list-style-position:outside;padding-left:30px}.tools-panel .instruction-area ol li{padding-left:10px;margin-bottom:5px}.tools-panel .speaker-list{position:absolute;top:175px;left:17px;right:0px;overflow:auto}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-thumb{width:8px;background-color:#ebebe8;border:1px solid #ffffff;border-radius:4px}::-webkit-scrollbar-thumb:hover{background-color:#999}.tools-panel .speaker-list .speaker-item{position:relative;display:inline-block}.tools-panel .speaker-list .speaker-item img{width:65px}#img-normal{border:#6C757D 3px solid;margin:8px 8px 1px}#img-selected{border:#42a5f5 4px solid;margin:7px 7px 0}#play-btn-img-normal{display:none;position:absolute;border-radius:50%;z-index:5;right:12px;top:55px;background-color:#4caf50;color:#fff}#play-btn-img-selected{display:block;position:absolute;border-radius:50%;z-index:5;right:12px;top:50px;background-color:#4caf50;color:#fff;cursor:pointer;text-align:center;width:25px;height:25px;line-height:25px}.tools-panel .speaker-list .speaker-item #speaker-name{text-align:center;font-size:12px;max-width:74px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:-20px 8px 0}.tools-panel .speaker-list .speaker-list-text-area,.tools-panel .speaker-list .speaker-list-text-area a{text-align:center}.tools-panel .speaker-btn-group{position:absolute;bottom:0px;left:0px;right:0px}.tools-panel .speaker-btn-group #selected-speaker-title{text-align:center;font-size:14px;display:flex;justify-content:center;align-items:center;margin:0}.tools-panel .speaker-btn-group #selected-speaker-title>span{margin-left:5px}.tools-panel .speaker-btn-group #selected-speaker-title img{margin-left:5px;border:2px solid #42A5F5}.tools-panel .speaker-btn-group #selected-speaker-holder{margin-bottom:0;text-align:center;font-size:14px;pointer-events:none;opacity:0}.tools-panel .speaker-btn-group #selected-speaker-name{text-align:center;font-size:14px}.tools-panel .speaker-btn-group table{margin:auto}.tools-panel .speaker-btn-group table td{height:40px;vertical-align:middle}.tools-panel .speaker-btn-group .speaker-confirm-btn{margin:5px auto;width:fit-content}.tools-panel .speaker-btn-group .speaker-confirm-btn mwc-button{margin-top:10px;width:215px;text-transform:none}.tools-panel #cancel-fetch-link{cursor:pointer;text-decoration:underline;color:#d32f2f}.tools-panel #cancel-fetch-link:hover{color:#830000}.tools-panel mwc-button{--mdc-theme-primary: #1976d2;--mdc-theme-on-primary: white}.tools-panel .audio-list span{text-align:left;display:block}.main-button-tab{overflow:hidden;display:grid;grid-template-columns:auto 1fr auto}.main-button-tab mwc-tab-bar{overflow:hidden;--mdc-typography-button-letter-spacing: .5px;--mdc-typography-button-text-transform: none;--mdc-tab-horizontal-padding: 10px;--mdc-tab-height: 32px;--mdc-theme-primary: #1976d2;margin-top:8px;margin-bottom:8px}.main-button-tab.dark mwc-tab-bar{--mdc-theme-primary: #59a1e9;--mdc-tab-text-label-color-default: #DFDFDF}.main-button-tab button{font-size:1rem;background-color:var(--mdc-tab-color-default);border:none;color:var(--mdc-tab-text-label-color-default, rgba(0, 0, 0, .6));cursor:pointer;visibility:hidden}.main-button-tab.dark button{color:var(--mdc-tab-text-label-color-default, rgba(255, 255, 255, .6))}.main-button-tab button.visible{visibility:visible}.main-button-tab button.visible:active{background-color:#e4effa}.main-button-tab.dark button.visible:active{background-color:#e4effa44}.my-music-panel{margin-top:10px}.my-music-panel #background-music-title{font-size:15px}.my-music-panel .user-asset-filter{height:32px;display:flex;justify-content:center;align-items:center;border:2px solid #bbbbbb;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.my-music-panel .user-asset-filter.disabled{cursor:not-allowed;color:gray}.my-music-panel .user-asset-filter:hover{background-color:#eaeaea91}.my-music-panel.dark .user-asset-filter:hover{background-color:#eaeaea21}.my-music-panel .user-asset-filter mwc-icon{position:absolute;right:10px;color:#bbb}.my-music-panel .user-asset-filter:hover mwc-icon{color:#838383}.my-music-panel .user-asset-drop-menu{position:relative;bottom:65px}.my-music-panel mwc-menu.user-asset-drop-menu mwc-list-item{min-width:250px;height:35px}.my-music-panel #no-audio-warning{display:flex;justify-content:center;align-items:center}.my-music-panel #no-audio-warning h4{margin-left:5px}.my-music-panel .data-loading-area{text-align:center}.my-music-panel .data-loading-area mwc-circular-progress{--mdc-theme-primary: #1976d2}.my-music-panel .data-loading-area h4{margin:0}.my-music-panel #not-login-warning{text-align:center}.my-music-panel #login-link{color:#42a5f5;cursor:pointer}.my-music-panel #login-link:hover{color:#1976d2}.my-music-panel #stock-music-link{color:#198754;cursor:pointer}.my-music-panel #stock-music-link:hover{color:#0f5132}.my-music-panel #upload-btn{margin-bottom:10px}.my-music-panel mwc-button{--mdc-theme-primary: #1976d2;--mdc-theme-on-primary: white;--mdc-typography-button-letter-spacing: .5px;--mdc-typography-button-text-transform: none}.my-music-panel #upload-bgm-btn{margin-top:10px;margin-bottom:10px}.my-music-panel .bgm-volume-area mwc-slider{--mdc-theme-primary: #1976d2}.my-music-panel .bgm-volume-area #title{margin:5px 0 0}.my-video-panel #no-audio-warning{display:flex;justify-content:center;align-items:center}.my-video-panel #no-audio-warning h4{margin-left:5px}#not-login-warning{text-align:center}#login-link{color:#42a5f5;cursor:pointer}#login-link:hover{color:#1976d2}.my-video-panel #upload-btn{margin-top:10px;margin-bottom:10px}.my-video-panel mwc-button{--mdc-theme-primary: #1976d2;--mdc-theme-on-primary: white;--mdc-typography-button-letter-spacing: .5px;--mdc-typography-button-text-transform: none}.external-video-panel-container mwc-circular-progress{--mdc-theme-primary: #1976d2}.video-top-area .search-box-main{width:100%}.video-top-area .search-box-main mwc-textfield{margin:0;height:40px}.video-top-area.dark .search-box-main mwc-textfield{background:#2a2a2a;--mdc-text-field-outlined-idle-border-color: #858585;--mdc-text-field-outlined-hover-border-color: #858585;--mdc-text-field-label-icon-color: #858585;--mdc-text-field-label-ink-color: #dfdfdf;--mdc-text-field-ink-color: #f1f1f1}.video-top-area mwc-select{width:40%;margin-left:4px;--mdc-theme-primary: #1976d2;--mdc-menu-item-height: 30px}.video-top-area.dark mwc-select{--mdc-theme-primary: #59a1e9;--mdc-select-outlined-idle-border-color: #858585;--mdc-select-outlined-hover-border-color: #858585;--mdc-select-dropdown-icon-color: #858585;--mdc-select-label-ink-color: #dfdfdf;--mdc-select-ink-color: #f1f1f1}.external-video-panel-container mwc-button{--mdc-theme-primary: #1976d2;--mdc-theme-on-primary: white;--mdc-typography-button-letter-spacing: .5px;--mdc-typography-button-text-transform: none}main{height:100%;overflow:hidden}@media (max-height: 866px){.tools-panel .speaker-list .speaker-item img{width:60px}.tools-panel .speaker-list .speaker-item #speaker-name{text-align:center;font-size:12px;max-width:66px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:-20px 8px 0}#play-btn-img-selected{display:block;position:absolute;border-radius:50%;z-index:5;right:12px;top:45px;background-color:#4caf50;color:#fff;cursor:pointer;text-align:center;width:25px;height:25px;line-height:25px}}@media (max-width: 500px){.video-list-item .video-player-popup mwc-icon{left:90%}}@media (max-height: 905px){.tools-panel .speaker-btn-group .speaker-confirm-btn{position:relative}}@media (max-height: 850px){.tools-panel .tts-input-area{position:absolute;overflow:auto}.tools-panel .quota-panel{position:unset;margin-left:-10px}}@media (max-height: 845px){.tools-panel .tts-text-area #tts-textarea{width:254px}}
`;function hs(l){let e,t,n,i;return n=new ps({props:{paletteType:l[1],getBgmFunc:l[2]}}),n.$on("addAudio",l[13]),n.$on("addVideo",l[14]),n.$on("dragStart",l[15]),n.$on("addBgm",l[16]),{c(){e=_("div"),t=M(),ke(n.$$.fragment),this.c=F},m(o,s){E(o,e,s),l[12](e),E(o,t,s),he(n,o,s),i=!0},p(o,[s]){const r={};s&2&&(r.paletteType=o[1]),s&4&&(r.getBgmFunc=o[2]),n.$set(r)},i(o){i||(G(n.$$.fragment,o),i=!0)},o(o){K(n.$$.fragment,o),i=!1},d(o){o&&D(e),l[12](null),o&&D(t),ge(n,o)}}}function bs(l,e,t){let n,{getBackgroundMusicFunc:i}=e,{paletteType:o}=e,s,r,a;Qe(()=>c());const c=()=>{const T=s==null?void 0:s.getRootNode();if(T){T.querySelectorAll("style").forEach(y=>T.removeChild(y));const v=document.createElement("style");v.appendChild(document.createTextNode(gs)),T.appendChild(v)}const L=document.createElement("link");return L.href="https://fonts.googleapis.com/css?family=Material+Icons&display=block",L.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(L),()=>{L.remove()}},u=T=>{if(s==null)console.log("elem is null in handleMainPanelAddAudio()");else{const{detail:L}=T,{id:v,name:y,type:V,duration:U,url:B}=L,z=s.getRootNode(),j={id:v,name:y,type:V,duration:U,url:B},R=new CustomEvent("addAudio",{detail:j});z.host.dispatchEvent(R)}},d=T=>{if(s==null)console.log("elem is null in handleMainPanelAddVideo()");else{const{detail:L}=T,{id:v,name:y,type:V,thumbnail:U,duration:B,url:z,width:j,height:R}=L,ee=s.getRootNode(),N={id:v,name:y,type:V,thumbnail:U,duration:Number(B),url:z,width:Number(j),height:Number(R)},ie=new CustomEvent("addVideo",{detail:N});ee.host.dispatchEvent(ie)}},f=T=>{const{detail:L}=T,{videoId:v,videoUrl:y,name:V,thumbnail:U,duration:B,width:z,height:j,dragStartEvent:R,downScaleVideoFunction:ee}=L,N=s.getRootNode(),ie={videoId:v,videoUrl:y,name:V,thumbnail:U,duration:B,width:z,height:j,dragStartEvent:R,downScaleVideoFunction:ee},ne=new CustomEvent("dragStart",{detail:ie});N.host.dispatchEvent(ne)},p=T=>{if(s==null)console.log("elem is null in handleMainPanelAddBgm()");else{const{detail:L}=T,{action:v,id:y,name:V,type:U,duration:B,url:z,options:j,actionId:R}=L,ee=s.getRootNode(),N={action:v,id:y,name:V,type:U,duration:B,url:z,options:j,actionId:R},ie=new CustomEvent("addBgm",{detail:N});ee.host.dispatchEvent(ie)}};let{onlogin:g}=e;const h=Nn(g);st(l,h,T=>t(17,n=T)),Ql("login",h);function b(T){pe[T?"unshift":"push"](()=>{s=T,t(0,s)})}const A=T=>{u(T)},S=T=>{d(T)},w=T=>{f(T)},P=T=>{p(T)};return l.$$set=T=>{"getBackgroundMusicFunc"in T&&t(8,i=T.getBackgroundMusicFunc),"paletteType"in T&&t(9,o=T.paletteType),"onlogin"in T&&t(11,g=T.onlogin)},l.$$.update=()=>{l.$$.dirty&512&&o!=null&&t(1,r=o),l.$$.dirty&256&&i!=null&&t(2,a=i),l.$$.dirty&2048&&zl(h,n=g,n)},[s,r,a,u,d,f,p,h,i,o,c,g,b,A,S,w,P]}class ks extends Al{constructor(e){super(),Pe(this,{target:this.shadowRoot,props:Wl(this.attributes),customElement:!0},bs,hs,Ee,{getBackgroundMusicFunc:8,paletteType:9,setStyle:10,onlogin:11},null),e&&(e.target&&E(e.target,this,e.anchor),e.props&&(this.$set(e.props),lt()))}static get observedAttributes(){return["getBackgroundMusicFunc","paletteType","setStyle","onlogin"]}get getBackgroundMusicFunc(){return this.$$.ctx[8]}set getBackgroundMusicFunc(e){this.$$set({getBackgroundMusicFunc:e}),lt()}get paletteType(){return this.$$.ctx[9]}set paletteType(e){this.$$set({paletteType:e}),lt()}get setStyle(){return this.$$.ctx[10]}get onlogin(){return this.$$.ctx[11]}set onlogin(e){this.$$set({onlogin:e}),lt()}}customElements.define("audio-palette",ks);